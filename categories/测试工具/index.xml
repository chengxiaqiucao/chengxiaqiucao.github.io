<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>测试工具 on 秋 草 观 “测” 台</title><link>https://chengxiaqiucao.github.io/categories/%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/</link><description>Recent content in 测试工具 on 秋 草 观 “测” 台</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>|by 城下秋草（公众号： 秋草说测试）</copyright><lastBuildDate>Mon, 11 Aug 2025 14:25:29 +0800</lastBuildDate><atom:link href="https://chengxiaqiucao.github.io/categories/%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/index.xml" rel="self" type="application/rss+xml"/><item><title>推荐一个用于页面探索测试的数据辅助工具</title><link>https://chengxiaqiucao.github.io/post/120-autotestdata/</link><pubDate>Mon, 11 Aug 2025 14:25:29 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/120-autotestdata/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/120-autotestdata/title.png" alt="Featured image of post 推荐一个用于页面探索测试的数据辅助工具" />&lt;h2 id="前言">前言
&lt;/h2>&lt;p>测试人员工作中，发现Bug更多还是依靠对应用的探索式测试。&lt;/p>
&lt;p>而在应用的探索过程中，表单中填入测试数据又是一个非常高频的操作，准备多种等价或边界值的测试数据并快速填入，是测试人员在验证和探索功能时必不可少的动作。但包括大量数据的准备，使其符合表单本身的约束，同时还要快速填入使流程尽快向下运行，在执行中其实占用了不少时间，很影响工作效率。&lt;/p>
&lt;p>其实业界较早就有类似的工具来辅助测试，比如 &lt;a class="link" href="https://autotestdata.com/" target="_blank" rel="noopener"
>https://autotestdata.com/&lt;/a> 这个网站就可以根据我们的需要生成相关的 fake 数据，自动化测试中也有相关的fake库，比如python的&lt;code>Faker&lt;/code>。&lt;/p>
&lt;p>但这些数据生成，还是存在根据整理需求、生成数据、拷贝数据，再填入表单这样的操作，总归还不够顺手。&lt;/p>
&lt;p>本文介绍一个 Chrome 插件，可以在表单操作的同时，快速呼出相关的数据并根据需要进行填入。&lt;/p>
&lt;p>相信是我们在进行页面测试时的重要帮手。&lt;/p>
&lt;h2 id="插件介绍">插件介绍
&lt;/h2>&lt;p>这个 Chrome 插件 就是 &lt;code>Auto Data Filter&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/120-autotestdata/Pasted-20250811.png"
width="1466"
height="728"
srcset="https://chengxiaqiucao.github.io/post/120-autotestdata/Pasted-20250811_hu_cd96aa03b93061b3.png 480w, https://chengxiaqiucao.github.io/post/120-autotestdata/Pasted-20250811_hu_8816680802f02e.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="201"
data-flex-basis="483px"
>&lt;/p>
&lt;p>从 Chrome 的插件商店中找到这个插件，进行安装即可。&lt;/p>
&lt;p>另外，从插件名称中，其实可以看到，它其实是另一个插件 &lt;code>Bug Magnet&lt;/code> 的替代品。只是原插件已经失效，没人维护了&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/120-autotestdata/Pasted-20250811-1.png"
width="1439"
height="401"
srcset="https://chengxiaqiucao.github.io/post/120-autotestdata/Pasted-20250811-1_hu_22935808220d2748.png 480w, https://chengxiaqiucao.github.io/post/120-autotestdata/Pasted-20250811-1_hu_452c2ba0dc3a15ef.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="358"
data-flex-basis="861px"
>&lt;/p>
&lt;p>使用也非常简单，在需要填充数据的表单中，点击右键，就可呼出插件菜单，选择对应的内置数据，即可快速填充。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/120-autotestdata/Pasted-20250811-3.png"
width="1249"
height="761"
srcset="https://chengxiaqiucao.github.io/post/120-autotestdata/Pasted-20250811-3_hu_ea128eb13f7bced8.png 480w, https://chengxiaqiucao.github.io/post/120-autotestdata/Pasted-20250811-3_hu_cb15d509c89455ec.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="164"
data-flex-basis="393px"
>&lt;/p>
&lt;p>用法很简单，但非常实用&lt;/p>
&lt;h2 id="离线安装">离线安装
&lt;/h2>&lt;p>如果不能顺利访问插件商店，也可通过离线方式安装。 本公众号回复 &lt;code>AutoData&lt;/code> 可获取插件离线包&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/120-autotestdata/Pasted-20250811-2.png"
width="1892"
height="580"
srcset="https://chengxiaqiucao.github.io/post/120-autotestdata/Pasted-20250811-2_hu_3d0f98aa50a744ba.png 480w, https://chengxiaqiucao.github.io/post/120-autotestdata/Pasted-20250811-2_hu_3952b988f131ed6b.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="326"
data-flex-basis="782px"
>&lt;/p>
&lt;ol>
&lt;li>获取插件离线包，解压到本地目录&lt;/li>
&lt;li>进入chrome插件管理页面&lt;/li>
&lt;li>打开开发者模式&lt;/li>
&lt;li>加载刚才解压的离线插件包&lt;/li>
&lt;li>完成安装&lt;/li>
&lt;/ol>
&lt;h2 id="数据定制">数据定制
&lt;/h2>&lt;p>这个插件虽然使用比较简单。但有个问题，就是测试数据主要还是英文的，很多内置数据不一定覆盖我们常用的数据&lt;/p>
&lt;p>通过离线包，我们还可以对数据进行定制&lt;/p>
&lt;p>这些数据其实保存在插件包 js 目录下的 &lt;code>jsformat.js&lt;/code> 文件中，把我们自定义的数据补充或修改到文件中即可。&lt;/p>
&lt;p>以下是修改后，插件呼出数据的效果&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/120-autotestdata/Pasted-20250811-5.png"
width="1102"
height="487"
srcset="https://chengxiaqiucao.github.io/post/120-autotestdata/Pasted-20250811-5_hu_a408ff91c9cee824.png 480w, https://chengxiaqiucao.github.io/post/120-autotestdata/Pasted-20250811-5_hu_537dab45cf9bf137.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="226"
data-flex-basis="543px"
>&lt;/p></description></item><item><title>UI自动化，POM之外的另一模式</title><link>https://chengxiaqiucao.github.io/post/118-pom_replacement/</link><pubDate>Wed, 06 Aug 2025 21:58:13 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/118-pom_replacement/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/118-pom_replacement/Pasted-20250806.png" alt="Featured image of post UI自动化，POM之外的另一模式" />&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/118-pom_replacement/Pasted-20250806.png"
width="1056"
height="561"
srcset="https://chengxiaqiucao.github.io/post/118-pom_replacement/Pasted-20250806_hu_af4f10514fb46fdd.png 480w, https://chengxiaqiucao.github.io/post/118-pom_replacement/Pasted-20250806_hu_911267767b3930ef.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="188"
data-flex-basis="451px"
>&lt;/p>
&lt;h2 id="引言">引言
&lt;/h2>&lt;p>在UI测试自动化领域，页面对象模型（Page Object Model，POM）几乎已经是行业标准。它被广泛认为是UI自动化测试领域的最佳实践，对于提高可维护性和可扩展性，几乎是不二之选。&lt;/p>
&lt;p>笔者在实际工作中，组织搭建过的UI自动化框架虽然大部分也是遵循了个这个模型，但隐隐也确实觉得这个更多是个开发实践而不是应用实践。是OOP(面向对象)思想在自动化测试实施种的体现。&lt;/p>
&lt;p>现偶然看到一篇国外博主的 &lt;code>Shubham Sharma&lt;/code> 的文章 《Beyond the Page Object Model-A Functional Approach to Test Automation》，对POM模型进行了思考，并提出了一个函数化方法模型。（文末阅读原文可跳转原文）&lt;/p>
&lt;p>虽然不知具体实践成效如何，但兼听则明，开拓下思路总是没错的。&lt;/p>
&lt;p>以下基于原博文内容翻译整理而来（help by Gemini）&lt;/p>
&lt;h2 id="关于pom">关于POM
&lt;/h2>&lt;p>POM的核心思想是&lt;strong>将页面元素和浏览器交互封装到整洁、可重用的对象中。&lt;/strong>&lt;/p>
&lt;p>它的方法很简单：为每个页面或组件创建一个类，包含定位器（locators）和操作这些元素的方法。&lt;/p>
&lt;p>虽然POM相比那些充满硬编码元素的脆弱脚本是一个进步，但它本质上也是一个&lt;strong>有缺陷的抽象&lt;/strong>。它将面向对象原则应用到一个本质上过程化和行为驱动的问题领域，导致测试套件难以理解、与状态紧密耦合且扩展困难。&lt;/p>
&lt;h2 id="pom问题">POM问题
&lt;/h2>&lt;p>以一个典型的登录流程POM实现为例：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">LoginPage&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">driver&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">driver&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">driver&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">usernameField&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;#username&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">passwordField&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;#password&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">loginButton&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;#login-btn&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">async&lt;/span> &lt;span class="nx">enterUsername&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">username&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">driver&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">locator&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">usernameField&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">fill&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">username&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">async&lt;/span> &lt;span class="nx">enterPassword&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">driver&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">locator&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">passwordField&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">fill&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">async&lt;/span> &lt;span class="nx">clickLogin&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">driver&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">locator&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">loginButton&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">async&lt;/span> &lt;span class="nx">loginAs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">username&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">password&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">enterUsername&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">username&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">enterPassword&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clickLogin&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在测试中的使用：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;user can log in&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">({&lt;/span> &lt;span class="nx">page&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">loginPage&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">LoginPage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">loginPage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">loginAs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;testuser&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;password123&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>乍一看，这看起来很整洁。但在表面之下，它引入了几个严重问题：&lt;/p>
&lt;h3 id="隐藏状态和紧密耦合">隐藏状态和紧密耦合
&lt;/h3>&lt;p>对象存储了对驱动程序（&lt;code>page&lt;/code>）的引用，创建了隐式依赖。这使得页面类无法独立测试，并将其行为和浏览器的运行时状态进行了锁定。&lt;/p>
&lt;h3 id="分散的用户逻辑">分散的用户逻辑
&lt;/h3>&lt;p>像&amp;quot;&lt;strong>登录、进入设置、更改密码&lt;/strong>&amp;quot; 这样的用户旅程变成了跨多个页面对象的方法调用链。工作流被分割——而不是一个连贯的、可测试的单元。&lt;/p>
&lt;h3 id="僵化和膨胀">僵化和膨胀
&lt;/h3>&lt;p>一些新的流程（如SSO登录），则被迫添加更多方法（违反单一职责原则）或创建新类（导致重复）。随着时间的推移，你的页面对象要么膨胀，要么分裂。&lt;/p>
&lt;p>POM将&lt;strong>页面&lt;/strong>作为抽象单位。但页面只是背景。&lt;/p>
&lt;p>&lt;strong>真正重要的是用户操作。&lt;/strong>&lt;/p>
&lt;h2 id="替代方案函数式模型可组合的工作流">替代方案：函数式模型，可组合的工作流
&lt;/h2>&lt;p>函数式模型颠覆了这一脚本。它将&lt;strong>用户行为&lt;/strong>，而非UI结构作为主要抽象。&lt;/p>
&lt;h3 id="第一步分离数据定位器">第一步：分离数据（定位器）
&lt;/h3>&lt;p>将选择器保持为普通的、不可变的数据——没有方法，没有状态：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">LoginPageLocators&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">usernameField&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;#username&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">passwordField&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;#password&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">loginButton&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;#login-btn&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="第二步编写无状态交互函数">第二步：编写无状态交互函数
&lt;/h3>&lt;p>不要将方法绑定到类，而是编写可重用的无状态函数：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">fillField&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">locator&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">locator&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">locator&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">fill&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">clickElement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">locator&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">locator&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">locator&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这些可以在整个应用中重用，易于独立测试，并且可以集中改进（例如添加重试、等待、日志记录）。&lt;/p>
&lt;h3 id="第三步以声明方式组合用户工作流">第三步：以声明方式组合用户工作流
&lt;/h3>&lt;p>将真正的用户旅程构建为一等函数：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">login&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">credentials&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">fillField&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">LoginPageLocators&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">usernameField&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">credentials&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">username&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">fillField&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">LoginPageLocators&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">passwordField&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">credentials&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">clickElement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">LoginPageLocators&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">loginButton&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>现在你的测试读起来就像一个故事：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;user can log in&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">({&lt;/span> &lt;span class="nx">page&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">credentials&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">username&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;admin&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">password&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;securePassword&amp;#39;&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">login&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">credentials&lt;/span>&lt;span class="p">)();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="为什么推荐这种方法">为什么推荐这种方法
&lt;/h2>&lt;h3 id="真正的可组合性">真正的可组合性
&lt;/h3>&lt;p>你不仅仅是在调用方法，而是在构建工作流。&lt;code>login()&lt;/code>函数可以组合到&lt;code>changePassword()&lt;/code>工作流中，或者与导航步骤结合。函数成为有意义的可测试单元。&lt;/p>
&lt;h3 id="改进的清晰度">改进的清晰度
&lt;/h3>&lt;p>测试不再是逐步执行UI操作的命令式脚本。相反，它们成为用户意图的声明式管道，更易于阅读、编写和理解。&lt;/p>
&lt;h3 id="集中化维护">集中化维护
&lt;/h3>&lt;p>修复不稳定的选择器或改进点击行为发生在&lt;strong>一个地方&lt;/strong>，并传播到所有地方。不再需要在分散在文件中的类方法中寻找。&lt;/p>
&lt;h3 id="测试的范式转变">测试的范式转变
&lt;/h3>&lt;p>页面对象模型反映了一个遗留范式：面向对象编程，其中所有事物都被建模为具有状态和行为的&amp;quot;事物&amp;quot;。但UI测试不是关于&lt;strong>事物&lt;/strong>，而是关于&lt;strong>流程&lt;/strong>。&lt;/p>
&lt;p>通过拥抱函数式思维，我们将测试建模为&lt;strong>用户行为的可组合管道&lt;/strong>，而不是僵化的对象。这些工作流具有以下特点：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>无状态&lt;/strong>&lt;/li>
&lt;li>&lt;strong>隔离&lt;/strong>&lt;/li>
&lt;li>&lt;strong>声明式&lt;/strong>&lt;/li>
&lt;li>&lt;strong>易于测试&lt;/strong>&lt;/li>
&lt;li>&lt;strong>易于更改&lt;/strong>&lt;/li>
&lt;li>&lt;strong>易于组合&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h3 id="核心要点">核心要点
&lt;/h3>&lt;p>停止问：&lt;strong>&amp;ldquo;我这里需要什么页面对象？&amp;rdquo;&lt;/strong>&lt;/p>
&lt;p>开始问：&lt;strong>&amp;ldquo;我想要描述的用户工作流是什么？&amp;rdquo;&lt;/strong>&lt;/p>
&lt;p>答案将引导你构建一个&lt;strong>更简单&lt;/strong>、&lt;strong>更清洁&lt;/strong>、&lt;strong>更接近真实用户体验&lt;/strong>的测试套件，它不是建立在继承和隐藏状态之上，而是建立在纯函数和可组合流程之上。这不仅仅是一种编码风格，它是测试的更好心智模型。&lt;/p>
&lt;h3 id="结论迈向更自然的测试方式">结论：迈向更自然的测试方式
&lt;/h3>&lt;p>页面对象模型曾经是UI测试自动化的重要进步，但随着测试复杂度的增加和软件开发理念的发展，它的局限性日益明显。函数式方法为我们提供了一个更自然、更灵活的替代方案。&lt;/p>
&lt;p>通过将关注点从页面结构转向用户行为，从对象状态转向工作流程，我们能够创建更贴近真实用户体验的测试。这种方法不仅提高了代码的可维护性和可读性，更重要的是，它改变了我们对测试本质的理解。&lt;/p>
&lt;p>在快速变化的软件开发现代中，我们需要能够适应变化的测试策略。函数式测试方法正是这样一种策略——它灵活、可组合、易于维护，能够随着应用的发展而演进。&lt;/p></description></item><item><title>python日志的新姿势，Loguru库的应用</title><link>https://chengxiaqiucao.github.io/post/117-loguru/</link><pubDate>Thu, 31 Jul 2025 17:09:06 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/117-loguru/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250801-2.png" alt="Featured image of post python日志的新姿势，Loguru库的应用" />&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250801-2.png"
width="939"
height="294"
srcset="https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250801-2_hu_ee7e6c0be328c8ba.png 480w, https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250801-2_hu_4e4762a755196627.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="319"
data-flex-basis="766px"
>&lt;/p>
&lt;h2 id="引言">引言
&lt;/h2>&lt;p>开发过Python程序或通过Python编写自动化脚本，都知道日志对于一个程序的重要性。 Python语言也内建了一个日志处理的标准库 &lt;code>logging&lt;/code>, 但这个库的使用相对比较复杂。&lt;/p>
&lt;p>本文我们介绍一个目前很受欢迎的第三方日志框架 &lt;code>Loguru&lt;/code>, 在Github上已有超过22K星标。是一个比 &lt;code>logging&lt;/code>更加直观易用的替代方案。开发者可以专注于业务逻辑而不是日志配置的繁琐细节&lt;/p>
&lt;h2 id="loguru的使用">Loguru的使用
&lt;/h2>&lt;h3 id="1-安装和快速开始">1. 安装和快速开始
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pip install loguru
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>最简单的使用方式：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">loguru&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">logger&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Happy logging with Loguru!&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>输出：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">2025-08-01 14:00:51.069 | DEBUG | __main__:&amp;lt;module&amp;gt;:3 - Happy logging with Loguru!
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2-日志级别">2. 日志级别
&lt;/h3>&lt;p>Loguru提供了7个内置日志级别， 并对不同级别设定了不同的默认颜色显示：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>级别&lt;/th>
&lt;th>方法&lt;/th>
&lt;th>数值&lt;/th>
&lt;th>用途&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>TRACE&lt;/td>
&lt;td>logger.trace()&lt;/td>
&lt;td>5&lt;/td>
&lt;td>极其详细的调试信息&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>DEBUG&lt;/td>
&lt;td>logger.debug()&lt;/td>
&lt;td>10&lt;/td>
&lt;td>开发调试信息&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>INFO&lt;/td>
&lt;td>logger.info()&lt;/td>
&lt;td>20&lt;/td>
&lt;td>一般信息&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>SUCCESS&lt;/td>
&lt;td>logger.success()&lt;/td>
&lt;td>25&lt;/td>
&lt;td>成功操作通知&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>WARNING&lt;/td>
&lt;td>logger.warning()&lt;/td>
&lt;td>30&lt;/td>
&lt;td>警告信息&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ERROR&lt;/td>
&lt;td>logger.error()&lt;/td>
&lt;td>40&lt;/td>
&lt;td>错误信息&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>CRITICAL&lt;/td>
&lt;td>logger.critical()&lt;/td>
&lt;td>50&lt;/td>
&lt;td>严重错误&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>示例代码：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">loguru&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">logger&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">trace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;A trace message.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;A debug message.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;An info message.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">success&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;A success message.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">warning&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;A warning message.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;An error message.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">critical&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;A critical message.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>输出：
&lt;img src="https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250801.png"
width="1097"
height="281"
srcset="https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250801_hu_938d5fbcdd1e644.png 480w, https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250801_hu_b9caea5d30f66cfe.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="390"
data-flex-basis="936px"
>&lt;/p>
&lt;h3 id="3-自定义日志级别">3. 自定义日志级别
&lt;/h3>&lt;p>&lt;code>loguru&lt;/code> 创建自定义的级别也极为方便，比如创建一个 &lt;code>FATAL&lt;/code> 级别的日志&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">loguru&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">logger&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 创建自定义级别&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;FATAL&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">no&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">60&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">color&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">icon&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;!!!&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;FATAL&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;A fatal error occurred.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="进阶用法">进阶用法
&lt;/h2>&lt;h3 id="1-日志处理器配置">1. 日志处理器配置
&lt;/h3>&lt;p>Loguru使用&lt;code>add()&lt;/code>方法添加处理器：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">sys&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">loguru&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">logger&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 移除默认处理器&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">remove&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 添加自定义处理器&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stderr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">level&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;INFO&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">format&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;{time:YYYY-MM-DD HH:mm:ss} | &lt;/span>&lt;span class="si">{level}&lt;/span>&lt;span class="s2"> | &lt;/span>&lt;span class="si">{message}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;INFO&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;配置完成，开始记录日志&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2-文件日志">2. 文件日志
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">loguru&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">logger&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 基本文件日志&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;app.log&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rotation&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;500 MB&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">retention&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;10 days&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">compression&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;zip&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 高级文件日志配置&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;app_{time:YYYY-MM-DD}.log&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rotation&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;00:00&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># 每天午夜轮转&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">retention&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;30 days&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># 保留30天&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">compression&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;gz&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># 压缩格式&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">level&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;INFO&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;测试一下日志&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>执行后，根据代码会得到两个日志文件，&lt;code>app.log&lt;/code>, &lt;code>app_2025-08-01.log&lt;/code>&lt;/p>
&lt;h3 id="3-日志格式化">3. 日志格式化
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">sys&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">loguru&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">logger&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">remove&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 自定义格式&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stderr&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">format&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;lt;green&amp;gt;{time:YYYY-MM-DD HH:mm:ss}&amp;lt;/green&amp;gt; | &amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;lt;level&amp;gt;&lt;/span>&lt;span class="si">{level: &amp;lt;8}&lt;/span>&lt;span class="s2">&amp;lt;/level&amp;gt; | &amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;lt;cyan&amp;gt;&lt;/span>&lt;span class="si">{name}&lt;/span>&lt;span class="s2">&amp;lt;/cyan&amp;gt;:&amp;lt;cyan&amp;gt;&lt;/span>&lt;span class="si">{function}&lt;/span>&lt;span class="s2">&amp;lt;/cyan&amp;gt;:&amp;lt;cyan&amp;gt;&lt;/span>&lt;span class="si">{line}&lt;/span>&lt;span class="s2">&amp;lt;/cyan&amp;gt; | &amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;lt;level&amp;gt;&lt;/span>&lt;span class="si">{message}&lt;/span>&lt;span class="s2">&amp;lt;/level&amp;gt;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 也可使用函数进行动态格式化&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">custom_formatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">record&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;level&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">no&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">40&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="c1"># ERROR及以上&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">{time}&lt;/span>&lt;span class="s2"> | &lt;/span>&lt;span class="si">{level}&lt;/span>&lt;span class="s2"> | &lt;/span>&lt;span class="si">{thread}&lt;/span>&lt;span class="s2"> | &lt;/span>&lt;span class="si">{message}&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="si">{exception}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">{time}&lt;/span>&lt;span class="s2"> | &lt;/span>&lt;span class="si">{level}&lt;/span>&lt;span class="s2"> | &lt;/span>&lt;span class="si">{message}&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="si">{exception}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stderr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">format&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">custom_formatter&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;测试一下日志&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>会得到如下定义的输出结果：
&lt;img src="https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250801-1.png"
width="1041"
height="117"
srcset="https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250801-1_hu_c4d19c2fbcb23980.png 480w, https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250801-1_hu_a76dd90f9fa27c6a.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="889"
data-flex-basis="2135px"
>&lt;/p>
&lt;h3 id="4-日志过滤">4. 日志过滤
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">loguru&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">logger&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 基于级别的过滤&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">level_filter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">is_level&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">record&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;level&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">level&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">is_level&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stderr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">filter&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">level_filter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;WARNING&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 基于模块的过滤&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;app.log&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">filter&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;my_module&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 只记录my_module的日志&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;error.log&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">filter&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">lambda&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;level&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">no&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">40&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 只记录错误及以上日志&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="5-结构化日志json格式">5. 结构化日志（JSON格式）
&lt;/h3>&lt;p>loguru默认提供支持json格式的序列化输出&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">loguru&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">logger&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># JSON格式日志&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stderr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">serialize&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;测试一下日志&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>得到如下输出：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;text&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;2025-08-01 14:25:44.560 | INFO | __main__:&amp;lt;module&amp;gt;:8 - 测试一下日志\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nt">&amp;#34;record&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;elapsed&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;repr&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0:00:00.00 &amp;#34;&lt;/span>&lt;span class="err">seconds&lt;/span>&lt;span class="s2">&amp;#34;: 0.003698}, &amp;#34;&lt;/span>&lt;span class="err">exception&lt;/span>&lt;span class="s2">&amp;#34;: null, &amp;#34;&lt;/span>&lt;span class="err">extra&lt;/span>&lt;span class="s2">&amp;#34;: {}, &amp;#34;&lt;/span>&lt;span class="err">file&lt;/span>&lt;span class="s2">&amp;#34;: {&amp;#34;&lt;/span>&lt;span class="err">name&lt;/span>&lt;span class="s2">&amp;#34;: &amp;#34;&lt;/span>&lt;span class="err">demo.py&lt;/span>&lt;span class="s2">&amp;#34;, &amp;#34;&lt;/span>&lt;span class="err">path&lt;/span>&lt;span class="s2">&amp;#34;: &amp;#34;&lt;/span>&lt;span class="err">E&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="err">\\qiucao\\dev\\loguruDemo\\demo.py&lt;/span>&lt;span class="s2">&amp;#34;}, &amp;#34;&lt;/span>&lt;span class="err">function&lt;/span>&lt;span class="s2">&amp;#34;: &amp;#34;&lt;/span>&lt;span class="err">&amp;lt;module&amp;gt;&lt;/span>&lt;span class="s2">&amp;#34;, &amp;#34;&lt;/span>&lt;span class="err">level&lt;/span>&lt;span class="s2">&amp;#34;: {&amp;#34;&lt;/span>&lt;span class="err">icon&lt;/span>&lt;span class="s2">&amp;#34;: &amp;#34;&lt;/span>&lt;span class="err">ℹ️&lt;/span>&lt;span class="s2">&amp;#34;, &amp;#34;&lt;/span>&lt;span class="err">name&lt;/span>&lt;span class="s2">&amp;#34;: &amp;#34;&lt;/span>&lt;span class="err">INFO&lt;/span>&lt;span class="s2">&amp;#34;, &amp;#34;&lt;/span>&lt;span class="err">no&lt;/span>&lt;span class="s2">&amp;#34;: 20}, &amp;#34;&lt;/span>&lt;span class="err">line&lt;/span>&lt;span class="s2">&amp;#34;: 8, &amp;#34;&lt;/span>&lt;span class="err">message&lt;/span>&lt;span class="s2">&amp;#34;: &amp;#34;&lt;/span>&lt;span class="err">测试一下日志&lt;/span>&lt;span class="s2">&amp;#34;, &amp;#34;&lt;/span>&lt;span class="err">module&lt;/span>&lt;span class="s2">&amp;#34;: &amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;__main__&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nt">&amp;#34;process&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">4580&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;MainProcess&amp;#34;&lt;/span>&lt;span class="p">},&lt;/span> &lt;span class="nt">&amp;#34;thread&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">5680&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;MainThread&amp;#34;&lt;/span>&lt;span class="p">},&lt;/span> &lt;span class="nt">&amp;#34;time&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;repr&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;2025-08-01 14:25:44.560271+08:00&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nt">&amp;#34;timestamp&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">1754029544.560271&lt;/span>&lt;span class="p">}}}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="6-异常处理和调试">6. 异常处理和调试
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">loguru&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">logger&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 控制诊断信息（生产环境应设为False）&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;app.log&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">diagnose&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">False&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 自动捕获异常&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">except&lt;/span> &lt;span class="ne">ZeroDivisionError&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">exception&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Division by zero occurred&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>loguru&lt;/code> 可以直接捕获异常，这里的&lt;code>diagnose&lt;/code> 参数，还会在捕获异常时，自动记录局部变量的信息，便于我们进行调试（生产环境一般需要设置为False）&lt;/p>
&lt;h2 id="总结">总结
&lt;/h2>&lt;p>以上就 &lt;code>loguru&lt;/code> 这个库的用法总结，无论从配置的简便性，功能丰富程度，还是对自定义扩展、调试支持等多方面，都非常出色。&lt;/p>
&lt;p>那么，写Python处理日志，就快快用起来吧~~&lt;/p>
&lt;hr>
&lt;h1 id="pytest中使用loguru的问题及解决">pytest中使用loguru的问题及解决
&lt;/h1>&lt;h2 id="引语">引语
&lt;/h2>&lt;p>上一篇文章，我们向大家推荐了python语言的一个第三方日志库&lt;code>loguru&lt;/code>，使用非常简单且功能完备。文章参见【】&lt;/p>
&lt;p>但对于我们做自动化测试，经常使用 &lt;code>pytest&lt;/code> 框架的小伙伴来说，却有点小问题。就是 &lt;code>Pytest&lt;/code> 内建的日志捕获机制是在标准库 &lt;code>logging&lt;/code> 的基础上进行优化过的。 这样我们在使用 pytest 框架时，如果牵涉到 pytest 自身的日志机制，也就是pytest的内建fixture &lt;code>caplog&lt;/code>实际使用的还是logging标准模块, 这里&lt;code>loguru&lt;/code> 库定义的日志就难以发生作用。&lt;/p>
&lt;p>当然，问题也不大，本文我们简单探讨下这个问题，并介绍下兼容方案。&lt;/p>
&lt;h2 id="pytest-中的caplog">Pytest 中的&lt;code>caplog&lt;/code>
&lt;/h2>&lt;p>首先我们还是先来介绍下 Pytest 的日志&lt;/p>
&lt;p>&lt;code>caplog&lt;/code>是pytest提供的一个内置fixture，用于捕获和测试日志输出。&lt;/p>
&lt;p>因为这个内置插件的作用，我们在执行pytest测试时，默认只会在用例存在失败时才会显示标准输出和&lt;code>logging&lt;/code>模块及记录的日志信息。&lt;/p>
&lt;p>比如下面这段代码：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># test_cap.py&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">logging&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_fail&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;这条信息将在失败时显示&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_pass&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;这条信息成功时不显示&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="kc">True&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_exception&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">except&lt;/span> &lt;span class="ne">ZeroDivisionError&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;除零错误发生&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">exc_info&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">None&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>我们正常通过 &lt;code>pytest&lt;/code> 执行的话，会看到下面这样的输出&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250805.png"
width="1521"
height="925"
srcset="https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250805_hu_bab90810a5b29af9.png 480w, https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250805_hu_907bbaa3710da2d2.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="164"
data-flex-basis="394px"
>&lt;/p>
&lt;p>而如果我们将上面记录日志的部分修改为&lt;code>loguru&lt;/code>库的日志写法的话&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_exception&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">except&lt;/span> &lt;span class="ne">ZeroDivisionError&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># logging.error(&amp;#34;除零错误发生&amp;#34;, exc_info=True) &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;除零错误发生&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">None&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>运行时能看到区别：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250805-1.png"
width="1324"
height="538"
srcset="https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250805-1_hu_62e7c4cf3377adb5.png 480w, https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250805-1_hu_d2d77062f33c73cc.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="246"
data-flex-basis="590px"
>&lt;/p>
&lt;p>也就是 &lt;code>loguru&lt;/code> 记录的日志，不能被 Pytest 的 &lt;code>caplog&lt;/code> 获取。&lt;/p>
&lt;p>这样自然也就&lt;strong>不能使用 &lt;code>caplog&lt;/code> 提供的一些api如 &lt;code>caplog.text&lt;/code>, &lt;code>caplog.records&lt;/code>&lt;/strong>， 为我们灵活利用 &lt;code>pytest&lt;/code> 造成了一些阻碍&lt;/p>
&lt;h2 id="解决兼容问题">解决兼容问题
&lt;/h2>&lt;p>那要解决这个兼容问题，有多个方案，这里分享下我的验证&lt;/p>
&lt;h3 id="方案1pytest-loguru">方案1：pytest-loguru
&lt;/h3>&lt;p>存在问题，当然可以先查一下社区有没有现成的解决方案， 然后发现有人已经提供了解决方案。就是 &lt;code>pytest-loguru&lt;/code> 这个插件&lt;/p>
&lt;p>通过下面命令安装即可：&lt;/p>
&lt;p>&lt;code>pip install pytest-loguru&lt;/code>&lt;/p>
&lt;p>但我进行实测，发现windows系统上会报句柄错误&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250805-2.png"
width="1311"
height="823"
srcset="https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250805-2_hu_5ad58dbe1f9cf347.png 480w, https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250805-2_hu_9c64e830a4ad1822.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="159"
data-flex-basis="382px"
>&lt;/p>
&lt;p>所以这里建议使用方案二解决。&lt;/p>
&lt;h3 id="方案二loguru日志输出重定向到logging标准输出">方案二：loguru日志输出重定向到logging标准输出
&lt;/h3>&lt;p>可以利用 pytest 的 &lt;code>conftest.py&lt;/code> 配置脚本，用下面的代码将 loguru 日志重定向到 logging&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># conftest.py&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">pytest&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">logging&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">loguru&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">logger&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">SafePropagateHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Handler&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">super&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="fm">__init__&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 确保有一个基本的格式化器 &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">setFormatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Formatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="si">%(levelname)s&lt;/span>&lt;span class="s1"> - &lt;/span>&lt;span class="si">%(message)s&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">emit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 获取标准logging的logger &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std_logger&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getLogger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">record&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 确保logger有处理器 &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">std_logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">handlers&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 添加一个空处理器，避免&amp;#34;No handlers&amp;#34;警告 &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std_logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">addHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">NullHandler&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 安全地处理记录 &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std_logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">handle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">record&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">except&lt;/span> &lt;span class="ne">Exception&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 如果传播失败，静默忽略，避免影响测试 &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">pass&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@pytest.fixture&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scope&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;session&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">autouse&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">setup_safe_loguru_integration&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 移除Loguru的默认处理器 &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">remove&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">safe_handler&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">SafePropagateHandler&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 添加传播处理器到Loguru &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">handler_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">safe_handler&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">format&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">{message}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># 简化格式，避免重复 &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">level&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;DEBUG&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">backtrace&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">False&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">diagnose&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">False&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">catch&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span> &lt;span class="c1"># 捕获处理器中的异常 &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 配置标准logging以避免冲突 &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">basicConfig&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">level&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">INFO&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">format&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="si">%(levelname)s&lt;/span>&lt;span class="s1"> - &lt;/span>&lt;span class="si">%(message)s&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">handlers&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">NullHandler&lt;/span>&lt;span class="p">()]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">yield&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 清理 &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">remove&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">handler_id&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>再次执行，可以看到&lt;code>caplog&lt;/code>已经可以正常捕捉loguru记录的日志了&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250805-3.png"
width="1215"
height="830"
srcset="https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250805-3_hu_1fed80aa3a20c158.png 480w, https://chengxiaqiucao.github.io/post/117-loguru/Pasted-20250805-3_hu_9abb272facc4c78.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="146"
data-flex-basis="351px"
>&lt;/p>
&lt;hr>
&lt;h1 id="loguru和logging模块对比">loguru和logging模块对比
&lt;/h1>&lt;h2 id="2-loguru-vs-python标准logging库对比">2. Loguru vs Python标准logging库对比
&lt;/h2>&lt;p>在深入了解Loguru之前，让我们先将其与Python标准库中的logging模块进行对比，这将帮助您更好地理解为什么越来越多的开发者选择Loguru作为他们的日志解决方案。&lt;/p>
&lt;h3 id="21-配置复杂度对比">2.1 配置复杂度对比
&lt;/h3>&lt;p>&lt;strong>Python标准logging的配置：&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">logging&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 标准logging需要多个步骤的配置&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getLogger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="vm">__name__&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">setLevel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DEBUG&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 创建控制台处理器&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">console_handler&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">StreamHandler&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">console_handler&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">setLevel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">INFO&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 创建文件处理器&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">file_handler&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">FileHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;app.log&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">file_handler&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">setLevel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DEBUG&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 创建格式化器&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">console_formatter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Formatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="si">%(asctime)s&lt;/span>&lt;span class="s1"> - &lt;/span>&lt;span class="si">%(name)s&lt;/span>&lt;span class="s1"> - &lt;/span>&lt;span class="si">%(levelname)s&lt;/span>&lt;span class="s1"> - &lt;/span>&lt;span class="si">%(message)s&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">file_formatter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Formatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="si">%(asctime)s&lt;/span>&lt;span class="s1"> - &lt;/span>&lt;span class="si">%(name)s&lt;/span>&lt;span class="s1"> - &lt;/span>&lt;span class="si">%(levelname)s&lt;/span>&lt;span class="s1"> - &lt;/span>&lt;span class="si">%(filename)s&lt;/span>&lt;span class="s1">:&lt;/span>&lt;span class="si">%(lineno)d&lt;/span>&lt;span class="s1"> - &lt;/span>&lt;span class="si">%(message)s&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 设置格式化器&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">console_handler&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">setFormatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">console_formatter&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">file_handler&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">setFormatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">file_formatter&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 添加处理器&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">addHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">console_handler&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">addHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">file_handler&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 现在才能开始使用&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;配置完成，开始记录日志&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>Loguru的配置：&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">loguru&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">logger&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Loguru一行代码即可完成相同功能&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stdout&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">level&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;INFO&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">format&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">{time}&lt;/span>&lt;span class="s2"> - &lt;/span>&lt;span class="si">{name}&lt;/span>&lt;span class="s2"> - &lt;/span>&lt;span class="si">{level}&lt;/span>&lt;span class="s2"> - &lt;/span>&lt;span class="si">{message}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;app.log&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">level&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;DEBUG&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">format&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">{time}&lt;/span>&lt;span class="s2"> - &lt;/span>&lt;span class="si">{name}&lt;/span>&lt;span class="s2"> - &lt;/span>&lt;span class="si">{level}&lt;/span>&lt;span class="s2"> - &lt;/span>&lt;span class="si">{file}&lt;/span>&lt;span class="s2">:&lt;/span>&lt;span class="si">{line}&lt;/span>&lt;span class="s2"> - &lt;/span>&lt;span class="si">{message}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;配置完成，开始记录日志&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>优势对比：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>标准logging&lt;/strong>：需要创建logger、handler、formatter等多个对象，并进行多层配置&lt;/li>
&lt;li>&lt;strong>Loguru&lt;/strong>：通过简单的&lt;code>add()&lt;/code>方法即可完成所有配置，代码量减少70%以上&lt;/li>
&lt;/ul>
&lt;h3 id="22-api简洁性对比">2.2 API简洁性对比
&lt;/h3>&lt;p>&lt;strong>Python标准logging的API：&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">logging&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 需要导入多个模块和类&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">logging.handlers&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">logging.config&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 不同级别需要不同的方法调用&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Debug message&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Info message&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">warning&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Warning message&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Error message&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">critical&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Critical message&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 异常记录需要单独处理&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">1&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">except&lt;/span> &lt;span class="ne">Exception&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;An error occurred&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">exc_info&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>Loguru的API：&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">loguru&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">logger&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 统一的API，更直观的方法名&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">trace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Trace message&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 比debug更详细&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Debug message&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Info message&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">success&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Success message&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 独有的成功级别&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">warning&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Warning message&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Error message&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">critical&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Critical message&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 异常记录极其简单&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">1&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">except&lt;/span> &lt;span class="ne">Exception&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">exception&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;An error occurred&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 自动包含异常信息&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>优势对比：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>标准logging&lt;/strong>：API相对繁琐，异常处理需要额外参数&lt;/li>
&lt;li>&lt;strong>Loguru&lt;/strong>：API设计更加人性化，提供SUCCESS级别，异常处理更简洁&lt;/li>
&lt;/ul>
&lt;h3 id="23-功能特性对比">2.3 功能特性对比
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>功能特性&lt;/th>
&lt;th>Python标准logging&lt;/th>
&lt;th>Loguru&lt;/th>
&lt;th>优势说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>日志轮转&lt;/strong>&lt;/td>
&lt;td>需要&lt;code>TimedRotatingFileHandler&lt;/code>或&lt;code>RotatingFileHandler&lt;/code>&lt;/td>
&lt;td>内置支持，一行代码配置&lt;/td>
&lt;td>Loguru配置简单，支持更多轮转策略&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>日志压缩&lt;/strong>&lt;/td>
&lt;td>不支持，需要手动实现&lt;/td>
&lt;td>内置支持多种压缩格式&lt;/td>
&lt;td>Loguru自动处理，节省存储空间&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>日志过滤&lt;/strong>&lt;/td>
&lt;td>需要创建Filter类&lt;/td>
&lt;td>支持函数、字符串、字典等多种过滤方式&lt;/td>
&lt;td>Loguru更灵活，代码更少&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>结构化日志&lt;/strong>&lt;/td>
&lt;td>不支持原生JSON格式&lt;/td>
&lt;td>内置JSON序列化支持&lt;/td>
&lt;td>Loguru更适合现代日志分析系统&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>颜色支持&lt;/strong>&lt;/td>
&lt;td>需要第三方库如&lt;code>colorama&lt;/code>&lt;/td>
&lt;td>内置终端颜色支持&lt;/td>
&lt;td>Loguru开箱即用，视觉效果更好&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>上下文信息&lt;/strong>&lt;/td>
&lt;td>需要手动使用&lt;code>LoggerAdapter&lt;/code>&lt;/td>
&lt;td>通过&lt;code>bind()&lt;/code>方法轻松实现&lt;/td>
&lt;td>Loguru更直观，功能更强大&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>异常诊断&lt;/strong>&lt;/td>
&lt;td>基本的异常信息&lt;/td>
&lt;td>详细的变量值显示和调用栈&lt;/td>
&lt;td>Loguru调试效率更高&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>代码示例对比：&lt;/strong>&lt;/p>
&lt;p>&lt;strong>标准logging实现日志轮转：&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">logging&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">logging.handlers&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 创建轮转文件处理器&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">rotating_handler&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">handlers&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">RotatingFileHandler&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;app.log&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">maxBytes&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">1024&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">1024&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># 10MB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">backupCount&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 需要手动处理压缩&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">compress_old_logs&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 复杂的压缩逻辑...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">pass&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">addHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rotating_handler&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>Loguru实现日志轮转：&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">loguru&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">logger&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 一行代码搞定轮转和压缩&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;app.log&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rotation&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;10 MB&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># 文件大小轮转&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">retention&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;10 days&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># 保留10天&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">compression&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;zip&amp;#34;&lt;/span> &lt;span class="c1"># 自动压缩&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="24-使用体验对比">2.4 使用体验对比
&lt;/h3>&lt;p>&lt;strong>Python标准logging的痛点：&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">logging&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 痛点1：全局配置影响所有模块&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">basicConfig&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DEBUG&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 会影响整个程序&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 痛点2：重复日志问题&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getLogger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;app&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getLogger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;app.module&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 如果配置不当，容易出现重复日志&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 痛点3：格式化字符串需要使用%&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;User &lt;/span>&lt;span class="si">%s&lt;/span>&lt;span class="s2"> logged in from &lt;/span>&lt;span class="si">%s&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">username&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ip_address&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 不如f-string直观&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 痛点4：难以获取调用者信息&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 需要复杂的格式化字符串才能显示文件名和行号&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>Loguru的解决方案：&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">loguru&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">logger&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 优势1：单例模式，避免配置混乱&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 无需担心多个logger实例的配置问题&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 优势2：自动避免重复日志&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 智能的处理器管理，不会出现重复输出&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 优势3：支持现代字符串格式化&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;User &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2"> logged in from &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">ip_address&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 也支持{}格式化&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;User &lt;/span>&lt;span class="si">{}&lt;/span>&lt;span class="s2"> logged in from &lt;/span>&lt;span class="si">{}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">username&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ip_address&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 优势4：自动包含丰富的上下文信息&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 默认显示时间、级别、模块、函数、行号等&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="25-性能和内存使用对比">2.5 性能和内存使用对比
&lt;/h3>&lt;p>&lt;strong>性能测试代码：&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">time&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">logging&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">loguru&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">logger&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 测试标准logging性能&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_standard_logging&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std_logger&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getLogger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std_logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">setLevel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DEBUG&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">handler&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">StreamHandler&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">handler&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">setLevel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DEBUG&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std_logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">addHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">handler&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">start&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10000&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std_logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;Test message &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">end&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">end&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">start&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 测试Loguru性能&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_loguru&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">remove&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">handler_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stderr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">level&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;DEBUG&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">start&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10000&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;Test message &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">end&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">remove&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">handler_id&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">end&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">start&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>性能对比结果：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>标准logging&lt;/strong>：在简单场景下性能略好，但功能有限&lt;/li>
&lt;li>&lt;strong>Loguru&lt;/strong>：在启用高级功能（如异步、格式化）时性能接近标准logging，但功能更强大&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>内存使用对比：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>标准logging&lt;/strong>：每个logger实例占用较多内存&lt;/li>
&lt;li>&lt;strong>Loguru&lt;/strong>：单例模式，内存使用更高效&lt;/li>
&lt;/ul>
&lt;h3 id="26-迁移成本对比">2.6 迁移成本对比
&lt;/h3>&lt;p>&lt;strong>从标准logging迁移到Loguru：&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 原有代码&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">logging&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getLogger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="vm">__name__&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;This is a log message&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 迁移后代码&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">loguru&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">logger&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;This is a log message&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># API几乎完全兼容&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>迁移优势：&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>&lt;strong>API兼容性&lt;/strong>：Loguru的API设计与标准logging相似，学习成本低&lt;/li>
&lt;li>&lt;strong>渐进式迁移&lt;/strong>：可以在项目中同时使用两者，逐步迁移&lt;/li>
&lt;li>&lt;strong>向后兼容&lt;/strong>：Loguru提供了与标准logging的集成方案&lt;/li>
&lt;/ol>
&lt;h3 id="27-总结对比">2.7 总结对比
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>对比维度&lt;/th>
&lt;th>Python标准logging&lt;/th>
&lt;th>Loguru&lt;/th>
&lt;th>推荐选择&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>学习曲线&lt;/strong>&lt;/td>
&lt;td>陡峭，需要理解多个概念&lt;/td>
&lt;td>平缓，直观易用&lt;/td>
&lt;td>&lt;strong>Loguru&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>配置复杂度&lt;/strong>&lt;/td>
&lt;td>高，需要多个步骤&lt;/td>
&lt;td>低，一行代码搞定&lt;/td>
&lt;td>&lt;strong>Loguru&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>功能完整性&lt;/strong>&lt;/td>
&lt;td>基础功能，需要扩展&lt;/td>
&lt;td>开箱即用的高级功能&lt;/td>
&lt;td>&lt;strong>Loguru&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>代码简洁性&lt;/strong>&lt;/td>
&lt;td>冗长，模板代码多&lt;/td>
&lt;td>简洁，表达力强&lt;/td>
&lt;td>&lt;strong>Loguru&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>调试友好性&lt;/strong>&lt;/td>
&lt;td>一般&lt;/td>
&lt;td>优秀，详细信息丰富&lt;/td>
&lt;td>&lt;strong>Loguru&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>性能&lt;/strong>&lt;/td>
&lt;td>略好（简单场景）&lt;/td>
&lt;td>接近，功能更强大&lt;/td>
&lt;td>&lt;strong>Loguru&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>社区支持&lt;/strong>&lt;/td>
&lt;td>官方支持，历史悠久&lt;/td>
&lt;td>活跃社区，快速迭代&lt;/td>
&lt;td>&lt;strong>Loguru&lt;/strong>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>结论：&lt;/strong>
Loguru在几乎所有的对比维度上都优于Python标准logging库。它不仅大大简化了日志配置的复杂性，还提供了更丰富的功能和更好的用户体验。对于新项目，强烈推荐直接使用Loguru；对于现有项目，也可以考虑逐步迁移到Loguru以提升开发效率和日志管理能力。&lt;/p></description></item><item><title>本地定制Pytest插件及发布指南</title><link>https://chengxiaqiucao.github.io/post/022-pytest%E7%9A%84hook%E6%9C%BA%E5%88%B6%E5%8F%8A%E7%94%A8%E9%80%94/</link><pubDate>Tue, 22 Jul 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/022-pytest%E7%9A%84hook%E6%9C%BA%E5%88%B6%E5%8F%8A%E7%94%A8%E9%80%94/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/022-pytest%E7%9A%84hook%E6%9C%BA%E5%88%B6%E5%8F%8A%E7%94%A8%E9%80%94/Pasted-20250721-2.png" alt="Featured image of post 本地定制Pytest插件及发布指南" />&lt;h2 id="前言">前言
&lt;/h2>&lt;p>&lt;code>PyTest&lt;/code> 是目前自动化测试领域使用非常广泛的一个测试框架，基于Python脚本的自动化，通常都会结合该框架完成测试脚本的管理和运行调度。&lt;/p>
&lt;p>而Pytest之所以强大，除了前面我们介绍过它的Fixture夹具功能，还有一个很重要的方面就是它强大的生态，也就是它非常强大的插件支持。仅官方显示的插件清单已有1600多个&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/022-pytest%E7%9A%84hook%E6%9C%BA%E5%88%B6%E5%8F%8A%E7%94%A8%E9%80%94/Pasted-20250720.png"
width="1357"
height="704"
srcset="https://chengxiaqiucao.github.io/post/022-pytest%E7%9A%84hook%E6%9C%BA%E5%88%B6%E5%8F%8A%E7%94%A8%E9%80%94/Pasted-20250720_hu_906ee6e0f07ffdbb.png 480w, https://chengxiaqiucao.github.io/post/022-pytest%E7%9A%84hook%E6%9C%BA%E5%88%B6%E5%8F%8A%E7%94%A8%E9%80%94/Pasted-20250720_hu_bfb32424d6bfcca5.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="192"
data-flex-basis="462px"
>&lt;/p>
&lt;p>而实际工作中，除了通过Pytest丰富的插件生态完成增强外，对于我们的一些个性化需求，我们要自行完成插件开发其实也非常方便，当然这也是Pytest 插件生态能如此繁荣的基础。&lt;/p>
&lt;p>本文我们就结合一个基本案例介绍下如何完成Pytest的本地插件开发。&lt;/p>
&lt;h2 id="pytest-插件的实现原理">Pytest 插件的实现原理
&lt;/h2>&lt;p>Pytest的插件机制，其实主要是通过它提供的钩子函数(hook)和命令行扩展来实现的。&lt;/p>
&lt;h3 id="钩子函数">钩子函数
&lt;/h3>&lt;p>钩子函数是 Pytest 提供的一类特殊函数，允许插件在特定的测试事件发生时执行自定义代码。常用的钩子函数包括如：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&lt;code>pytest_addoption&lt;/code>&lt;/strong>: 用于添加命令行选项。&lt;/li>
&lt;li>&lt;strong>&lt;code>pytest_configure&lt;/code>&lt;/strong>: 在测试运行之前进行配置。&lt;/li>
&lt;li>&lt;strong>&lt;code>pytest_runtest_setup&lt;/code>&lt;/strong>: 在每个测试用例执行之前调用。&lt;/li>
&lt;li>&lt;strong>&lt;code>pytest_runtest_teardown&lt;/code>&lt;/strong>: 在每个测试用例执行之后调用。&lt;/li>
&lt;li>&lt;strong>&lt;code>pytest_sessionfinish&lt;/code>&lt;/strong>: 在测试会话结束时调用。&lt;/li>
&lt;/ul>
&lt;h3 id="命令行选项">命令行选项
&lt;/h3>&lt;p>通过 &lt;code>pytest_addoption&lt;/code> 钩子，插件可以定义自定义的命令行选项。这使得用户在运行测试时可以控制插件的行为。例如，可以添加一个选项来启用或禁用某些功能。&lt;/p>
&lt;h3 id="配置对象">配置对象
&lt;/h3>&lt;p>在钩子函数中，插件可以访问 Pytest 的配置对象（&lt;code>config&lt;/code>），该对象包含命令行选项、测试上下文和其他配置信息。通过配置对象，插件可以获取用户输入的选项并相应地调整其行为。&lt;/p>
&lt;h3 id="数据存储">数据存储
&lt;/h3>&lt;p>插件可以在钩子函数中使用配置对象来存储和管理数据。例如，可以在 &lt;code>pytest_configure&lt;/code> 中初始化一个列表，在每个测试用例执行后将数据存储到这个列表中，最终在 &lt;code>pytest_sessionfinish&lt;/code> 中输出结果。&lt;/p>
&lt;h3 id="hookimpl-装饰器">hookimpl 装饰器
&lt;/h3>&lt;p>Pytest中，钩子函数可以使用 &lt;code>@pytest.hookimpl&lt;/code> 装饰器来控制钩子的执行顺序和行为。主要参数包括：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&lt;code>tryfirst&lt;/code>&lt;/strong>: 如果设置为 &lt;code>True&lt;/code>，该钩子将在其他同类钩子之前运行。通常在需要优先处理特定逻辑时使用。&lt;/li>
&lt;li>&lt;strong>&lt;code>trylast&lt;/code>&lt;/strong>: 与 &lt;code>tryfirst&lt;/code> 相反，设置为 &lt;code>True&lt;/code> 则该钩子将在其他同类钩子之后运行。&lt;/li>
&lt;/ul>
&lt;p>通过这种方式，插件可以精确控制在测试执行过程中的各个阶段插入自定义逻辑。&lt;/p>
&lt;h2 id="实操案例">实操案例
&lt;/h2>&lt;p>本文我们将开发一个本地的Pytest 插件，用来记录每个测试用例的执行时间，并在测试结束后提供汇总统计信息。&lt;/p>
&lt;h3 id="环境准备">环境准备
&lt;/h3>&lt;p>创建一个新的目录用于你的插件：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">mkdir pytest_timing_plugin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> pytest_timing_plugin
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="插件实现代码">插件实现代码
&lt;/h3>&lt;p>在插件目录中，创建一个名为 &lt;code>pytest_timing_plugin.py&lt;/code> 的文件：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># pytest_timing_plugin.py&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">pytest&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">time&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">pytest_addoption&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">parser&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">parser&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">addoption&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;--timing&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">action&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;store_true&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">help&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Enable timing report&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@pytest.hookimpl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tryfirst&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">pytest_configure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getoption&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;timing&amp;#34;&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_timing_data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_total_duration&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@pytest.hookimpl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tryfirst&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">pytest_runtest_setup&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">item&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">item&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getoption&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;timing&amp;#34;&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">item&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">start_time&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@pytest.hookimpl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tryfirst&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">pytest_runtest_teardown&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">item&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">item&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getoption&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;timing&amp;#34;&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">duration&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">item&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">start_time&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">item&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_timing_data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">item&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">nodeid&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">duration&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">item&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_total_duration&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">duration&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@pytest.hookimpl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tryfirst&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">pytest_sessionfinish&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">session&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">exitstatus&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">session&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getoption&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;timing&amp;#34;&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s2">Timing Report:&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">test_id&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">duration&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">session&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_timing_data&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">test_id&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">duration&lt;/span>&lt;span class="si">:&lt;/span>&lt;span class="s2">.4f&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2"> seconds&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;Total Duration: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">session&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_total_duration&lt;/span>&lt;span class="si">:&lt;/span>&lt;span class="s2">.4f&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2"> seconds&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>pytest_addoption&lt;/code>: 添加 &lt;code>--timing&lt;/code> 选项来启用时间记录。&lt;/li>
&lt;li>&lt;code>pytest_runtest_setup&lt;/code>: 在每个测试开始时记录开始时间。&lt;/li>
&lt;li>&lt;code>pytest_runtest_teardown&lt;/code>: 在每个测试结束时计算并记录持续时间，并累加到总持续时间。&lt;/li>
&lt;li>&lt;code>pytest_sessionfinish&lt;/code>: 在测试会话结束时打印每个测试的执行时间报告以及总执行时间。&lt;/li>
&lt;/ul>
&lt;h3 id="准备测试文件">准备测试文件
&lt;/h3>&lt;p>在相同目录下，创建一个测试文件 &lt;code>test_sample.py&lt;/code>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># test_sample.py&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">time&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_example_1&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="kc">True&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_example_2&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="kc">True&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_example_3&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">1.5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="kc">True&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="打包插件">打包插件
&lt;/h2>&lt;p>如果我们希望将插件分享给其他人，可以将其进行打包。创建一个 &lt;code>setup.py&lt;/code> 文件：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># setup.py&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">setuptools&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">setup&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">setup&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;pytest-timing-plugin&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">version&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;0.1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">description&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;A pytest plugin to measure and report test execution time&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">py_modules&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;pytest_timing_plugin&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">entry_points&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;pytest11&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;timing_plugin = pytest_timing_plugin&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在插件目录下，运行：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pip install .
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>即在本地Pytest环境中包含了我们刚才开发的插件了。&lt;/p>
&lt;h3 id="运行测试">运行测试
&lt;/h3>&lt;p>使用 &lt;code>pytest&lt;/code> 命令运行测试，同时传递自定义选项：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pytest --timing
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>运行结果：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/022-pytest%E7%9A%84hook%E6%9C%BA%E5%88%B6%E5%8F%8A%E7%94%A8%E9%80%94/Pasted-20250721.png"
width="1204"
height="583"
srcset="https://chengxiaqiucao.github.io/post/022-pytest%E7%9A%84hook%E6%9C%BA%E5%88%B6%E5%8F%8A%E7%94%A8%E9%80%94/Pasted-20250721_hu_96b78ce7a98ec1f.png 480w, https://chengxiaqiucao.github.io/post/022-pytest%E7%9A%84hook%E6%9C%BA%E5%88%B6%E5%8F%8A%E7%94%A8%E9%80%94/Pasted-20250721_hu_69a23f36bca9d3d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="206"
data-flex-basis="495px"
>&lt;/p>
&lt;h2 id="发布插件">发布插件
&lt;/h2>&lt;p>而如果我们希望在更大范围，公开发布我们开发的插件，可以发布到 &lt;code>PyPI&lt;/code> 上，得到更广泛传播和应用。&lt;/p>
&lt;h3 id="发布准备">发布准备
&lt;/h3>&lt;p>安装相关发布工具：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pip install setuptools twine
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;strong>&lt;code>setuptools&lt;/code>&lt;/strong>: 用于打包 Python 项目&lt;/li>
&lt;li>&lt;strong>&lt;code>twine&lt;/code>&lt;/strong>: 用于上传包到 PyPI&lt;/li>
&lt;/ul>
&lt;p>并将代码上传到开源平台如&lt;code>Github&lt;/code>&lt;/p>
&lt;h3 id="准备setuppy">准备&lt;code>setup.py&lt;/code>
&lt;/h3>&lt;p>补充内容如下，包含源码项目：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># setup.py&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">setuptools&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">setup&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">setup&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;pytest-timing-plugin&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">version&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;0.5&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># 更新版本号&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">description&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;A pytest plugin to measure and report test execution time&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">py_modules&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;pytest_timing_plugin&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">entry_points&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;pytest11&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;timing_plugin = pytest_timing_plugin&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">author&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;城下秋草&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">author_email&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;your.email@example.com&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">url&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;https://github.com/chengxiaqiucao/pytest-timing-plugin&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">classifiers&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Programming Language :: Python :: 3&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Framework :: Pytest&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;License :: OSI Approved :: MIT License&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="创建-readme">创建 &lt;code>README&lt;/code>
&lt;/h3>&lt;p>创建一个 &lt;code>README.md&lt;/code> 文件，描述插件的功能和用法。&lt;/p>
&lt;h3 id="构建分发包">构建分发包
&lt;/h3>&lt;p>在插件目录下，运行以下命令以生成分发包：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">python setup.py sdist bdist_wheel
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这会在 &lt;code>dist&lt;/code> 目录中生成 &lt;code>.tar.gz&lt;/code> 和 &lt;code>.whl&lt;/code> 文件。&lt;/p>
&lt;h3 id="发布到-pypi">发布到 PyPI
&lt;/h3>&lt;p>使用 &lt;code>twine&lt;/code> 上传包到 PyPI。首先，当然我们首先需要在 &lt;a class="link" href="https://pypi.org/account/register/" target="_blank" rel="noopener"
>PyPI&lt;/a> 拥有一个账户。&lt;/p>
&lt;p>然后，运行以下命令：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">python -m twine upload dist/*
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>按要求输入PyPI 的API Token，完成上传&lt;/p>
&lt;p>完成后 PyPI 官网即可查询到该插件&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/022-pytest%E7%9A%84hook%E6%9C%BA%E5%88%B6%E5%8F%8A%E7%94%A8%E9%80%94/Pasted-20250721-2.png"
width="1601"
height="613"
srcset="https://chengxiaqiucao.github.io/post/022-pytest%E7%9A%84hook%E6%9C%BA%E5%88%B6%E5%8F%8A%E7%94%A8%E9%80%94/Pasted-20250721-2_hu_f5aaff7e3847ec15.png 480w, https://chengxiaqiucao.github.io/post/022-pytest%E7%9A%84hook%E6%9C%BA%E5%88%B6%E5%8F%8A%E7%94%A8%E9%80%94/Pasted-20250721-2_hu_308adf9d752b572f.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="261"
data-flex-basis="626px"
>&lt;/p>
&lt;h3 id="验证安装">验证安装
&lt;/h3>&lt;p>上传成功后，可以通过以下命令在其他环境中安装插件：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pip install pytest-timing-plugin
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="更新插件">更新插件
&lt;/h3>&lt;p>如果需要更新插件，只需在 &lt;code>setup.py&lt;/code> 中更新版本号，重新生成分发包，然后再次使用 &lt;code>twine&lt;/code> 上传即可。&lt;/p>
&lt;hr>
&lt;p>以上就是关于 Pytest 插件开发的实际案例分享&lt;/p></description></item><item><title>提升工作效率的秘密！自用截图工具分享，长图&amp;动态图轻松搞定</title><link>https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/</link><pubDate>Tue, 24 Jun 2025 12:27:48 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/title.png" alt="Featured image of post 提升工作效率的秘密！自用截图工具分享，长图&amp;动态图轻松搞定" />&lt;h2 id="前言">前言
&lt;/h2>&lt;p>日常工作、编写文档、和他人的线上沟通交流过程中，一图胜千言。所以有一个非常高频的动作，就是从当前屏幕上截图，再经过一些进一步的标注，达到信息传递的目的。&lt;/p>
&lt;p>我们的电脑也都自带截屏功能，通过键盘上的 &lt;code>PrtSc&lt;/code> 按键就可以呼出系统自带的截屏工具，但自带工具功能相对还是比较简单，而且还是有不少后续步骤，对于滚动的长页面截长图或者重现操作的动态图也不支持。&lt;/p>
&lt;p>所以就有了很多专门的效率工具用于截图处理，这类工具非常多，这里仅仅把笔者自用的几个常用工具分享给大家，如有其他更优秀的工具，大家也可留言分享哦~~&lt;/p>
&lt;h2 id="强大易用的-snipaste">强大易用的 Snipaste
&lt;/h2>&lt;p>&lt;strong>Snipaste&lt;/strong> 是一个国产强大截图工具，有专业版和免费版之分，但免费版功能已足够强大，应付日常工作需要不在话下。&lt;/p>
&lt;p>官网： &lt;a class="link" href="https://www.snipaste.com" target="_blank" rel="noopener"
>https://www.snipaste.com&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/Pasted-20250624.png"
width="1555"
height="849"
srcset="https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/Pasted-20250624_hu_85330967be178d54.png 480w, https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/Pasted-20250624_hu_68ccb2a7d488660d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="183"
data-flex-basis="439px"
>&lt;/p>
&lt;p>正如软件的名称，这是一款专注在 &lt;strong>截图 + 贴图&lt;/strong> 功能的工具。和传统截图工具相比，这个工具最大的优势就是它丰富的截图方式、极为方便的二次编辑以及高效的贴图演示能力&lt;/p>
&lt;h3 id="丰富的截图功能">丰富的截图功能
&lt;/h3>&lt;p>Snipaste的截图， 默认快捷键 &lt;code>F1&lt;/code> 呼出截图工具，经过多年优化，在截图易用性上已极为出色。&lt;/p>
&lt;h4 id="自动检测界面元素区域">自动检测界面元素区域
&lt;/h4>&lt;p>可以根据鼠标指向自动识别界面元素，框定截图范围&lt;/p>
&lt;h4 id="像素级的鼠标移动控制截图范围控制-wasd等快捷键">像素级的鼠标移动控制、截图范围控制 （&lt;strong>WASD&lt;/strong>等快捷键）
&lt;/h4>&lt;p>精细化截图时可以通过快捷键，按像素级别进行范围调整&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/snipaste.png"
width="1349"
height="1007"
srcset="https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/snipaste_hu_3d4e78d1b09260cc.png 480w, https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/snipaste_hu_e14e9c36f8ed7a91.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="321px"
>&lt;/p>
&lt;h4 id="便捷的取色器-f1截图-c取色-f3贴图">便捷的取色器 （&lt;code>F1&lt;/code>截图, &lt;code>C&lt;/code>取色, &lt;code>F3&lt;/code>贴图）
&lt;/h4>&lt;p>对于一些图像编辑，需要精确控制颜色场景时，通过快捷键可以便捷取色，且可很方便提取不同格式的颜色取值
&lt;img src="https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/Pasted-20250624-1.png"
width="450"
height="352"
srcset="https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/Pasted-20250624-1_hu_52212b21df7e806c.png 480w, https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/Pasted-20250624-1_hu_6c65f4b0469a561e.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="306px"
>&lt;/p>
&lt;h4 id="支持跨多屏幕的图像捕获">支持跨多屏幕的图像捕获
&lt;/h4>&lt;p>对于有多个显示屏的情况，可以实现跨屏幕的截图&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/Pasted-20250624-2.png"
width="886"
height="578"
srcset="https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/Pasted-20250624-2_hu_5e933007b1a80346.png 480w, https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/Pasted-20250624-2_hu_83bde3ee5097642.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="153"
data-flex-basis="367px"
>&lt;/p>
&lt;h4 id="自动保存及截图历史回溯">自动保存及截图历史回溯
&lt;/h4>&lt;p>可以在工具设置中配置截图自动保存，也可在截图工具界面上选择保存到剪贴板&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/Pasted-20250624-3.png"
width="514"
height="691"
srcset="https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/Pasted-20250624-3_hu_15633f70c4266ee0.png 480w, https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/Pasted-20250624-3_hu_42d6564153759c53.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="74"
data-flex-basis="178px"
>&lt;/p>
&lt;p>而它还有一个非常实用的截图历史回溯功能，可以将成功保存的截图，在进入截图界面后通过快捷键 &lt;code>,&lt;/code>和 &lt;code>.&lt;/code> 进行回溯。&lt;/p>
&lt;p>这里成功保存图片的定义包括：&lt;/p>
&lt;ul>
&lt;li>保存到剪贴板 ( &lt;img src="https://www.snipaste.com/img/copy16.svg"
loading="lazy"
> / Ctrl + C / Enter / 鼠标左键双击 截屏区域)&lt;/li>
&lt;li>保存到文件 ( &lt;img src="https://www.snipaste.com/img/save16.svg"
loading="lazy"
> / Ctrl + S)&lt;/li>
&lt;li>保存到贴图 ( &lt;img src="https://www.snipaste.com/img/pin16.svg"
loading="lazy"
> / Ctrl + T / 鼠标中键单击 截屏区域)&lt;/li>
&lt;li>快捷保存 (Shift + &lt;img src="https://www.snipaste.com/img/save16.svg"
loading="lazy"
> / Ctrl + Shift + S)&lt;/li>
&lt;/ul>
&lt;h3 id="图片标注功能">图片标注功能
&lt;/h3>&lt;p>截图工具选定区域后，就莫默认进入标注编辑界面，在这里可以在图片中添加必要的说明文章，通过箭头、画笔、马赛克等工具进行丰富的标注功能。&lt;/p>
&lt;p>另外，这里还有一个技巧，标注时选中标注工具如矩形、椭圆、或者 记号笔/马赛克/高斯模糊/橡皮擦 的&lt;strong>矩形&lt;/strong>填充画笔，再 &lt;code>鼠标右键&lt;/code> 点击对应元素即可快速完成对应标注&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/84l3yQ5e.gif"
loading="lazy"
>&lt;/p>
&lt;h3 id="贴图">贴图
&lt;/h3>&lt;p>贴图是 &lt;code>Snipaste&lt;/code> 的亮点功能，快捷键 &lt;code>F3&lt;/code>，可以将当前剪贴板中的图片&lt;strong>置顶显示&lt;/strong>在当前屏幕上&lt;/p>
&lt;p>主要应用场景是我们可以通过截图后贴图暂时保存当前界面，在后续操作后在和前面的贴图进行便捷的比对查看。&lt;/p>
&lt;p>功能也很丰富且实用：&lt;/p>
&lt;ul>
&lt;li>贴图后，&lt;code>滚轮&lt;/code>可以调整缩放大小&lt;/li>
&lt;li>&lt;code>ctrl + 滚轮&lt;/code> 可以调整图片透明度&lt;/li>
&lt;li>根据 &lt;code>首选项 - 控制 - 开关鼠标穿透&lt;/code> 中的快捷键，可以让鼠标穿过截图继续操作图片下的屏幕&lt;/li>
&lt;li>快捷键 &lt;code>1&lt;/code>或 &lt;code>2&lt;/code> ，&lt;code>3&lt;/code>, &lt;code>4&lt;/code>可以旋转图片&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>总之， &lt;strong>Snipaste&lt;/strong> 是一款能让你在截图时体会随心所欲感觉的强力工具，强烈推荐！&lt;/p>&lt;/blockquote>
&lt;h2 id="截长图">截长图
&lt;/h2>&lt;p>除了普通的截图外，还有一个常见的需求是截取长图，特别是网页或软件界面中需要滚动的情况。&lt;/p>
&lt;p>&lt;em>其实比较早的 &lt;strong>Snipaste&lt;/strong> 版本中也支持长截图功能，但新版本似乎已移除。&lt;/em>&lt;/p>
&lt;p>这里我比较常用的是 &lt;strong>QQ&lt;/strong> 自带的截图功能，使用比较简单，开启QQ以后，通过快捷键 &lt;code>ctrl + alt + A&lt;/code> 呼出截图功能，选择长截图即可，如下图所示，不再赘述。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/test.gif"
loading="lazy"
>&lt;/p>
&lt;p>如果不想登录QQ，Github上也有一个 &lt;code>QQ截图独立版&lt;/code> 的开源工具，效果相关。地址如下：&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/insoxin/QQScreenShot" target="_blank" rel="noopener"
>https://github.com/insoxin/QQScreenShot&lt;/a>&lt;/p>
&lt;h2 id="动态操作截图">动态操作截图
&lt;/h2>&lt;p>还有一个场景，就是我们很多时候希望将自己的操作记录下来，录制视频相对比较麻烦而且文件较大，比较简单的就是把操作保存为一个动态的GIF图片，这里我常用的工具是 &lt;strong>LICEcap&lt;/strong>&lt;/p>
&lt;p>这也是一个开源工具，&lt;strong>官网&lt;/strong>： &lt;a class="link" href="https://www.cockos.com/licecap/" target="_blank" rel="noopener"
>https://www.cockos.com/licecap/&lt;/a>&lt;/p>
&lt;p>打开软件，根据需要调整需要录制的区域大小，点击 &lt;code>record&lt;/code>，配置相关录制参数
&lt;img src="https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/Pasted-20250624-4.png"
width="1156"
height="961"
srcset="https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/Pasted-20250624-4_hu_4154c73327e748b0.png 480w, https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/Pasted-20250624-4_hu_2bc9d4f830c00002.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="120"
data-flex-basis="288px"
>&lt;/p>
&lt;p>比如下面就是根据上述配置得到一个GIF操作图&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/102-%E5%B8%B8%E7%94%A8%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7/demo.gif"
loading="lazy"
>&lt;/p>
&lt;hr>
&lt;p>以上就是本次关于截图实用工具的分享，也欢迎小伙伴们积极留言，还有哪些我们日常能用到的宝藏工具软件呢？&lt;/p>
&lt;p>回复 &lt;code>进群&lt;/code> 加入秋草的技术交流群，和小伙伴们分享技术，互换资讯~~
回复 &lt;code>大纲&lt;/code> 可查看秋草测试技术高级体系化课程详细目录 😉😉😉&lt;/p></description></item><item><title>AI自动化工具Midscene.js源码解析</title><link>https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/</link><pubDate>Sun, 22 Jun 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-5.png" alt="Featured image of post AI自动化工具Midscene.js源码解析" />&lt;h2 id="前言">前言
&lt;/h2>&lt;p>在之前的文章 【】我们了解了字节跳动推出的AI测试工具 &lt;code>Midscene.js&lt;/code>， 不管是智能解析项目，测试执行还是最后的报告生成都颇为亮眼，而且除了基于浏览器的web应用，还支持了Android应用的自动化。&lt;/p>
&lt;p>那么这个项目具体是如何利用 AI 智能完成测试执行任务的呢？ 本文我们就结合 Midscene.js 的开源项目源码，对该项目的实现，以及对大模型的应用进行深入分析。&lt;/p>
&lt;h2 id="项目整体架构">项目整体架构
&lt;/h2>&lt;p>通过项目源码的分析，该项目的总体架构可以用下图概括：
&lt;img src="https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/midscene_arch.png"
width="1742"
height="794"
srcset="https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/midscene_arch_hu_9172cfb8f9e87682.png 480w, https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/midscene_arch_hu_414f7b1d2f727692.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="219"
data-flex-basis="526px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>用户&lt;/strong>: 用户是Midscene的起点，通过自然语言描述、JavaScript SDK 或 YAML 脚本来定义自动化任务和目标。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>MCP 客户端 (MCP Clients)&lt;/strong>: Midscene还支持其他MCP客户端直接使用其能力，这表明它可能有一个API或集成点供其他系统调用。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Midscene Core&lt;/strong>: 这是Midscene的核心逻辑层。它负责解析用户的指令，与AI模型交互，并协调自动化代理来执行操作。它也管理报告生成和缓存。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>AI 模型&lt;/strong>: Midscene支持多种AI模型，包括：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>多模态 LLM (Multimodal LLM)&lt;/strong>：如 GPT-4o, Gemini-2.5-Pro，用于理解更复杂的指令和上下文。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>视觉语言模型 (Visual-Language Models)&lt;/strong>：如 Qwen2.5-VL, Doubao-1.5-thinking-vision-pro, UI-TARS，特别推荐用于UI自动化，因为它们能更好地理解视觉信息。 AI模型接收来自Midscene Core的请求，并返回执行动作或获取信息的指令。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>自动化代理&lt;/strong>: 这是一个关键的执行层，负责根据Midscene Core的指令，实际操作目标应用程序或UI。它能获取UI状态和截图，并将其反馈给Midscene Core。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>目标应用程序/UI&lt;/strong>: 这是自动化操作的实际对象，可以是：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>浏览器 (Browser)&lt;/strong>：通过Playwright或Puppeteer等工具进行Web自动化。&lt;/li>
&lt;li>&lt;strong>Android 应用 (Android App)&lt;/strong>：进行Android自动化。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>可视化报告 (Visual Reports)&lt;/strong>: Midscene提供可视化报告，方便用户理解、回放和调试整个自动化过程。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Playground&lt;/strong>: 内置的Playground环境，允许用户通过自然语言指令进行调试。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>缓存机制 (Caching Mechanism)&lt;/strong>: Midscene利用缓存机制来提高效率，允许脚本更快地重放以获得结果。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="主要的内置系统提示词">主要的内置系统提示词
&lt;/h2>&lt;p>&lt;code>MidScene&lt;/code> 的智能解析能力主要依托 LLM 大模型来实现，因此在调用 LLM 的时候，其设定的系统提示词就尤为关键。通过分析源码，可以看到 MidScene 针对不同类型的任务，设定了不同的系统提示词。总结如下：&lt;/p>
&lt;h3 id="1-任务规划类-system-prompts">1. 任务规划类 System Prompts
&lt;/h3>&lt;p>该项目包含三种不同的任务规划提示词：&lt;/p>
&lt;p>&lt;strong>传统LLM模型的任务规划提示词&lt;/strong> - 用于指导传统语言模型将用户指令分解为一系列可执行的UI操作动作。&lt;/p>
&lt;p>&lt;code>packages/core/src/ai-model/prompt/llm-planning.ts&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">llmLocateParam&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`locate: {{&amp;#34;id&amp;#34;: string, &amp;#34;prompt&amp;#34;: string}} | null`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">systemTemplateOfLLM&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">({&lt;/span> &lt;span class="nx">pageType&lt;/span> &lt;span class="p">}&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">pageType&lt;/span>: &lt;span class="kt">PageType&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">## Role
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">You are a versatile professional in software UI automation. Your outstanding contributions will impact the user experience of billions of users.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">## Objective
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">- Decompose the instruction user asked into a series of actions
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">- Locate the target element if possible
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">- If the instruction cannot be accomplished, give a further plan.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">## Workflow
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">1. Receive the screenshot, element description of screenshot(if any), user&amp;#39;s instruction and previous logs.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">2. Decompose the user&amp;#39;s task into a sequence of actions, and place it in the \`actions\` field. There are different types of actions (Tap / Hover / Input / KeyboardPress / Scroll / FalsyConditionStatement / Sleep &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">pageType&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;android&amp;#39;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;/ AndroidBackButton / AndroidHomeButton / AndroidRecentAppsButton&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">). The &amp;#34;About the action&amp;#34; section below will give you more details.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">3. Precisely locate the target element if it&amp;#39;s already shown in the screenshot, put the location info in the \`locate\` field of the action.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">4. If some target elements is not shown in the screenshot, consider the user&amp;#39;s instruction is not feasible on this page. Follow the next steps.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">5. Consider whether the user&amp;#39;s instruction will be accomplished after all the actions
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - If yes, set \`taskWillBeAccomplished\` to true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - If no, don&amp;#39;t plan more actions by closing the array. Get ready to reevaluate the task. Some talent people like you will handle this. Give him a clear description of what have been done and what to do next. Put your new plan in the \`furtherPlan\` field. The &amp;#34;How to compose the \`taskWillBeAccomplished\` and \`furtherPlan\` fields&amp;#34; section will give you more details.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">## Constraints
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">- All the actions you composed MUST be based on the page context information you get.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">- Trust the &amp;#34;What have been done&amp;#34; field about the task (if any), don&amp;#39;t repeat actions in it.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">- Respond only with valid JSON. Do not write an introduction or summary or markdown prefix like \`\`\`json\`\`\`.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">- If the screenshot and the instruction are totally irrelevant, set reason in the \`error\` field.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">## About the \`actions\` field
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">The \`locate\` param is commonly used in the \`param\` field of the action, means to locate the target element to perform the action, it conforms to the following scheme:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">type LocateParam = {{
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;id&amp;#34;: string, // the id of the element found. It should either be the id marked with a rectangle in the screenshot or the id described in the description.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;prompt&amp;#34;?: string // the description of the element to find. It can only be omitted when locate is null.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">}} | null // If it&amp;#39;s not on the page, the LocateParam should be null
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">## Supported actions
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">Each action has a \`type\` and corresponding \`param\`. To be detailed:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">- type: &amp;#39;Tap&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> * {{ &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">llmLocateParam&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">- type: &amp;#39;RightClick&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> * {{ &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">llmLocateParam&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">- type: &amp;#39;Hover&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> * {{ &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">llmLocateParam&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">- type: &amp;#39;Input&amp;#39;, replace the value in the input field
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> * {{ &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">llmLocateParam&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">, param: {{ value: string }} }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> * \`value\` is the final value that should be filled in the input field. No matter what modifications are required, just provide the final value user should see after the action is done.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">- type: &amp;#39;KeyboardPress&amp;#39;, press a key
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> * {{ param: {{ value: string }} }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">- type: &amp;#39;Scroll&amp;#39;, scroll up or down.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> * {{
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">llmLocateParam&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> param: {{
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> direction: &amp;#39;down&amp;#39;(default) | &amp;#39;up&amp;#39; | &amp;#39;right&amp;#39; | &amp;#39;left&amp;#39;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> scrollType: &amp;#39;once&amp;#39; (default) | &amp;#39;untilBottom&amp;#39; | &amp;#39;untilTop&amp;#39; | &amp;#39;untilRight&amp;#39; | &amp;#39;untilLeft&amp;#39;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> distance: null | number
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> * To scroll some specific element, put the element at the center of the region in the \`locate\` field. If it&amp;#39;s a page scroll, put \`null\` in the \`locate\` field.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> * \`param\` is required in this action. If some fields are not specified, use direction \`down\`, \`once\` scroll type, and \`null\` distance.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> * {{ param: {{ button: &amp;#39;Back&amp;#39; | &amp;#39;Home&amp;#39; | &amp;#39;RecentApp&amp;#39; }} }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">- type: &amp;#39;ExpectedFalsyCondition&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> * {{ param: {{ reason: string }} }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> * use this action when the conditional statement talked about in the instruction is falsy.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">- type: &amp;#39;Sleep&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> * {{ param: {{ timeMs: number }} }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">&lt;/span>&lt;span class="si">${&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pageType&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;android&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">?&lt;/span> &lt;span class="sb">`- type: &amp;#39;AndroidBackButton&amp;#39;, trigger the system &amp;#34;back&amp;#34; operation on Android devices
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> * {{ param: {{}} }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">- type: &amp;#39;AndroidHomeButton&amp;#39;, trigger the system &amp;#34;home&amp;#34; operation on Android devices
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> * {{ param: {{}} }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">- type: &amp;#39;AndroidRecentAppsButton&amp;#39;, trigger the system &amp;#34;recent apps&amp;#34; operation on Android devices
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> * {{ param: {{}} }}`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="si">}&lt;/span>&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>视觉-语言模型的任务规划提示词&lt;/strong> - 专门针对具有视觉能力的AI模型（如Qwen-VL、Gemini）设计，能够直接处理截图并规划下一步动作。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621.png"
width="1862"
height="840"
srcset="https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621_hu_1f245f4a7381fc92.png 480w, https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621_hu_cbe0546441c0937e.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="221"
data-flex-basis="532px"
>&lt;/p>
&lt;p>&lt;strong>UI-Tars模型的任务规划提示词&lt;/strong> - 为UI-Tars专门设计的GUI智能体提示词，采用思考-行动的格式。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-1.png"
width="1920"
height="869"
srcset="https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-1_hu_193a279710b18da0.png 480w, https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-1_hu_6ecc8617144abc71.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="220"
data-flex-basis="530px"
>&lt;/p>
&lt;h3 id="2-元素定位类-system-prompts">2. 元素定位类 System Prompts
&lt;/h3>&lt;p>&lt;strong>元素定位提示词&lt;/strong> - 用于在页面截图和元素描述中精确定位目标元素，支持传统LLM和视觉-语言模型两种模式。
&lt;img src="https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-2.png"
width="1920"
height="925"
srcset="https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-2_hu_e01f34217f929004.png 480w, https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-2_hu_7241f9c8a4fe6b33.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="207"
data-flex-basis="498px"
>&lt;/p>
&lt;p>&lt;strong>区域定位提示词&lt;/strong> - 用于定位包含目标元素的页面区域，通常不超过300x300像素的区域。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-3.png"
width="1920"
height="869"
srcset="https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-3_hu_2d4e24d478a96e80.png 480w, https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-3_hu_48ab05ecdf3dc135.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="220"
data-flex-basis="530px"
>&lt;/p>
&lt;h3 id="3-数据提取类-system-prompts">3. 数据提取类 System Prompts
&lt;/h3>&lt;p>&lt;strong>数据提取提示词&lt;/strong> - 指导AI从UI界面中提取结构化数据，支持多种数据类型和格式要求。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-4.png"
width="1920"
height="869"
srcset="https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-4_hu_daa210e733e616c6.png 480w, https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-4_hu_944203a030fafb3f.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="220"
data-flex-basis="530px"
>&lt;/p>
&lt;h3 id="4-断言验证类-system-prompts">4. 断言验证类 System Prompts
&lt;/h3>&lt;p>&lt;strong>断言验证提示词&lt;/strong> - 用于验证页面状态是否符合预期的断言条件，支持UI-Tars和普通模型两种格式。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">defaultAssertionPrompt&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;You are a senior testing engineer. User will give an assertion and a screenshot of a page. By carefully viewing the screenshot, please tell whether the assertion is truthy.&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">defaultAssertionResponseJsonFormat&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`Return in the following JSON format:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">{
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> pass: boolean, // whether the assertion is truthy
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> thought: string | null, // string, if the result is falsy, give the reason why it is falsy. Otherwise, put null.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">}`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="5-元素描述类-system-prompts">5. 元素描述类 System Prompts
&lt;/h3>&lt;p>&lt;strong>元素描述提示词&lt;/strong> - 用于生成精确的元素描述，帮助识别页面中的特定UI元素（给定元素）。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">elementDescriberInstruction&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`Describe the element in the red rectangle for precise identification. Use &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">getPreferredLanguage&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">Rules:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">1. Start with element type (button, input, link, etc.)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">2. Include key identifiers:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - Text content: &amp;#34;with text &amp;#39;Submit&amp;#39;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - Visual features: &amp;#34;blue background&amp;#34;, &amp;#34;icon only&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - Position: &amp;#34;top-right&amp;#34;, &amp;#34;below search bar&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">3. Keep description under 20 words
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">4. Don&amp;#39;t mention the red rectangle
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">Return JSON:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">{
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;description&amp;#34;: &amp;#34;brief element type with key identifiers&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;error&amp;#34;?: &amp;#34;error message if any&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">}`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="6-代码生成类-system-prompts">6. 代码生成类 System Prompts
&lt;/h3>&lt;p>&lt;strong>Playwright测试代码生成提示词&lt;/strong> - 基于录制的浏览器会话事件生成可执行的Playwright测试代码。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Create system prompt
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">systemPrompt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`You are an expert test automation engineer specializing in Playwright and Midscene.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">Your task is to generate a complete, executable Playwright test using @midscene/web/playwright that reproduces a recorded browser session.
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>通过对这些 system prompts 采用模块化设计，根据不同的AI模型类型（传统LLM vs 视觉-语言模型）和页面类型（web vs Android）来动态调整。项目还包含了完整的JSON schema定义来确保AI输出的结构化和一致性，并且支持多语言环境 &lt;code>${getPreferredLanguage()}&lt;/code>&lt;/p>&lt;/blockquote>
&lt;h2 id="对用户提示词的补充和约束">对用户提示词的补充和约束
&lt;/h2>&lt;p>除了通过这些系统提示词的设定，让LLM可以更好理解当前任务。对于用户的输入指令，即&lt;code>用户提示词&lt;/code>，在实际处理时，必然还需要进行一定的扩展和约束补充。&lt;/p>
&lt;p>这里我们再分析关于用户提示词的处理：&lt;/p>
&lt;h3 id="1-背景上下文的智能生成">&lt;strong>1. 背景上下文的智能生成&lt;/strong>
&lt;/h3>&lt;p>项目通过&lt;code>generateTaskBackgroundContext&lt;/code>函数为用户指令添加结构化的背景上下文，包括高优先级知识和历史执行日志，防止重复执行相同的操作。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">generateTaskBackgroundContext&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userInstruction&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log?&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userActionContext?&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">Here is the user&amp;#39;s instruction:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">&amp;lt;instruction&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;high_priority_knowledge&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">userActionContext&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;/high_priority_knowledge&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">userInstruction&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">&amp;lt;/instruction&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">These are the logs from previous executions, which indicate what was done in the previous actions.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">Do NOT repeat these actions.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">&amp;lt;previous_logs&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">&amp;lt;/previous_logs&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">Here is the user&amp;#39;s instruction:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">&amp;lt;instruction&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;high_priority_knowledge&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">userActionContext&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;/high_priority_knowledge&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">userInstruction&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">&amp;lt;/instruction&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2-多模态适配的用户提示">&lt;strong>2. 多模态适配的用户提示&lt;/strong>
&lt;/h3>&lt;p>根据AI模型的能力，用户提示会采用不同的格式。对于视觉语言模型，直接传递任务背景；对于传统LLM，则结合页面描述信息。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">automationUserPrompt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vlMode&lt;/span>: &lt;span class="kt">ReturnType&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">typeof&lt;/span> &lt;span class="na">vlLocateMode&lt;/span>&lt;span class="p">&amp;gt;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">vlMode&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">PromptTemplate&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;{taskBackgroundContext}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">inputVariables&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;taskBackgroundContext&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">PromptTemplate&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">pageDescription:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">=====================================
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">{pageDescription}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">=====================================
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">{taskBackgroundContext}`&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">inputVariables&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;pageDescription&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;taskBackgroundContext&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-结构化json-schema验证">&lt;strong>3. 结构化JSON Schema验证&lt;/strong>
&lt;/h3>&lt;p>项目使用OpenAI的结构化输出schema来严格约束AI的响应格式，确保返回的数据符合预定义的结构，包括actions、log、error等必要字段。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">planSchema&lt;/span>: &lt;span class="kt">ResponseFormatJSONSchema&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;json_schema&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">json_schema&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;action_items&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">strict&lt;/span>: &lt;span class="kt">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">schema&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">strict&lt;/span>: &lt;span class="kt">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">properties&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">actions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// TODO
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;array&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">items&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">strict&lt;/span>: &lt;span class="kt">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">properties&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">thought&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">description&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Reasons for generating this task, and why this task is feasible on this page&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">description&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Type of action, one of &amp;#34;Tap&amp;#34;, &amp;#34;RightClick&amp;#34;, &amp;#34;Hover&amp;#34; , &amp;#34;Input&amp;#34;, &amp;#34;KeyboardPress&amp;#34;, &amp;#34;Scroll&amp;#34;, &amp;#34;ExpectedFalsyCondition&amp;#34;, &amp;#34;Sleep&amp;#34;, &amp;#34;AndroidBackButton&amp;#34;, &amp;#34;AndroidHomeButton&amp;#34;, &amp;#34;AndroidRecentAppsButton&amp;#34;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">param&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">anyOf&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;null&amp;#39;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">properties&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;number&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">required&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;value&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">additionalProperties&lt;/span>: &lt;span class="kt">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">properties&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">timeMs&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;number&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">required&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;timeMs&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">additionalProperties&lt;/span>: &lt;span class="kt">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">properties&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">direction&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">scrollType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">distance&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;number&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;null&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">required&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;direction&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;scrollType&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;distance&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">additionalProperties&lt;/span>: &lt;span class="kt">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">properties&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">reason&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">required&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;reason&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">additionalProperties&lt;/span>: &lt;span class="kt">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">properties&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">button&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">required&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;button&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">additionalProperties&lt;/span>: &lt;span class="kt">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">description&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Parameter of the action, can be null ONLY when the type field is Tap or Hover&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">locate&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;null&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">properties&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">prompt&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">required&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;prompt&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">additionalProperties&lt;/span>: &lt;span class="kt">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">description&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Location information for the target element&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">required&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;thought&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;type&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;param&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;locate&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">additionalProperties&lt;/span>: &lt;span class="kt">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">description&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;List of actions to be performed&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">more_actions_needed_by_instruction&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;boolean&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">description&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;If all the actions described in the instruction have been covered by this action and logs, set this field to false.&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">description&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Log what these planned actions do. Do not include further actions that have not been planned.&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">error&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;null&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">description&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Error messages about unexpected situations&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">required&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;actions&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;more_actions_needed_by_instruction&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;log&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;error&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">additionalProperties&lt;/span>: &lt;span class="kt">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>通过这些多层次的增强和约束机制，确保了AI模型能够准确理解用户意图，同时严格控制AI的行为边界。从提示词的定义来看，项目很注重防止AI产生幻觉或执行超出用户指令范围的操作，这对于UI自动化这种需要高精度操作的场景至关重要。&lt;/p>&lt;/blockquote>
&lt;h2 id="大模型上下文窗口限制">大模型上下文窗口限制
&lt;/h2>&lt;p>在利用各种AI大模型完成智能任务时，一个非常重要的约束，就是大模型通常是有着&lt;code>上下文窗口大小限制&lt;/code>的，超过这个限制的历史信息会被丢弃，以节约大模型的资源，提升性能。&lt;/p>
&lt;p>而对于一个自动化测试任务来说，分解拆分后的运行链路往往较长，通常都会超出LLM的上下文限制。&lt;/p>
&lt;p>所以这里我们再分析一下这个项目对于上下文窗口限制的处理是如何实现的&lt;/p>
&lt;h3 id="1-token数量限制控制">1. Token数量限制控制
&lt;/h3>&lt;p>项目通过&lt;code>OPENAI_MAX_TOKENS&lt;/code>环境变量来设置响应的最大token数量&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-6.png"
width="1126"
height="454"
srcset="https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-6_hu_39857d17a17763b5.png 480w, https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-6_hu_d4381f5b29a9ca89.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="248"
data-flex-basis="595px"
>&lt;/p>
&lt;h3 id="2-图像尺寸限制和自动调整">2. 图像尺寸限制和自动调整
&lt;/h3>&lt;p>项目针对不同模型实施图像尺寸限制，特别是对GPT-4o模型实施严格的尺寸控制。当检测到图像尺寸超过GPT-4o的最大输入限制（2000x768或768x2000像素）时，系统会发出警告 。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">warned&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">warnGPT4oSizeLimit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">size&lt;/span>: &lt;span class="kt">Size&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">warned&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">getModelName&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toLowerCase&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">includes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;gpt-4o&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">warningMsg&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`GPT-4o has a maximum image input size of 2000x768 or 768x2000, but got &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">size&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">width&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">x&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">size&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">height&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">. Please set your page to a smaller resolution. Otherwise, the result may be inaccurate.`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">size&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">width&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">size&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">height&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">2000&lt;/span> &lt;span class="o">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">min&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">size&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">width&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">size&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">height&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">768&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">warn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">warningMsg&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">warned&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">size&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">width&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">1800&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nx">size&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">height&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">1800&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">warn&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="sb">`The image size seems too large (&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">size&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">width&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">x&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">size&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">height&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">). It may lead to more token usage, slower response, and inaccurate result.`&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">warned&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-图像压缩和优化">3. 图像压缩和优化
&lt;/h3>&lt;p>系统通过图像压缩来减少数据传输量(&lt;code>packages/shared/src/img/transform.ts&lt;/code>) ，包括：&lt;/p>
&lt;ul>
&lt;li>设置图像质量为90%来平衡质量和文件大小&lt;/li>
&lt;li>提供图像调整大小功能&lt;/li>
&lt;li>支持base64格式的图像处理和转换&lt;/li>
&lt;/ul>
&lt;h3 id="4-选择合适的模型架构">4. 选择合适的模型架构
&lt;/h3>&lt;p>项目支持两种不同类型的AI模型来优化token使用：&lt;/p>
&lt;p>&lt;strong>通用多模态LLM（如GPT-4o）&lt;/strong>：需要同时发送截图和DOM树，导致token消耗较高 。&lt;/p>
&lt;p>&lt;strong>视觉定位VL模型（如Qwen-2.5-VL）&lt;/strong>：支持视觉定位功能，不需要发送DOM树，可以节省30%到50%的token数量。&lt;/p>
&lt;p>参见 &lt;code>apps/site/docs/zh/choose-a-model.mdx&lt;/code> 文档中的说明&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-7.png"
width="1817"
height="548"
srcset="https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-7_hu_e6f13b553c1f4e4d.png 480w, https://chengxiaqiucao.github.io/post/081-midscene%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/snap_20250621-7_hu_319f3ac552d20a26.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="331"
data-flex-basis="795px"
>&lt;/p>
&lt;h3 id="5-token使用情况监控">5. Token使用情况监控
&lt;/h3>&lt;p>项目还提供了详细的token使用情况跟踪和调试功能，记录prompt tokens、completion tokens和总token数量 。&lt;/p>
&lt;p>总结来说，该项目的上下文窗口限制处理策略主要集中在三个方面：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>控制输入数据量&lt;/strong>（通过图像压缩和尺寸限制）&lt;/li>
&lt;li>&lt;strong>选择合适的模型架构&lt;/strong>（VL模型vs通用LLM）&lt;/li>
&lt;li>&lt;strong>监控和优化token使用&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>这种多层次的处理方式有效地减少了对大型上下文窗口的需求，同时也保持了功能的完整性。&lt;/p>
&lt;h2 id="长链路任务的记忆管理">长链路任务的记忆管理
&lt;/h2>&lt;p>对于大模型来说，已完成步骤和历史任务的记忆对于保证结果的准确，避免无谓重复和节约成本意义重大，像我们之前文章介绍的如 &lt;code>Browser-Use&lt;/code>这样的工具，会引入 &lt;code>mem0&lt;/code> 这样的记忆框架来实现 AI 的记忆能力，那么Midscene在这方面是如何处理的呢？&lt;/p>
&lt;p>基于对 Midscene 代码的分析，长链路任务的记忆管理主要通过以下几个核心机制实现：&lt;/p>
&lt;h3 id="任务缓存机制">任务缓存机制
&lt;/h3>&lt;p>Midscene 实现了一个智能的任务缓存系统来管理 AI 操作的记忆。该系统缓存规划结果和元素定位信息，避免重复的 AI 调用，从而减少内存消耗和提高执行效率。&lt;/p>
&lt;p>&lt;code>packages/web-integration/src/common/task-cache.ts&lt;/code>&lt;/p>
&lt;p>缓存系统支持两种类型的缓存：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>规划缓存 (PlanningCache)&lt;/strong> 用于存储 AI 规划的 YAML 工作流&lt;/li>
&lt;li>&lt;strong>定位缓存 (LocateCache)&lt;/strong> 用于存储元素的 XPath 信息。&lt;/li>
&lt;/ul>
&lt;h3 id="对话历史管理">对话历史管理
&lt;/h3>&lt;p>为了防止长链路任务中对话历史无限增长导致内存溢出，Midscene 实现了智能的对话历史管理策略。系统限制用户图像消息最多保留 4 条，采用先进先出 (FIFO) 策略自动清理旧的对话记录。&lt;/p>
&lt;p>&lt;code>packages/web-integration/src/common/tasks.ts&lt;/code>&lt;/p>
&lt;h3 id="重规划限制机制">重规划限制机制
&lt;/h3>&lt;p>为了防止 AI 在长链路任务中陷入无限重规划的死循环，系统设置了重规划次数限制。当重规划次数超过限制时，任务会主动终止并返回错误信息。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">planningTask&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">replanCount&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">replanningCountLimit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">errorMsg&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Replanning too many times, please split the task into multiple steps&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">appendErrorPlan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">taskExecutor&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">errorMsg&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="资源清理机制">资源清理机制
&lt;/h3>&lt;p>Midscene 使用 FreeFn 模式确保长链路任务完成后能够正确清理所有资源，包括网络连接、临时文件、定时器等。即使在异常情况下，资源清理机制也能保证系统资源得到释放。&lt;/p>
&lt;p>&lt;code>packages/web-integration/src/yaml/player.ts&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">freeFn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...(&lt;/span>&lt;span class="nx">newFreeFn&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="p">[]),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;restore-agent-onTaskStartTip&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fn&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">agent&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">agent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">onTaskStartTip&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">originalOnTaskStartTip&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">....&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// free the resources
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">fn&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">freeFn&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// console.log(&amp;#39;freeing&amp;#39;, fn.name);
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">fn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// console.log(&amp;#39;freed&amp;#39;, fn.name);
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// console.error(&amp;#39;error freeing&amp;#39;, fn.name, e);
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="上下文优化">上下文优化
&lt;/h3>&lt;p>为了减少内存占用，Midscene 还实现了多项上下文优化策略：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>可见元素过滤&lt;/strong>：只提取页面中可见的元素，减少 DOM 树的大小&lt;/li>
&lt;li>&lt;strong>图像压缩&lt;/strong>：对截图进行智能压缩，减少内存和传输开销&lt;/li>
&lt;li>&lt;strong>视口裁剪&lt;/strong>：根据视口范围裁剪上下文数据&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>可以看到，虽然Mdscene没有引入专门的记忆框架来处理历史记忆，但还是建立了记忆管理机制来协同处理，使 Midscene 能够在处理复杂的长链路任务时保持高效的内存使用，通过对话历史管理控制记忆增长，重规划限制防止无限循环，通过资源清理确保系统稳定性，最终实现了一个可靠的长链路任务执行系统。&lt;/p>&lt;/blockquote>
&lt;hr>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">graph TD
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    A[用户] --&amp;gt;|提供自然语言描述/JS SDK/YAML脚本| B(Midscene Core)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    B --&amp;gt;|调用| C{AI 模型}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    C --&amp;gt;|返回动作/信息| B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    B --&amp;gt;|控制| D[自动化代理]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    D --&amp;gt;|操作| E[目标应用程序/UI]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    E --&amp;gt;|返回UI状态/截图| D
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    D --&amp;gt;|发送| B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    B --&amp;gt;|生成| F[可视化报告]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    B --&amp;gt;|提供| G[Playground&amp;lt;调试&amp;gt; ]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    B --&amp;gt;|利用| H[缓存机制]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    subgraph 目标平台
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">        E -- Web --&amp;gt; E1[浏览器&amp;lt;Playwright/Puppeteer&amp;gt;]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">        E -- Android --&amp;gt; E2[Android 应用]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    end
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    subgraph AI 模型类型
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">        C -- 多模态 LLM --&amp;gt; C1[GPT-4o, Gemini-2.5-Pro]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">        C -- 视觉语言模型 --&amp;gt; C2[Qwen2.5-VL, Doubao-1.5-thinking-vision-pro, UI-TARS]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    end
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    subgraph 辅助工具
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">        F --&amp;gt; F1[报告文件]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">        G --&amp;gt; G1[内置调试环境]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">        H --&amp;gt; H1[提高效率/重放]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    end
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    I[MCP 客户端] --&amp;gt;|直接使用能力| B
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>可以抛弃postman啦, API测试工具Bruno实用教程(二)：进阶篇</title><link>https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/</link><pubDate>Sun, 04 May 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/</guid><description>&lt;p>在前文 【】和 【】中，我们分别对&lt;code>Bruno&lt;/code> 这个近来备受关注的接口测试工具的优缺点和基本使用方法进行了介绍，本文我们会继续在上一篇的基础上，介绍 &lt;strong>Bruno&lt;/strong> 和自动化测试相关的进阶用法&lt;/p>
&lt;h2 id="bruno的六层变量作用域">Bruno的六层变量作用域
&lt;/h2>&lt;p>和 &lt;strong>postman&lt;/strong> 类似，&lt;strong>Bruno&lt;/strong> 中也同样对接口测试中的变量使用提供了多层设计，可以通过不同层级的作用域区分，为接口测试和自动化提供了更多灵活性和应用场景。&lt;/p>
&lt;p>Bruno中提供了6类不同的变量，其作用范围次序如下：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250429.png"
width="954"
height="384"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250429_hu_8ec68d7d160bb425.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250429_hu_84c366fc5b3852f8.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="248"
data-flex-basis="596px"
>&lt;/p>
&lt;h3 id="全局变量">全局变量
&lt;/h3>&lt;p>全局变量是作用范围最大的变量类型。设置全局变量是通过 Bruno 的 &lt;code>global Environments&lt;/code> 设置，位置如下：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505.png"
width="793"
height="365"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505_hu_c2ba7aa86d26e494.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505_hu_7bb6ba58895c7433.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="217"
data-flex-basis="521px"
>&lt;/p>
&lt;p>然后比如增加一个全局变量，配置并启用：
&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-1.png"
width="1271"
height="732"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-1_hu_b0464db4f96920e1.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-1_hu_1d7f1b2a1e370c94.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="173"
data-flex-basis="416px"
>&lt;/p>
&lt;p>这时我们获取Github API中的用户信息，可以获取&lt;code>userid = 1&lt;/code> 的用户&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-2.png"
width="1910"
height="787"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-2_hu_d0d136c3cb6c1581.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-2_hu_62e83964fba76922.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="242"
data-flex-basis="582px"
>&lt;/p>
&lt;h3 id="collection变量">Collection变量
&lt;/h3>&lt;p>在设置了全局变量后，再设置 collection 集合变量
&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-3.png"
width="1389"
height="613"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-3_hu_e44d8c7b1916b798.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-3_hu_99f2d49a198691af.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="226"
data-flex-basis="543px"
>&lt;/p>
&lt;p>然后发送请求，此时生效的就是集合变量&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-4.png"
width="1896"
height="555"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-4_hu_5a3d4cee045cf674.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-4_hu_856871b559d49608.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="341"
data-flex-basis="819px"
>&lt;/p>
&lt;h3 id="环境变量">环境变量
&lt;/h3>&lt;p>下一层是可以设置不同的环境，在如下位置配置：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-5.png"
width="1603"
height="706"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-5_hu_2c6a8b2bb0e09b94.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-5_hu_c691d1ff40f5c9b1.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="227"
data-flex-basis="544px"
>&lt;/p>
&lt;p>此时生效的是 &lt;code>userid = 3&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-6.png"
width="1917"
height="647"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-6_hu_efc797d954d9dc95.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-6_hu_e55b5a837cb08550.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="296"
data-flex-basis="711px"
>&lt;/p>
&lt;h3 id="folder变量">Folder变量
&lt;/h3>&lt;p>在collection下一层，可以创建目录，这里设置变量， 生效的就是目录变量&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-7.png"
width="967"
height="619"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-7_hu_909d034f40238aad.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-7_hu_3f1f95d0e690a133.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="156"
data-flex-basis="374px"
>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-8.png"
width="1897"
height="728"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-8_hu_1d45c2196d2da54e.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-8_hu_197cda31de260b22.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="260"
data-flex-basis="625px"
>&lt;/p>
&lt;h3 id="请求变量">请求变量
&lt;/h3>&lt;p>再下一层，则是具体的请求当中设置的变量&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-9.png"
width="1913"
height="633"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-9_hu_2f6e319a18e77f1d.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-9_hu_4d415befcf26da98.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="302"
data-flex-basis="725px"
>&lt;/p>
&lt;h3 id="运行时变量">运行时变量
&lt;/h3>&lt;p>除了预设变量的情况，Bruno也支持通过脚本，在执行时设置&lt;strong>运行时变量&lt;/strong>，使用如下代码设置&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">bru&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setVar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;userid&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在执行请求后，查看当前runtime变量，还可以通过工具栏中的对应按钮进入显示界面查看。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-10.png"
width="1917"
height="553"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-10_hu_ab823dece5d2b358.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-10_hu_d3c59748e0c37f.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="346"
data-flex-basis="831px"
>&lt;/p>
&lt;p>通过以上实例，可以看到，Bruno的多层变量体系及其作用范围，同样的变量名，生效优先次序依次为：&lt;/p>
&lt;p>&lt;strong>运行时变量 -&amp;gt; 请求变量 -&amp;gt; 目录变量 -&amp;gt; 环境变量 -&amp;gt; 集合变量 -&amp;gt; 全局变量&lt;/strong>&lt;/p>
&lt;h3 id="流程环境变量">流程环境变量
&lt;/h3>&lt;p>除了上面这些多层变量设计外，在我们处理接口时，像token、API Key或一些账号密码等比较敏感的数据变量，可能并不希望在接口及相关配置文件( *.bru )中体现。针对这类变量，Bruno 也提供了一个针对性的处理方式，就是通过 &lt;code>.env&lt;/code> 文件来存储。&lt;code>.env&lt;/code> 文件需放置在collection的根目录下，变量定义采用key-value 形式，如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">userid = 7
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这时，我们在配置变量时就可以通过&lt;code>{{process.env.userid}}&lt;/code> 来实现引用，避免相关敏感数据，直接出现在接口定义文件中&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-11.png"
width="1624"
height="674"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-11_hu_eec7d6decd9cec18.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-11_hu_e4933bcc0d510a0.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="240"
data-flex-basis="578px"
>&lt;/p>
&lt;h2 id="bruno脚本及执行顺序">Bruno脚本及执行顺序
&lt;/h2>&lt;p>Bruno的脚本功能，使用的是标准JavaScript语法。可以在Collection、Folder、Request三个不同层级上定义请求前（Pre）和请求后（Post）要执行的脚本。并且Bruno提供了两种脚本执行顺序模型（主要区别是post脚本的执行顺序）&lt;/p>
&lt;h3 id="1-sandwich-flow-默认">1. Sandwich Flow （默认）
&lt;/h3>&lt;p>这种模式下，不同层级脚本的执行顺序如下&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Collection Pre Script&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>Folder Pre Script&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>Request Pre Script&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Request Post Script&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>Folder Post Script&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>Collection Post Script&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>和各类单元测试框架的分层执行顺序类似。&lt;/p>
&lt;h3 id="2-sequential-natural-flow">2. Sequential (Natural) Flow
&lt;/h3>&lt;p>这种执行顺序，和Postman的脚本执行顺序类似，完全按层级顺序来执行。&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Collection Pre Script&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>Folder Pre Script&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>Request Pre Script&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Collection Post Script&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>Folder Post Script&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>Request Post Script&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>要采用这种顺序，需要在Bruno的配置文件 &lt;code>bruno.json&lt;/code> 中配置 &lt;code>flow&lt;/code> 参数，形如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;filesystemAccess&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;allow&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;flow&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;sequential&amp;#34;&lt;/span> &lt;span class="c1">// Or &amp;#34;sandwich&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="执行示例">执行示例
&lt;/h3>&lt;p>在各个层级的脚本中分别添加对应的脚本日志，打开Bruno集成的Dev Tool控制台，可看到对应执行顺序的不同。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-12.png"
width="1907"
height="959"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-12_hu_1a46deb8aec95501.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-12_hu_b0096c7bac7c1381.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="198"
data-flex-basis="477px"
>&lt;/p>
&lt;p>修改 &lt;code>bruno.json&lt;/code>， 配置flow模式为 &lt;code>sequential&lt;/code>，可以看到post部分的输出顺序发生了变化。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-13.png"
width="1900"
height="959"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-13_hu_770e6918705a367f.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250505-13_hu_c881d4b8b6e3241d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="198"
data-flex-basis="475px"
>&lt;/p>
&lt;h2 id="流程依赖处理">流程依赖处理
&lt;/h2>&lt;p>在我们实际的接口测试时，一个经常遇到的场景，就是后续的请求，会需要依赖之前请求的返回数据，比如最常见的动态token获取等场景。&lt;/p>
&lt;p>而利用Bruno的变量和脚本，我们可以通过脚本实现这种接口的关联操作。&lt;/p>
&lt;p>在Bruno的官方文档中，他内置的bru对象，提供了 &lt;code>setNextRequest&lt;/code>， &lt;code>runRequest&lt;/code> 这样的方法，使我们可以根据自己的需要，确定在执行某个接口请求时，指定下一条需要执行的请求（不再按默认顺序执行），或者也可以直接在当前请求的脚本中，运行其他接口请求。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507-2.png"
width="1799"
height="859"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507-2_hu_dfaa9fd6e928ba6c.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507-2_hu_7530ca08e3e55a12.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="209"
data-flex-basis="502px"
>&lt;/p>
&lt;p>通过这种方式，我们就可以通过设置变量，并将变量进行接口间的传递，以此完成流程依赖场景的实现。&lt;/p>
&lt;p>比如这里我们获取github用户下的repo清单，这个接口。 这里的 &lt;code>{{username}}&lt;/code> 变量，我们希望通过指定 &lt;code>userid&lt;/code> 来获取。也就是先执行前面的 &lt;code>getUserInfo&lt;/code> 这个接口，根据 &lt;code>userid&lt;/code> 来获取 &lt;code>username&lt;/code>。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507-3.png"
width="1133"
height="468"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507-3_hu_3c1e92897aea7bb5.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507-3_hu_1ef80bb2a9103da9.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="242"
data-flex-basis="581px"
>&lt;/p>
&lt;p>这里我们定义getUserRepos，使用变量&lt;code>{{username}}&lt;/code>， 但此时该变量未定义，所以显示为红色&lt;/p>
&lt;p>然后在 &lt;code>getUserInfo&lt;/code> 这个接口中，我们定义脚本，提取当前响应的username，并进行变量赋值。然后直接调用 &lt;code>getUserRepos&lt;/code> 接口（注意这里调用的接口路径，应该以collection根路径进行定义）&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">bru&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setVar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">login&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">bru&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">runRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;variables/getUserRepos&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>执行&lt;code>getUserInfo&lt;/code>， 可以看到，执行成功，脚本中执行的 &lt;code>getUserRepos&lt;/code> 接口也成功得到了 &lt;code>200OK&lt;/code> 的响应状态&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507-4.png"
width="1915"
height="959"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507-4_hu_9a6d4480f9e77d22.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507-4_hu_523668b12748d1de.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="199"
data-flex-basis="479px"
>&lt;/p>
&lt;h2 id="runner执行器">Runner执行器
&lt;/h2>&lt;p>除了在脚本中执行指定接口， Bruno其实也提供了一个Runner的执行器，从工具栏打开执行器，也可以批量地依次运行Collection中的所有接口&lt;/p>
&lt;p>比如上例，我们如果只是在 &lt;code>getUserInfo&lt;/code> 中获取并定义变量 username, 而不执行。 只要&lt;code>getUserRepos&lt;/code>在 &lt;code>getUserInfo&lt;/code> 之后执行，也同样可以执行成功。&lt;/p>
&lt;p>Runner运行效果如下：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507.png"
width="786"
height="739"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507_hu_e9749e6ff9e8c3d9.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507_hu_75c21443013e260a.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="106"
data-flex-basis="255px"
>&lt;/p>
&lt;p>但这里Bruno默认的功能，是运行collection中的所有请求，且调整顺序的功能，虽然有提供，但只包含在付费的高级版中，包括基于csv或json的数据驱动功能，免费版本中也不包含。稍显鸡肋。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507-1.png"
width="1908"
height="602"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507-1_hu_53841b760253dcdf.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507-1_hu_93ca7e915c00a747.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="316"
data-flex-basis="760px"
>&lt;/p>
&lt;h3 id="bruno命令行-bruno-cli">Bruno命令行 Bruno CLI
&lt;/h3>&lt;p>上面 &lt;code>Runner执行器&lt;/code> 的功能因为受限，在我们要进行接口自动化时，比较鸡肋，基本无法使用。但Bruno这里的高级版本功能，其实只是针对界面上触发进行了限制。&lt;/p>
&lt;p>我们要执行自动化，也可以利用它提供的命令行功能来实现。&lt;/p>
&lt;p>这里的CLI程序，需要单独安装&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">npm install -g @usebruno/cli
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>安装后，能正确显示版本号表示安装成功， 如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">C:\qiucao&amp;gt;bru --version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2.1.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>通过命令行执行，我们就可以根据自己的需要，比如执行指定目录下的接口。&lt;/p>
&lt;p>这里携带的两个参数 &lt;code>--env&lt;/code> 指定需要使用的环境， &lt;code>--reporter-html&lt;/code> 会在完成执行后生成一个html格式的测试报告。（详细的参数，可参考文档 &lt;a class="link" href="https://docs.usebruno.com/bru-cli/commandOptions" target="_blank" rel="noopener"
>https://docs.usebruno.com/bru-cli/commandOptions&lt;/a>）&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507-5.png"
width="1073"
height="778"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507-5_hu_892e0de1fbf09c4.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507-5_hu_f986bea380a76775.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="137"
data-flex-basis="331px"
>&lt;/p>
&lt;p>生成的测试报告：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507-6.png"
width="1920"
height="904"
srcset="https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507-6_hu_bb7cb51a71c4e95d.png 480w, https://chengxiaqiucao.github.io/post/090-bruno%E8%BF%9B%E9%98%B6/snap_20250507-6_hu_4ca67f049a940f86.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="212"
data-flex-basis="509px"
>&lt;/p>
&lt;hr>
&lt;p>以上就是关于Bruno中使用脚本和自动化执行相关功能的进阶说明。欢迎继续关注后续文章。&lt;/p>
&lt;p>回复&lt;code>大纲&lt;/code> 可查看秋草测试技能全栈提升课详细目录。回复 &lt;code>进群&lt;/code>可进入测试交流群和小伙伴们分享测试技术、交换资讯。&lt;/p></description></item><item><title>Postman最佳平替, API测试工具Bruno实用教程(一)：基础篇</title><link>https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/</link><pubDate>Fri, 02 May 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/</guid><description>&lt;h2 id="序言">序言
&lt;/h2>&lt;p>在前文【】中，我们介绍了目前目前Github上广受关注的新锐接口测试工具Bruno，给厌倦了Postman必须在线使用限制的同学提供了一个很好的替代选择。&lt;/p>
&lt;p>Bruno的核心优势，官网重点给出了如下几点：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/089-bruno%e4%bb%8b%e7%bb%8d/snap_20250420-3.png"
loading="lazy"
>&lt;/p>
&lt;ol>
&lt;li>承诺开源和可扩展，并且专心做客户端，永不向“平台化”扩充产品。&lt;/li>
&lt;li>基于Git实现协作和版本管理&lt;/li>
&lt;li>离线使用，永不同步本地数据 😂😂😂&lt;/li>
&lt;/ol>
&lt;p>下面我们就通过一个系列，详细介绍通过Bruno来进行API接口测试的详细实战教程。本文是第一篇，重点介绍如下内容：&lt;/p>
&lt;ul>
&lt;li>Bruno的安装和界面说明&lt;/li>
&lt;li>结合Github API实现典型API操作的方法&lt;/li>
&lt;li>环境管理&lt;/li>
&lt;li>鉴权机制和加密&lt;/li>
&lt;/ul>
&lt;h2 id="bruno安装和界面概览">Bruno安装和界面概览
&lt;/h2>&lt;h3 id="安装">安装
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Mac (Homebrew)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">brew install bruno
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Windows (Winget)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">winget install usebruno.bruno
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Linux (Snap)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo snap install bruno
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="使用界面">使用界面
&lt;/h3>&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250427.png"
width="1920"
height="1014"
srcset="https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250427_hu_3d5f5b7dc3298405.png 480w, https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250427_hu_ac819fb60e419176.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="189"
data-flex-basis="454px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>左侧面板&lt;/strong>：Collection管理、导航（类似IDE的项目结构）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>中央区域&lt;/strong>：请求编辑器（URL/Headers/Body配置）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>右侧面板&lt;/strong>：响应结果显示（内容、状态、断言等）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>工具栏&lt;/strong>：顶部主要是一些高级功能配置（付费版本）、变量管理（全局、环境）；底部工具栏是工具的系统级配置（界面、代理、鉴权等），cookies、license管理&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>快捷键体系&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>&lt;code>Ctrl +E&lt;/code>：环境变量设置&lt;/li>
&lt;li>&lt;code>Ctrl + B&lt;/code>：新建请求&lt;/li>
&lt;li>&lt;code>Ctrl + Enter&lt;/code>：立即发送请求&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="典型http接口测试实现github-api">典型HTTP接口测试实现(Github API)
&lt;/h2>&lt;p>下面我们结合 &lt;code>Github&lt;/code> 的官方API接口，介绍在 &lt;code>Bruno&lt;/code> 中如何完成典型HTTP接口请求测试。&lt;/p>
&lt;h3 id="github-api简介">Github API简介
&lt;/h3>&lt;p>GitHub 是一个面向开源软件项目的托管平台，因为使用 Git 作为唯一的版本库格式进行托管，故名 GitHub。也是目前全球最大的代码托管平台，可以说是程序员的圣地，号称&lt;strong>全球最大的同性交友平台&lt;/strong>&lt;/p>
&lt;p>GitHub API目前有两个版本，一个是基于GraphQL的V4版本， 而更常用的主要还是之前的Restful API，它的Restful API定义长期以来被视作此类接口的典范。&lt;/p>
&lt;p>具体的接口说明文档：参见 &lt;a class="link" href="https://docs.github.com/zh/rest?apiVersion=2022-11-28" target="_blank" rel="noopener"
>https://docs.github.com/zh/rest?apiVersion=2022-11-28&lt;/a>&lt;/p>
&lt;h5 id="github-中的时间格式">github 中的时间格式
&lt;/h5>&lt;p>&lt;code>YYYY-MM-DDTHH:MM:SSZ&lt;/code>&lt;/p>
&lt;h5 id="github-限流规则">github 限流规则
&lt;/h5>&lt;p>github 为包含服务端负载压力，会对请求流量进行限制。在每个 github 的响应消息头中都会携带 github 的限流设置。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>头参数&lt;/th>
&lt;th>含义&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>X-RateLimit-Limit&lt;/td>
&lt;td>当前每小时最大请求限制，一般未鉴权请求60次，鉴权请求5000次&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>X-RateLimit-Remaining&lt;/td>
&lt;td>当前剩余请求次数&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>X-RateLimit-Reset&lt;/td>
&lt;td>剩余限制重置时间，毫秒&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h5 id="请求参数与分页">请求参数与分页
&lt;/h5>&lt;p>请求中可以携带参数，一般包含两种参数: &lt;strong>路径参数&lt;/strong>和&lt;strong>查询参数&lt;/strong>
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190119_121133.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>github API中默认支持两个分页参数：&lt;/p>
&lt;ul>
&lt;li>page 当前显示页数&lt;/li>
&lt;li>per_page 每页显示结果数&lt;/li>
&lt;/ul>
&lt;h5 id="github-请求token">github 请求Token
&lt;/h5>&lt;p>从Github账号设置页中，增加访问API的Token配置&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250427-2.png"
width="557"
height="515"
srcset="https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250427-2_hu_66cd2c75970aea79.png 480w, https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250427-2_hu_c171d685a2a59dfd.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="108"
data-flex-basis="259px"
>&lt;/p>
&lt;h3 id="配置token鉴权">配置Token鉴权
&lt;/h3>&lt;p>进入Bruno，新建一个Collection， 命名 &lt;code>github&lt;/code>，在其中的 &lt;code>Auth&lt;/code> 部分, 将之前设置的API token添加进来，这里的鉴权方式选择 &lt;code>bearer Token&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250427-3.png"
width="1327"
height="640"
srcset="https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250427-3_hu_67ad038071041bbd.png 480w, https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250427-3_hu_3640a8091675797f.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="207"
data-flex-basis="497px"
>&lt;/p>
&lt;p>除了 &lt;code>bearer Token&lt;/code> 外， Bruno还支持其他多种鉴权方式，能基本覆盖到各种API接口的鉴权模式。&lt;/p>
&lt;ul>
&lt;li>&lt;strong>AWS Sig&lt;/strong>：针对亚马逊的AWS公有云用户签名的认证方式&lt;/li>
&lt;li>&lt;strong>Basic auth&lt;/strong>：基本鉴权，通过输入账号、密码&lt;/li>
&lt;li>&lt;strong>WSSE auth&lt;/strong>：Web Service安全用户认证&lt;/li>
&lt;li>&lt;strong>Bearer Token&lt;/strong>：基于加密文本的安全认证令牌&lt;/li>
&lt;li>&lt;strong>Digest auth&lt;/strong>：摘要式认证&lt;/li>
&lt;li>&lt;strong>NTLM auth&lt;/strong>：微软的局域网管理认证协议&lt;/li>
&lt;li>&lt;strong>Oauth 2.0&lt;/strong>：开放式授权协议，是第三方认证的常用协议&lt;/li>
&lt;li>&lt;strong>API Key&lt;/strong>：服务端自己定义的接入令牌&lt;/li>
&lt;li>&lt;strong>no Auth&lt;/strong>：不鉴权&lt;/li>
&lt;li>&lt;strong>inherit&lt;/strong>：继承上一级鉴权（Bruno中，下一级请求可以使用上一级的鉴权设置）&lt;/li>
&lt;/ul>
&lt;h3 id="接口测试中的增删改查">接口测试中的增删改查
&lt;/h3>&lt;h5 id="1-get请求获取制定项目最新release">1. GET请求：获取制定项目最新Release
&lt;/h5>&lt;p>&lt;strong>目标接口&lt;/strong>：&lt;code>GET /repos/{owner}/{repo}/releases/latest&lt;/code>&lt;/p>
&lt;p>Bruno中通过 &lt;code>{{var}}&lt;/code>，可以在请求中指定变量，变量配置如下。点击发送按钮后，成功获得响应。&lt;/p>
&lt;p>请求这里的鉴权方式使用&lt;code>inherit&lt;/code>， 继承collection中配置的 &lt;code>bearer token&lt;/code> 鉴权方式&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250427-4.png"
width="1617"
height="814"
srcset="https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250427-4_hu_49b1c8982cb7161c.png 480w, https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250427-4_hu_a67456c847fbe8b9.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="198"
data-flex-basis="476px"
>&lt;/p>
&lt;h5 id="2--post请求创建issue">2. POST请求：创建Issue
&lt;/h5>&lt;p>&lt;strong>目标接口&lt;/strong>：&lt;code>POST /repos/{owner}/{repo}/issues&lt;/code>&lt;/p>
&lt;p>创建issue，对应 &lt;code>POST&lt;/code> 方法，Bruno中配置如下，&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250428.png"
width="1920"
height="959"
srcset="https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250428_hu_198f1d44ff29f7f2.png 480w, https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250428_hu_841abc7470e6d15e.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="200"
data-flex-basis="480px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>Body配置&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="err">{issue_title&lt;/span>&lt;span class="p">}}&lt;/span>&lt;span class="err">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;body&amp;#34;&lt;/span>&lt;span class="err">:&lt;/span> &lt;span class="s2">&amp;#34;发现一个测试问题&amp;#34;&lt;/span>&lt;span class="err">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;labels&amp;#34;&lt;/span>&lt;span class="err">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;bug&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>动态变量注入&lt;/strong>：&lt;/p>
&lt;p>这里的issue标题，我们使用Bruno的内置动态变量 &lt;code>{{$timestamp}}&lt;/code>, Bruno提供了丰富的内置动态变量，对于我们动态模拟请求数据提供了极大方便。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># 标题预置变量&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">vars&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">issue_title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;测试问题_{{$timestamp}}&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;p>到Github上查看，Issue已创建
&lt;img src="https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250428-1.png"
width="1169"
height="519"
srcset="https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250428-1_hu_947698b84198e874.png 480w, https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250428-1_hu_42d86690cfeb564d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="225"
data-flex-basis="540px"
>&lt;/p>
&lt;h5 id="3-patch请求修改issue">3. PATCH请求：修改Issue
&lt;/h5>&lt;p>&lt;strong>目标接口&lt;/strong>：&lt;code>PATCH /repos/{owner}/{repo}/issues/3&lt;/code>&lt;/p>
&lt;p>关闭 issue_number 为 3 的问题&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;state&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;closed&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250428-2.png"
width="1920"
height="959"
srcset="https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250428-2_hu_e382084e5b009e8.png 480w, https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250428-2_hu_877e6911d3b1679f.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="200"
data-flex-basis="480px"
>&lt;/p>
&lt;h5 id="4-delete请求删除issue-评论">4. DELETE请求：删除Issue 评论
&lt;/h5>&lt;p>&lt;strong>目标接口&lt;/strong>：&lt;code>DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}&lt;/code>
&lt;img src="https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250428-3.png"
width="1920"
height="959"
srcset="https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250428-3_hu_ce61fb73f8a20e9b.png 480w, https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250428-3_hu_76c588046b52fd8d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="200"
data-flex-basis="480px"
>&lt;/p>
&lt;h3 id="基础测试断言">基础测试断言
&lt;/h3>&lt;h5 id="test脚本验证--状态码">Test脚本验证 状态码
&lt;/h5>&lt;p>Bruno 中可以类似Postman那样编写Test脚本来进行结果验证&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Status is 200&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">equal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">200&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="界面assert">界面Assert
&lt;/h5>&lt;p>对于一些常用的断言，Bruno中也可以直接在界面上通过添加 &lt;code>Assert&lt;/code> 来进行断言。&lt;/p>
&lt;p>以上Test和Assert 执行结果如下&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250428-4.png"
width="1920"
height="959"
srcset="https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250428-4_hu_9483c4d456602b82.png 480w, https://chengxiaqiucao.github.io/post/088-bruno%E5%9F%BA%E7%A1%80/snap_20250428-4_hu_a69021e548746a1c.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="200"
data-flex-basis="480px"
>&lt;/p>
&lt;hr>
&lt;p>以上就是关于Bruno进行接口测试时，主要的基础功能用法介绍。后续会继续更新其他进阶用法更新。 也欢迎大家进入测试交流群和小伙伴们继续深入交流。回复 &lt;code>进群&lt;/code> 获取入群邀请。&lt;/p></description></item><item><title>AI智能驱动浏览器工具Browser Use详解</title><link>https://chengxiaqiucao.github.io/post/086-browser-use%E7%9A%84%E4%BD%BF%E7%94%A8/</link><pubDate>Wed, 30 Apr 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/086-browser-use%E7%9A%84%E4%BD%BF%E7%94%A8/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/086-browser-use%E7%9A%84%E4%BD%BF%E7%94%A8/snap_20250529-1.png" alt="Featured image of post AI智能驱动浏览器工具Browser Use详解" />&lt;h2 id="前言">前言
&lt;/h2>&lt;p>在之前关于 AI 测试相关的几篇文章中，我们分别介绍了通过 &lt;code>playwright-mcp&lt;/code>，以及 &lt;code>midscene.js&lt;/code>、&lt;code>magentic ui&lt;/code> 等几个不同的 AI 浏览器工具，实现 AI 驱动自动化测试的方法介绍。而其实在这些不断涌现的新工具出现之前，还有一个更早推出（2024.11），也同样还在不断完善的AI浏览器驱动工具 &lt;code>Browser Use&lt;/code>，其工具实现思路，为后来的相关工具提供了很多借鉴。 而经过半年多40多个版本的迭代，目前最新版本 &lt;code>0.2.5&lt;/code>，工具功能也日臻完善。&lt;/p>
&lt;p>本文，我们就再来对这个 AI 浏览器做一个系统的介绍。&lt;/p>
&lt;h2 id="browser-use简介">browser-use简介
&lt;/h2>&lt;p>browser-use 的定位是提供一个简易且功能强大的，将不同AI Agent和浏览器连接起来的方案，实现基于AI的智能化浏览器自动化。&lt;/p>
&lt;p>它是一个基于Python的开源库，在github上已有超过 &lt;strong>61K&lt;/strong> 的Stars，可以说是备受关注。&lt;/p>
&lt;p>主要依托 &lt;strong>Playwright/Puppeteer&lt;/strong> 的浏览器控制能力和 AI 大模型的推理分析能力，完成让 AI 从资讯助手向辅助执行的转变。在其之后，mcp大行其道，包括后续的其他各种浏览器AI驱动，也都能看到 browser-use 方案的影子。&lt;/p>
&lt;h2 id="实现原理">实现原理
&lt;/h2>&lt;p>&lt;strong>browser-use&lt;/strong> 的实现，其实是通过 &lt;strong>Langchain&lt;/strong> 和 &lt;strong>LLM 大语言模型&lt;/strong>实现的一个 &lt;strong>AI Agent&lt;/strong> 智能体，来理解网页内容并进一步生成操作指令。项目底层依赖 &lt;strong>Playwright&lt;/strong> 框架实现浏览器自动化操作，支持多浏览器（如 Chromium、Firefox 等），能够模拟真实用户的点击、输入、导航等行为。&lt;/p>
&lt;p>基于 AI 能力，系统能够自动识别网页中的可交互元素（如按钮、输入框等），并结合上下文的理解生成对应的交互逻辑，提升自动化效率，实现基于 AI 的浏览器智能。&lt;/p>
&lt;h2 id="核心架构解析">核心架构解析
&lt;/h2>&lt;p>browser-use 通过分层架构实现 AI Agent 与浏览器的深度集成，其核心架构不同分层的主要作用如下：&lt;/p>
&lt;h3 id="agent-层决策中枢">&lt;strong>Agent 层&lt;/strong>（决策中枢）
&lt;/h3>&lt;p>这一层，主要负责任务流程编排与决策制定。通过实现小型状态机管理任务流程， 并与 LLM（如 OpenAI）进行交互获取决策指令。&lt;/p>
&lt;h3 id="controller-层指令转换器">&lt;strong>Controller 层&lt;/strong>（指令转换器）
&lt;/h3>&lt;p>这一层负责将高级决策转化为具体浏览器操作指令， 支持 DOM 操作、页面导航等基础动作，也提供对多标签页交互逻辑的管理。&lt;/p>
&lt;h3 id="dom-解析引擎">&lt;strong>DOM 解析引擎&lt;/strong>
&lt;/h3>&lt;p>在这一层对网页结构与内容实时解析，包括提供视觉识别能力（OCR 支持），完成对可操作的网页元素映射关系的构建。&lt;/p>
&lt;h3 id="browser-接口层">&lt;strong>Browser 接口层&lt;/strong>
&lt;/h3>&lt;p>在这一层，基于Playwright框架实际驱动浏览器行为，除了内置的无头模式控制，也可以通过指定浏览器路径和用户浏览器进行交互。&lt;/p>
&lt;h3 id="架构图">架构图
&lt;/h3>&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/086-browser-use%E7%9A%84%E4%BD%BF%E7%94%A8/snap_20250529.png"
width="761"
height="638"
srcset="https://chengxiaqiucao.github.io/post/086-browser-use%E7%9A%84%E4%BD%BF%E7%94%A8/snap_20250529_hu_12b6a65ba38f36d8.png 480w, https://chengxiaqiucao.github.io/post/086-browser-use%E7%9A%84%E4%BD%BF%E7%94%A8/snap_20250529_hu_e32f6c65fd498b79.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="119"
data-flex-basis="286px"
>&lt;/p>
&lt;h2 id="部署安装">部署安装
&lt;/h2>&lt;p>建议使用 python 包管理工具 &lt;strong>uv&lt;/strong> 进行安装部署&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="n">uv&lt;/span> &lt;span class="n">venv&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="n">-python&lt;/span> &lt;span class="mf">3.11&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="n">venv&lt;/span>&lt;span class="p">\&lt;/span>&lt;span class="n">Scripts&lt;/span>&lt;span class="p">\&lt;/span>&lt;span class="n">activate&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">uv&lt;/span> &lt;span class="n">pip&lt;/span> &lt;span class="n">install&lt;/span> &lt;span class="nb">browser-use&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">playwright&lt;/span> &lt;span class="n">install&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="n">-with-deps&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>工具需要使用对应大模型的API KEY, 定义在&lt;code>.env&lt;/code> 环境配置文件中, 支持各大主流LLM:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">OPENAI_API_KEY=
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ANTHROPIC_API_KEY=
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">AZURE_OPENAI_ENDPOINT=
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">AZURE_OPENAI_KEY=
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">GOOGLE_API_KEY=
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">DEEPSEEK_API_KEY=
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">GROK_API_KEY=
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NOVITA_API_KEY=
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="通过web界面使用">通过web界面使用
&lt;/h2>&lt;p>browser-use 本身也提供了一个 Web UI 界面来直接调用，它也需要单独安装， 在 venv下继续执行：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">git&lt;/span> &lt;span class="n">clone&lt;/span> &lt;span class="n">https&lt;/span>&lt;span class="err">:&lt;/span>&lt;span class="p">//&lt;/span>&lt;span class="n">github&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">com&lt;/span>&lt;span class="p">/&lt;/span>&lt;span class="nb">browser-use&lt;/span>&lt;span class="p">/&lt;/span>&lt;span class="nb">web-ui&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="py">git&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd web-ui&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">uv&lt;/span> &lt;span class="n">pip&lt;/span> &lt;span class="n">install&lt;/span> &lt;span class="n">-r&lt;/span> &lt;span class="n">requirements&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="py">txt&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">python&lt;/span> &lt;span class="n">webui&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="py">py&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="n">-ip&lt;/span> &lt;span class="mf">127.0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="py">0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="py">1&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="n">-port&lt;/span> &lt;span class="mf">7788&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="启动界面">启动界面
&lt;/h3>&lt;p>运行成功后，会看到如下 web-ui 的界面，&lt;code>Agent Settings&lt;/code> 可以在界面上配置使用的LLM，&lt;code>Browser Settings&lt;/code> 配置浏览器的交互方式，&lt;code>Run Agent&lt;/code> 是实际调用大模型和浏览器完成自动化任务的交互界面和结果记录
&lt;img src="https://chengxiaqiucao.github.io/post/086-browser-use%E7%9A%84%E4%BD%BF%E7%94%A8/snap_20250529-3.png"
width="1446"
height="731"
srcset="https://chengxiaqiucao.github.io/post/086-browser-use%E7%9A%84%E4%BD%BF%E7%94%A8/snap_20250529-3_hu_62263a26fba44e16.png 480w, https://chengxiaqiucao.github.io/post/086-browser-use%E7%9A%84%E4%BD%BF%E7%94%A8/snap_20250529-3_hu_14e2c77e39afdc04.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="197"
data-flex-basis="474px"
>&lt;/p>
&lt;h3 id="llm配置">LLM配置
&lt;/h3>&lt;p>这里使用的是本地部署的Ollama+Deepseek-r1:14b&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/086-browser-use%E7%9A%84%E4%BD%BF%E7%94%A8/snap_20250529-4.png"
width="1238"
height="775"
srcset="https://chengxiaqiucao.github.io/post/086-browser-use%E7%9A%84%E4%BD%BF%E7%94%A8/snap_20250529-4_hu_ea62e7ead95668ac.png 480w, https://chengxiaqiucao.github.io/post/086-browser-use%E7%9A%84%E4%BD%BF%E7%94%A8/snap_20250529-4_hu_1bec7f4e2b18ab45.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="159"
data-flex-basis="383px"
>&lt;/p>
&lt;h3 id="运行过程">运行过程
&lt;/h3>&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/086-browser-use%E7%9A%84%E4%BD%BF%E7%94%A8/snap_20250529-5.png"
width="1257"
height="826"
srcset="https://chengxiaqiucao.github.io/post/086-browser-use%E7%9A%84%E4%BD%BF%E7%94%A8/snap_20250529-5_hu_197e74af798b61b1.png 480w, https://chengxiaqiucao.github.io/post/086-browser-use%E7%9A%84%E4%BD%BF%E7%94%A8/snap_20250529-5_hu_91ab40dd48765c25.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="152"
data-flex-basis="365px"
>&lt;/p>
&lt;p>实际调用的浏览器和运行日志：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/086-browser-use%E7%9A%84%E4%BD%BF%E7%94%A8/snap_20250529-2.png"
width="1896"
height="1015"
srcset="https://chengxiaqiucao.github.io/post/086-browser-use%E7%9A%84%E4%BD%BF%E7%94%A8/snap_20250529-2_hu_d336a8b779971127.png 480w, https://chengxiaqiucao.github.io/post/086-browser-use%E7%9A%84%E4%BD%BF%E7%94%A8/snap_20250529-2_hu_1a928ad7d8ee6553.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="186"
data-flex-basis="448px"
>&lt;/p>
&lt;p>整个执行过程还会生成一个 gif 图：
&lt;img src="https://chengxiaqiucao.github.io/browseruse-web-ui.gif"
loading="lazy"
>&lt;/p>
&lt;h2 id="python脚本调用">Python脚本调用
&lt;/h2>&lt;p>除了通过 Web-UI 来完成任务，当然更多的情况下是通过代码调用，比如如下代码通过 Deepseek的官方API调用，包括了输出格式的定义&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">langchain_deepseek&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">ChatDeepSeek&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">browser_use&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Agent&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">pydantic&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">SecretStr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">BaseModel&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ValidationError&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">field_validator&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ConfigDict&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Field&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">dotenv&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">load_dotenv&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">asyncio&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">typing&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">List&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Optional&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">browser_use&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Controller&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 统一模型输出定义&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">PostItem&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BaseModel&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">model_config&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ConfigDict&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">extra&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ignore&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">post_title&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">str&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">post_url&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">str&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">num_comments&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">int&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">hours_since_post&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">int&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@field_validator&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;num_comments&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;hours_since_post&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">mode&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;before&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">convert_numbers&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">cls&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;确保数值字段转换为整数&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">isinstance&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">isdigit&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">value&lt;/span> &lt;span class="ow">or&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Posts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BaseModel&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">posts&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">list&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">PostItem&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">total&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">int&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 结果解析函数&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">parse_result&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">str&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nb">dict&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="n">Posts&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;安全解析结果数据&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">isinstance&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">json&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loads&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">result&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Parsed data:&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">Posts&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">model_validate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">except&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">json&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">JSONDecodeError&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ValidationError&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;解析错误: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="nb">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="vm">__name__&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 非json格式，直接返回结果&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">result&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">controller&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Controller&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">output_model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">Posts&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">load_dotenv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">api_key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getenv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;DEEPSEEK_API_KEY&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Initialize the model&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">llm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">ChatDeepSeek&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">base_url&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;https://api.deepseek.com/v1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;deepseek-reasoner&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">api_key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">SecretStr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">api_key&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">async&lt;/span> &lt;span class="k">def&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Create agent with the model&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">agent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Agent&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">task&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;测试saucedemo.com网站standard_user的登录功能, 使用不同密码(secret_sauce,空密码)，登录成功则验证完成，否则需要输出错误信息。测试结果需要包含以下信息：&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s2">1. 登录是否成功&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s2">2. 如果登录失败，错误信息是什么&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">llm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">llm&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">use_vision&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">False&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">history&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="n">agent&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">history&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">final_result&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">parsed&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">parse_result&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">parsed&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">posts&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">post&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">parsed&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">posts&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s1">--------------------------------&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s1">&amp;#39;Title: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">post&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">post_title&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s1">&amp;#39;URL: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">post&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">post_url&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s1">&amp;#39;Comments: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">post&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">num_comments&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s1">&amp;#39;Hours since post: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">post&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">hours_since_post&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 异步主函数&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="vm">__name__&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;__main__&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">asyncio&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">main&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">except&lt;/span> &lt;span class="ne">Exception&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;程序运行时出错: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>执行也是通过playwright打开浏览器，效果和web-ui类似。&lt;/p>
&lt;p>程序输出如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">C:\qiucao\AI\browser_use&amp;gt;python app.py
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">WARNING [agent] ⚠️ DeepSeek models do not support use_vision=True yet. Setting use_vision=False for now...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🧠 Starting an agent with main_model=deepseek-reasoner +rawtools +memory, planner_model=None, extraction_model=deepseek-reasoner
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [mem0.vector_stores.faiss] Loaded FAISS index from /tmp/mem0_384_faiss/mem0.faiss with 0 vectors
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [mem0.vector_stores.faiss] Loaded FAISS index from C:\Users\weiwe\.mem0\migrations_faiss/mem0_migrations.faiss with 1 vectors
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🚀 Starting task: 测试saucedemo.com网站standard_user的登录功能, 使用不同密码(secret_sauce,空密码)，登录成功则验证完成，否则需要输出错误信息。测试结果需要包含以下信息：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1. 登录是否成功
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2. 如果登录失败，错误信息是什么
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 📍 Step 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🤷 Eval: Unknown - Just started the task. No previous actions taken.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🧠 Memory: Starting task: Test login functionality on saucedemo.com for user &amp;#39;standard_user&amp;#39; with two password cases. 0 out of 2 password tests completed. First need to navigate to login page.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🎯 Next goal: Navigate to saucedemo.com login page to begin testing
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🛠️ Action 1/1: {&amp;#34;go_to_url&amp;#34;:{&amp;#34;url&amp;#34;:&amp;#34;https://www.saucedemo.com&amp;#34;}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [controller] 🔗 Navigated to https://www.saucedemo.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 📍 Step 2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 👍 Eval: Success - Navigation to saucedemo.com completed successfully. Login page is loaded with required input fields visible.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🧠 Memory: 0 out of 2 password tests completed. Starting first test case: username &amp;#39;standard_user&amp;#39; with valid password &amp;#39;secret_sauce&amp;#39;. Will verify login success by checking URL change to /inventory.html after submission.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🎯 Next goal: Execute first login test with valid credentials and verify success
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🛠️ Action 1/3: {&amp;#34;input_text&amp;#34;:{&amp;#34;index&amp;#34;:0,&amp;#34;text&amp;#34;:&amp;#34;standard_user&amp;#34;}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🛠️ Action 2/3: {&amp;#34;input_text&amp;#34;:{&amp;#34;index&amp;#34;:1,&amp;#34;text&amp;#34;:&amp;#34;secret_sauce&amp;#34;}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🛠️ Action 3/3: {&amp;#34;click_element_by_index&amp;#34;:{&amp;#34;index&amp;#34;:2}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [controller] ⌨️ Input standard_user into index 0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [controller] ⌨️ Input secret_sauce into index 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [controller] 🖱️ Clicked button with index 2:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 📍 Step 3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">WARNING [message_manager] Failed to parse model output: {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;current_state&amp;#34;: {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;evaluation_previous_goal&amp;#34;: &amp;#34;Success - First test case completed: Login with username &amp;#39;standard_user&amp;#39; and password &amp;#39;secret_sauce&amp;#39; was successful. Verified by URL change to /inventory.html and presence of product listings.&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;memory&amp;#34;: &amp;#34;1 out of 2 password tests completed. First test successful. Next: Test with empty password. Need to logout before second test.&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;next_goal&amp;#34;: &amp;#34;Logout to return to login page for second test case&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> },
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;action&amp;#34;: [
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {&amp;#34;click_element_by_index&amp;#34;: {&amp;#34;index&amp;#34;: 0}}, // Open menu
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {&amp;#34;wait&amp;#34;: {&amp;#34;seconds&amp;#34;: 2}}, // Wait for menu animation
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {&amp;#34;click_element_by_index&amp;#34;: {&amp;#34;index&amp;#34;: 34}} // Logout (assuming logout appears at index 34 after menu opens)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">} Expecting value: line 8 column 48 (char 532)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">WARNING [agent] Failed to parse model output: content=&amp;#39;{\n &amp;#34;current_state&amp;#34;: {\n &amp;#34;evaluation_previous_goal&amp;#34;: &amp;#34;Success - First test case completed: Login with username \&amp;#39;standard_user\&amp;#39; and password \&amp;#39;secret_sauce\&amp;#39; was successful. Verified by URL change to /inventory.html and presence of product listings.&amp;#34;,\n &amp;#34;memory&amp;#34;: &amp;#34;1 out of 2 password tests completed. First test successful. Next: Test with empty password. Need to logout before second test.&amp;#34;,\n &amp;#34;next_goal&amp;#34;: &amp;#34;Logout to return to login page for second test case&amp;#34;\n },\n &amp;#34;action&amp;#34;: [\n {&amp;#34;click_element_by_index&amp;#34;: {&amp;#34;index&amp;#34;: 0}}, // Open menu\n {&amp;#34;wait&amp;#34;: {&amp;#34;seconds&amp;#34;: 2}}, // Wait for menu animation\n {&amp;#34;click_element_by_index&amp;#34;: {&amp;#34;index&amp;#34;: 34}} // Logout (assuming logout appears at index 34 after menu opens)\n ]\n}&amp;#39; additional_kwargs={&amp;#39;refusal&amp;#39;: None, &amp;#39;reasoning_content&amp;#39;: &amp;#39;We are on the inventory page after successful login with the first password (secret_sauce). This indicates that the first test case (valid password) was successful.\n Now, we need to test the second case: empty password. \n However, we are currently logged in. We must first log out to return to the login page.\n\n Steps:\n 1. Open the menu (index 0: button with text &amp;#34;Open Menu&amp;#34;)\n 2. In the menu, there should be a logout option. We need to find the logout link.\n\n But note: the interactive elements provided are only for the current viewport. The menu is not open, so the logout link is not visible yet.\n\n After clicking the menu button, the menu will open and we can see the logout link. Then we can click it.\n\n However, the current action sequence can only include actions that are based on the current state (before opening the menu). So we can only plan to click the menu button now, and then in the next step we will see the updated elements including the logout link.\n\n Alternatively, we could use a longer sequence? But the problem is that after clicking the menu, the page changes (menu opens) so the state updates and we get new interactive elements. Therefore, we should only click the menu now and then in the next step we will see the logout link.\n\n But note: the task requires testing two cases. We have done one (with valid password) and now we need to do the second (empty password). We must log out first.\n\n Plan:\n Step 1: Click the menu button (index 0)\n Step 2: After the menu opens, we expect to see a logout link. Then click that logout link to return to the login page.\n\n However, the current response can only include one step because the state will change after clicking the menu. So we do:\n\n Action: [{&amp;#34;click_element_by_index&amp;#34;: {&amp;#34;index&amp;#34;: 0}}]\n\n Then in the next step, we will see the menu and the logout link, and then we can click logout.\n\n But note: the task history memory is now at step 3/100. We have to remember that we are in the middle of the second test case.\n\n We have to update the memory: \n First test case: valid password -&amp;gt; successful login (we are on inventory page)\n Now we are going to log out to test the second case.\n\n Let\&amp;#39;s write the state accordingly.&amp;#39;} response_metadata={&amp;#39;token_usage&amp;#39;: {&amp;#39;completion_tokens&amp;#39;: 678, &amp;#39;prompt_tokens&amp;#39;: 4236, &amp;#39;total_tokens&amp;#39;: 4914, &amp;#39;completion_tokens_details&amp;#39;: {&amp;#39;accepted_prediction_tokens&amp;#39;: None, &amp;#39;audio_tokens&amp;#39;: None, &amp;#39;reasoning_tokens&amp;#39;: 495, &amp;#39;rejected_prediction_tokens&amp;#39;: None}, &amp;#39;prompt_tokens_details&amp;#39;: {&amp;#39;audio_tokens&amp;#39;: None, &amp;#39;cached_tokens&amp;#39;: 3072}, &amp;#39;prompt_cache_hit_tokens&amp;#39;: 3072, &amp;#39;prompt_cache_miss_tokens&amp;#39;: 1164}, &amp;#39;model_name&amp;#39;: &amp;#39;deepseek-reasoner&amp;#39;, &amp;#39;system_fingerprint&amp;#39;: &amp;#39;fp_393bca965e_prod0425fp8&amp;#39;, &amp;#39;id&amp;#39;: &amp;#39;68127967-53c3-4329-a9fe-01feb6090fc4&amp;#39;, &amp;#39;finish_reason&amp;#39;: &amp;#39;stop&amp;#39;, &amp;#39;logprobs&amp;#39;: None} id=&amp;#39;run-c6f0d672-4dd5-4ea7-b269-9c908f5aef4e-0&amp;#39; usage_metadata={&amp;#39;input_tokens&amp;#39;: 4236, &amp;#39;output_tokens&amp;#39;: 678, &amp;#39;total_tokens&amp;#39;: 4914, &amp;#39;input_token_details&amp;#39;: {&amp;#39;cache_read&amp;#39;: 3072}, &amp;#39;output_token_details&amp;#39;: {&amp;#39;reasoning&amp;#39;: 495}} Could not parse response.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ERROR [agent] ❌ Result failed 1/3 times:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Could not parse response.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 📍 Step 3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 👍 Eval: Success - First test case completed successfully. Login with valid password &amp;#39;secret_sauce&amp;#39; succeeded as confirmed by URL change to /inventory.html and visible product listings.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🧠 Memory: 1 out of 2 password tests completed (valid password successful). Remaining: test with empty password. Need to logout before next test.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🎯 Next goal: Logout to return to login page for second test case
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🛠️ Action 1/2: {&amp;#34;click_element_by_index&amp;#34;:{&amp;#34;index&amp;#34;:0}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🛠️ Action 2/2: {&amp;#34;wait&amp;#34;:{&amp;#34;seconds&amp;#34;:2}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [controller] 🖱️ Clicked button with index 0: Open Menu
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [controller] 🕒 Waiting for 2 seconds
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 📍 Step 4
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 👍 Eval: Success - Menu opened successfully after login. Logout option is visible at index 2.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🧠 Memory: 1 out of 2 password tests completed (valid password successful). Need to logout for second test with empty password. Next: click logout button.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🎯 Next goal: Logout to return to login page for second password test case
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🛠️ Action 1/1: {&amp;#34;click_element_by_index&amp;#34;:{&amp;#34;index&amp;#34;:2}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [controller] 🖱️ Clicked button with index 2: Logout
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 📍 Step 5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 👍 Eval: Success - Successfully logged out and returned to login page. All interactive elements for testing are available.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🧠 Memory: 1 out of 2 password tests completed (valid password successful). Remaining test: username &amp;#39;standard_user&amp;#39; with empty password. After submission, need to capture error message if login fails.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🎯 Next goal: Execute second test case with empty password and capture results
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🛠️ Action 1/3: {&amp;#34;input_text&amp;#34;:{&amp;#34;index&amp;#34;:0,&amp;#34;text&amp;#34;:&amp;#34;standard_user&amp;#34;}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🛠️ Action 2/3: {&amp;#34;input_text&amp;#34;:{&amp;#34;index&amp;#34;:1,&amp;#34;text&amp;#34;:&amp;#34;&amp;#34;}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🛠️ Action 3/3: {&amp;#34;click_element_by_index&amp;#34;:{&amp;#34;index&amp;#34;:2}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [controller] ⌨️ Input standard_user into index 0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [controller] ⌨️ Input into index 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [controller] 🖱️ Clicked button with index 2:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 📍 Step 6
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 👍 Eval: Success - Second test case completed: Login failed as expected with empty password. Error message &amp;#39;Epic sadface: Password is required&amp;#39; is visible on page.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🧠 Memory: 2 out of 2 password tests completed: 1) Valid password &amp;#39;secret_sauce&amp;#39; - login succeeded 2) Empty password - login failed with error. No remaining tests.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🎯 Next goal: Compile final test results and complete task
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 🛠️ Action 1/1: {&amp;#34;done&amp;#34;:{&amp;#34;text&amp;#34;:&amp;#34;测试结果：\n1. 测试用例1 (密码: secret_sauce):\n - 登录成功: 是\n - 错误信息: 无\n\n2. 测试用例2 (密码: 空):\n - 登录成功: 否\n - 错误信息: \&amp;#34;Epic sadface: Password is required\&amp;#34;&amp;#34;,&amp;#34;success&amp;#34;:true}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 📄 Result: 测试结果：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1. 测试用例1 (密码: secret_sauce):
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - 登录成功: 是
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - 错误信息: 无
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2. 测试用例2 (密码: 空):
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - 登录成功: 否
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - 错误信息: &amp;#34;Epic sadface: Password is required&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] ✅ Task completed
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] ✅ Successfully
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] 📝 Total input tokens used (approximate): 33168
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [agent] Agent run telemetry logged.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>从以上输出，可见Browser-Use 将任务分解为了6步：&lt;/p>
&lt;ol>
&lt;li>开始任务，访问网站 &lt;a class="link" href="https://www.saucedemo.com" target="_blank" rel="noopener"
>https://www.saucedemo.com&lt;/a>&lt;/li>
&lt;li>输入正常用户 standard_user/secret_sauce，点击登录按钮&lt;/li>
&lt;li>点击登出（未发现登出按钮，重试）&lt;/li>
&lt;li>点击菜单后登出&lt;/li>
&lt;li>使用空密码重新登录&lt;/li>
&lt;li>测试完成，获取输出结果&lt;/li>
&lt;/ol>
&lt;h2 id="总结">总结
&lt;/h2>&lt;p>通过以上案例，可以看到，&lt;strong>Browser-Use&lt;/strong> 可以有效借助 LLM根据我们输入的提示词，分解任务，实现对页面的有效解析并完成执行，获取结果。&lt;/p>
&lt;p>执行效率上来说，API调用相对还是比较慢，对于复杂任务，会耗时较长。而在任务开始后，我们并无法干预后续执行路径（除非强制中断），这也是后续如 &lt;strong>Magentic UI&lt;/strong> 这样工具的重点优化方向。&lt;/p>
&lt;p>但 Browser-Use 的优点是已经较为成熟，对本地大模型和多种在线大模型都有良好支持，社区实践也较多，利用它辅助完成自动化测试也已有较多实践，包括系统提示词的优化。是我们利用AI辅助自动化测试的一个较好方向。&lt;/p>
&lt;hr>
&lt;h2 id="mermaid-架构图">Mermaid 架构图
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">graph TD
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> A[AI Agent] --&amp;gt;|决策指令| B(Controller)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> B --&amp;gt;|DOM操作指令| C[DOM 解析引擎]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> C --&amp;gt;|网页内容| D[Browser 接口]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> D --&amp;gt;|浏览器交互| E[Chrome/Edge]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> subgraph 功能模块
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> B --&amp;gt; 多标签管理
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> C --&amp;gt; 视觉识别(OCR)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> D --&amp;gt; 真实用户行为模拟
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> end
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> style A fill:#FFE4B5,stroke:#333
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> style E fill:#98FB98,stroke:#333
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>github星标超3万！Postman最强平替Bruno你用了吗？</title><link>https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/</link><pubDate>Wed, 30 Apr 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250420-2.png" alt="Featured image of post github星标超3万！Postman最强平替Bruno你用了吗？" />&lt;h2 id="序言">序言
&lt;/h2>&lt;p>&lt;code>Postman&lt;/code>长期以来都是API测试领域居领先地位的测试工具。以其友好的工具界面，便捷的API接口请求编辑，强大的脚本支持和云端服务，以及丰富的生态，在接口开发和测试中，有极为广泛你的应用。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250420-1.png"
width="945"
height="386"
srcset="https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250420-1_hu_c775c982dd41f7e4.png 480w, https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250420-1_hu_70c0b86dbfcdd0f8.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="244"
data-flex-basis="587px"
>&lt;/p>
&lt;p>但作为一个商用工具，它的很多高级功能都依赖云端服务，且收费不菲。虽然免费的基础版本同样功能强大，能满足大部分使用需求，但随着工具本身和云端服务的整合以及更多向协作平台方向发展，基础版本也需要注册并登录云端服务后才可完全使用。&lt;/p>
&lt;p>但这却限制了很多脱离互联网环境的应用需求，而且频繁的同步机制和连接稳定性要求也颇受诟病。&lt;/p>
&lt;p>很多受Postman这些限制困扰的同学也一直在寻找和Postman类似的替代工具，本文我们向大家介绍一个API接口测试明日之星，开源接口测试工具 &lt;code>Bruno&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250420-2.png"
width="571"
height="278"
srcset="https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250420-2_hu_e6ba80a3f6c141e6.png 480w, https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250420-2_hu_aec2d7d972778e76.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="205"
data-flex-basis="492px"
>&lt;/p>
&lt;p>从github的star趋势可以看到，Bruno诞生不久，但从2024年开始，已经开始得到广泛关注，star数量一路飙升，潜力无限！&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250420.png"
width="1071"
height="712"
srcset="https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250420_hu_8fae8cbfd8afc4be.png 480w, https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250420_hu_a5efb08ab5765d06.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="150"
data-flex-basis="361px"
>&lt;/p>
&lt;h2 id="bruno简介">Bruno简介
&lt;/h2>&lt;p>可以说 &lt;code>Bruno&lt;/code> 从诞生之初针对的就是前述 &lt;strong>Postman&lt;/strong> 的痛点。官方首页上强调的 Bruno 主要特性也重点说明了这几点：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250420-3.png"
width="1834"
height="608"
srcset="https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250420-3_hu_a7ba358bf0654c21.png 480w, https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250420-3_hu_11183c2c62ac33b8.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="301"
data-flex-basis="723px"
>&lt;/p>
&lt;ol>
&lt;li>承诺开源和可扩展，并且专心做客户端，永不向“平台化”扩充产品。&lt;/li>
&lt;li>基于Git实现协作和版本管理&lt;/li>
&lt;li>离线使用，永不同步本地数据 😂😂😂&lt;/li>
&lt;/ol>
&lt;p>可以说，Bruno的出现，就是针对Postman作为一个客户端工具，过于强调平台化和云端功能的现状，提供的平替方案。&lt;/p>
&lt;h2 id="bruno的优势">Bruno的优势
&lt;/h2>&lt;p>Bruno在官方网站上，也是专门针对 Postman ，将Bruno和Postman进行了详细比对（当然一家之言，免不得自吹，大家辩证看待）网址如下：
&lt;a class="link" href="https://www.usebruno.com/compare/bruno-vs-postman" target="_blank" rel="noopener"
>https://www.usebruno.com/compare/bruno-vs-postman&lt;/a>&lt;/p>
&lt;p>我整理了一下，主要包含如下几个维度：&lt;/p>
&lt;h4 id="整体定位">整体定位
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>Bruno&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Postman&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>开源、本地优先、注重隐私&lt;/td>
&lt;td>最初是 API 客户端，现已发展为包含云协作功能的 API 平台&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="数据存储">数据存储
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>Bruno&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Postman&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>集合直接存储在本地文件系统，使用名为 Bru 的纯文本标记语言&lt;/td>
&lt;td>主要存储在 Postman 云端，需要账户登录（虽然可以导出，但核心工作流依赖云）&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="开放源码">开放源码
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>Bruno&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Postman&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>完全开源 (MIT 许可证)&lt;/td>
&lt;td>部分开源，核心平台和云服务是专有的&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="离线支持">离线支持
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>Bruno&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Postman&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>完全支持离线工作，因为所有数据都在本地&lt;/td>
&lt;td>核心功能（尤其协作）严重依赖在线连接和账户登录&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="协作方式">协作方式
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>Bruno&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Postman&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>通过 Git 或任何版本控制系统进行协作，利用其文件存储特性&lt;/td>
&lt;td>通过 Postman 内置的云同步和团队协作功能（通常需要付费计划）&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="cli命令行">CLI命令行
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>Bruno&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Postman&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>提供名为 &lt;code>bru&lt;/code> 的 CLI 工具，用于运行集合和测试&lt;/td>
&lt;td>提供名为 &lt;code>Newman&lt;/code> 的 CLI 工具，用于运行集合和集成到 CI/CD&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="脚本支持">脚本支持
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>Bruno&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Postman&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>支持声明式脚本（Bru Lang）和 JavaScript 进行自动化测试和脚本编写&lt;/td>
&lt;td>支持 JavaScript 进行请求前脚本、测试脚本编写&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="交互界面">交互界面
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>Bruno&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Postman&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>界面和功能相对更简洁，专注于 API 请求和测试的核心任务&lt;/td>
&lt;td>功能更全面，但也可能更复杂，涵盖了 API 设计、文档、监控等更多方面&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="版本控制">版本控制
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>Bruno&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Postman&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>可直接利用 Git 进行精细的版本控制&lt;/td>
&lt;td>内置版本控制功能，但与 Git 的集成和灵活性不同&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>总体来说，Bruno针对Postman的主要痛点，都给出了对应的应对处理，如果使用Postman受限或更希望在非互联网线环境下进行接口测试，可以说Bruno就是最佳选择&lt;/p>&lt;/blockquote>
&lt;h2 id="bruno的局限性">Bruno的局限性
&lt;/h2>&lt;p>虽然Bruno已经受到了极大的关注，而且功能也足够丰富，但相比Postman这样老牌头部工具，功能上还是有一些局限性。这里总结起来，大致有如下几点：&lt;/p>
&lt;h4 id="云端协作和同步">云端协作和同步
&lt;/h4>&lt;p>完全本地化和简洁、轻量，是Bruno重点突出的优势，但换一个角度来说，也是它主要的局限。&lt;/p>
&lt;p>Bruno的团队协作以来Git来实现，对于熟悉Git使用的研发团队来说，当然足够强大，但如果团队对API的协作牵涉到混合团队时，比如包含客户、设计人员、产品经理等时，Git的使用门槛就相对更高了。Postman那样的基于云服务的团队功能则更易于接受，团队共享工作区、并可进行评论、共享。&lt;/p>
&lt;h4 id="在api全生命周期管理上的欠缺">在API全生命周期管理上的欠缺
&lt;/h4>&lt;p>还是因为纯本地客户端的原因，Bruno很难像Postman那样实现针对API的全生命周期管理和支持，包括接口设计（OpenAPI、swagger等接口设计的导入）、交互式文档（API Documentation）、接口模拟（Mock Server）、健康监测（monitor）等，Postman都有对应的功能可以覆盖，而Bruno则无法涵盖如此丰富的场景。&lt;/p>
&lt;h4 id="接口类型支持不如postman丰富">接口类型支持不如Postman丰富
&lt;/h4>&lt;p>虽然Bruno目前已经支持restful和GraphQL接口，已经能够满足我们绝大多数的接口测试协议要求。但相比Postman还有MQTT这样的物联网协议支持，在协议扩展上，还有待继续补充。&lt;/p>
&lt;h4 id="生态系统不如postman成熟">生态系统不如Postman成熟
&lt;/h4>&lt;ul>
&lt;li>Postman 经过多年发展，已经围绕其平台构建了一个庞大的生态系统，包括大量的第三方工具集成（如很多第三方的 APM 工具、API 网关、CI/CD 工具等）都对Postman支持良好）。&lt;/li>
&lt;li>经过多年积累，Postman社区繁荣，用户数量庞大，积累了海量的资源和教程。&lt;/li>
&lt;/ul>
&lt;p>Bruno 作为一个较新的工具，其原生集成和社区支持的插件相对较少&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250421.png"
width="1432"
height="821"
srcset="https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250421_hu_d4d56096d2ceaa52.png 480w, https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250421_hu_92f83bab1b7a604b.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="174"
data-flex-basis="418px"
>&lt;/p>
&lt;h4 id="ai测试能力的支持">AI测试能力的支持
&lt;/h4>&lt;p>Postman通过内置的 &lt;code>postbot&lt;/code> 助手，借助AI能力，可以实现接口测试用例的自动生成，优化建议等典型的AI增强。而随着AI应用的越来越广泛，对AI的支持也是Bruno还需要重点补充的部分。&lt;/p>
&lt;h2 id="bruno安装和应用基本示例">Bruno安装和应用基本示例
&lt;/h2>&lt;p>Bruno作为一个纯客户端，安装其实极为方便。访问官网，下载对应安装包即可(&lt;a class="link" href="https://www.usebruno.com/downloads" target="_blank" rel="noopener"
>https://www.usebruno.com/downloads&lt;/a>)。&lt;/p>
&lt;p>win11下也可以利用内建的winget命令直接下载安装&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="n">winget&lt;/span> &lt;span class="n">install&lt;/span> &lt;span class="n">bruno&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="py">bruno&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>安装后，桌面上会出一个bruno的小狗logo，类似Postman，双击就可打开Bruno客户端，界面其实和Postman颇为类似。下面我们以获取Github上一个开源项目的最近一次发布为例，看下Bruno中如何操作。&lt;/p>
&lt;ol>
&lt;li>首先建立一个collection，命名为 &amp;ldquo;github&amp;rdquo;, 并在其下创建一个目录，“repos”。 并可以在collection设置界面，添加github的访问Token。这里可以看到，Bruno支持的鉴权方式已经非常全面。&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250421-3.png"
width="1275"
height="632"
srcset="https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250421-3_hu_69f110a17bf52e1b.png 480w, https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250421-3_hu_848368f0c6e68ee5.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="201"
data-flex-basis="484px"
>&lt;/p>
&lt;ol start="2">
&lt;li>在 “repos” 目录下，新建一个Get请求，“getRelease”, 根据Github定义，对应请求接口 &amp;ldquo;&lt;a class="link" href="https://api.github.com/repos/%7b%7bowner%7d%7d/%7b%7brepo%7d%7d/releases/latest%22" target="_blank" rel="noopener"
>https://api.github.com/repos/{{owner}}/{{repo}}/releases/latest"&lt;/a>， 这里我们使用了两个变量，和Postman类似，这里设置的变量可以通过&lt;code>{{var}}&lt;/code> 来引用。 测试一下，成功获取了appium项目的最近一次发布信息&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250421-1.png"
width="1920"
height="959"
srcset="https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250421-1_hu_9f7972931754a68b.png 480w, https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250421-1_hu_751fed8d55784404.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="200"
data-flex-basis="480px"
>&lt;/p>
&lt;p>作为一个本地客户端，这里Bruno所有的请求和配置信息，其实都保存在本地，&lt;code>.bru&lt;/code>文件中进行存储。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250421-2.png"
width="1543"
height="891"
srcset="https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250421-2_hu_44d52d790f131ac3.png 480w, https://chengxiaqiucao.github.io/post/089-bruno%E4%BB%8B%E7%BB%8D/snap_20250421-2_hu_3f4f9e6007ba73aa.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="173"
data-flex-basis="415px"
>&lt;/p>
&lt;p>以上就是关于Bruno的几个概要介绍，对于不希望受Postman在线限制的同学，Bruno就是最佳替代。&lt;/p>
&lt;p>欢迎继续关注秋草的后续博客文章，会陆续带来更多关于Bruno的深度使用总结和分享！&lt;/p></description></item><item><title>Appium 发布历史 (latest 10)</title><link>https://chengxiaqiucao.github.io/page/appium-10/</link><pubDate>Tue, 15 Apr 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/page/appium-10/</guid><description>&lt;h1 id="appium-发布历史-latest-10">Appium 发布历史 (latest 10)
&lt;/h1>&lt;hr>
&lt;h2 id="appium---appiumdriver-test-support078206324946">Appium - @appium/driver-test-support@0.7.8(206324946)
&lt;/h2>&lt;p>created: 2025-03-17T18:24:00Z&lt;/p>
&lt;h3 id="078-2025-03-17">&lt;a class="link" href="https://github.com/appium/appium/compare/@appium/driver-test-support@0.7.7...@appium/driver-test-support@0.7.8" target="_blank" rel="noopener"
>0.7.8&lt;/a> (2025-03-17)
&lt;/h3>&lt;p>&lt;strong>Note:&lt;/strong> Version bump only for package @appium/driver-test-support&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="appium---appiumbase-driver9164206324945">Appium - @appium/base-driver@9.16.4(206324945)
&lt;/h2>&lt;p>created: 2025-03-17T18:24:00Z&lt;/p>
&lt;h3 id="9164-2025-03-17">&lt;a class="link" href="https://github.com/appium/appium/compare/@appium/base-driver@9.16.3...@appium/base-driver@9.16.4" target="_blank" rel="noopener"
>9.16.4&lt;/a> (2025-03-17)
&lt;/h3>&lt;h4 id="bug-fixes">Bug Fixes
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>base-driver:&lt;/strong> Exclude proxied headers from the server response (&lt;a class="link" href="https://github.com/appium/appium/issues/21120" target="_blank" rel="noopener"
>#21120&lt;/a>) (&lt;a class="link" href="https://github.com/appium/appium/commit/f800c9d760ab3271532c42a507fbaf2bf190fc4b" target="_blank" rel="noopener"
>f800c9d&lt;/a>)&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="appium---appiumstorage-plugin011206324944">Appium - @appium/storage-plugin@0.1.1(206324944)
&lt;/h2>&lt;p>created: 2025-03-17T18:24:00Z&lt;/p>
&lt;h3 id="011-2025-03-17">&lt;a class="link" href="https://github.com/appium/appium/compare/@appium/storage-plugin@0.1.0...@appium/storage-plugin@0.1.1" target="_blank" rel="noopener"
>0.1.1&lt;/a> (2025-03-17)
&lt;/h3>&lt;p>&lt;strong>Note:&lt;/strong> Version bump only for package @appium/storage-plugin&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="appium---appiumfake-plugin325206324943">Appium - @appium/fake-plugin@3.2.5(206324943)
&lt;/h2>&lt;p>created: 2025-03-17T18:24:00Z&lt;/p>
&lt;h3 id="325-2025-03-17">&lt;a class="link" href="https://github.com/appium/appium/compare/@appium/fake-plugin@3.2.4...@appium/fake-plugin@3.2.5" target="_blank" rel="noopener"
>3.2.5&lt;/a> (2025-03-17)
&lt;/h3>&lt;p>&lt;strong>Note:&lt;/strong> Version bump only for package @appium/fake-plugin&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="appium---appiumtest-support318206324942">Appium - @appium/test-support@3.1.8(206324942)
&lt;/h2>&lt;p>created: 2025-03-17T18:24:00Z&lt;/p>
&lt;h3 id="318-2025-03-17">&lt;a class="link" href="https://github.com/appium/appium/compare/@appium/test-support@3.1.7...@appium/test-support@3.1.8" target="_blank" rel="noopener"
>3.1.8&lt;/a> (2025-03-17)
&lt;/h3>&lt;p>&lt;strong>Note:&lt;/strong> Version bump only for package @appium/test-support&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="appium---206324941">Appium - &lt;a class="link" href="mailto:appium@2.17.1" >appium@2.17.1&lt;/a>(206324941)
&lt;/h2>&lt;p>created: 2025-03-17T18:24:00Z&lt;/p>
&lt;h3 id="2171-2025-03-17">&lt;a class="link" href="https://github.com/appium/appium/compare/appium@2.17.0...appium@2.17.1" target="_blank" rel="noopener"
>2.17.1&lt;/a> (2025-03-17)
&lt;/h3>&lt;p>&lt;strong>Note:&lt;/strong> Version bump only for package appium&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="appium---appiumuniversal-xml-plugin1032206324940">Appium - @appium/universal-xml-plugin@1.0.32(206324940)
&lt;/h2>&lt;p>created: 2025-03-17T18:24:00Z&lt;/p>
&lt;h3 id="1032-2025-03-17">&lt;a class="link" href="https://github.com/appium/appium/compare/@appium/universal-xml-plugin@1.0.31...@appium/universal-xml-plugin@1.0.32" target="_blank" rel="noopener"
>1.0.32&lt;/a> (2025-03-17)
&lt;/h3>&lt;p>&lt;strong>Note:&lt;/strong> Version bump only for package @appium/universal-xml-plugin&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="appium---appiumexecute-driver-plugin404206324939">Appium - @appium/execute-driver-plugin@4.0.4(206324939)
&lt;/h2>&lt;p>created: 2025-03-17T18:24:00Z&lt;/p>
&lt;h3 id="404-2025-03-17">&lt;a class="link" href="https://github.com/appium/appium/compare/@appium/execute-driver-plugin@4.0.3...@appium/execute-driver-plugin@4.0.4" target="_blank" rel="noopener"
>4.0.4&lt;/a> (2025-03-17)
&lt;/h3>&lt;p>&lt;strong>Note:&lt;/strong> Version bump only for package @appium/execute-driver-plugin&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="appium---appiumimages-plugin311206324938">Appium - @appium/images-plugin@3.1.1(206324938)
&lt;/h2>&lt;p>created: 2025-03-17T18:24:00Z&lt;/p>
&lt;h3 id="311-2025-03-17">&lt;a class="link" href="https://github.com/appium/appium/compare/@appium/images-plugin@3.1.0...@appium/images-plugin@3.1.1" target="_blank" rel="noopener"
>3.1.1&lt;/a> (2025-03-17)
&lt;/h3>&lt;p>&lt;strong>Note:&lt;/strong> Version bump only for package @appium/images-plugin&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="appium---appiumdocutils1034206324937">Appium - @appium/docutils@1.0.34(206324937)
&lt;/h2>&lt;p>created: 2025-03-17T18:24:00Z&lt;/p>
&lt;h3 id="1034-2025-03-17">&lt;a class="link" href="https://github.com/appium/appium/compare/@appium/docutils@1.0.33...@appium/docutils@1.0.34" target="_blank" rel="noopener"
>1.0.34&lt;/a> (2025-03-17)
&lt;/h3>&lt;p>&lt;strong>Note:&lt;/strong> Version bump only for package @appium/docutils&lt;/p>
&lt;p>========================================&lt;/p>
&lt;blockquote>
&lt;p>完整清单，请访问官方列表: &lt;a class="link" href="https://github.com/appium/appium/releases" target="_blank" rel="noopener"
> Appium 发布清单&lt;/a>&lt;/p>&lt;/blockquote></description></item><item><title>Grafana 发布历史 (latest 10)</title><link>https://chengxiaqiucao.github.io/page/grafana-10/</link><pubDate>Tue, 15 Apr 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/page/grafana-10/</guid><description>&lt;h1 id="grafana-发布历史-latest-10">Grafana 发布历史 (latest 10)
&lt;/h1>&lt;hr>
&lt;h2 id="grafana---1160208255998">Grafana - 11.6.0(208255998)
&lt;/h2>&lt;p>created: 2025-03-21T13:55:16Z&lt;/p>
&lt;p>&lt;a class="link" href="https://grafana.com/grafana/download/11.6.0" target="_blank" rel="noopener"
>Download page&lt;/a>
&lt;a class="link" href="https://grafana.com/docs/grafana/latest/whatsnew/" target="_blank" rel="noopener"
>What&amp;rsquo;s new highlights&lt;/a>&lt;/p>
&lt;h4 id="features-and-enhancements">Features and enhancements
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>API keys:&lt;/strong> Migrate API keys to service accounts at startup &lt;a class="link" href="https://github.com/grafana/grafana/pull/96924" target="_blank" rel="noopener"
>#96924&lt;/a>, &lt;a class="link" href="https://github.com/dmihai" target="_blank" rel="noopener"
>@dmihai&lt;/a>&lt;/li>
&lt;li>&lt;strong>AccessControl:&lt;/strong> Allow plugin roles to include &lt;code>plugins:write&lt;/code> &lt;a class="link" href="https://github.com/grafana/grafana/pull/101089" target="_blank" rel="noopener"
>#101089&lt;/a>, &lt;a class="link" href="https://github.com/gamab" target="_blank" rel="noopener"
>@gamab&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Add DAG errors to alert rule creation and view &lt;a class="link" href="https://github.com/grafana/grafana/pull/99423" target="_blank" rel="noopener"
>#99423&lt;/a>, &lt;a class="link" href="https://github.com/soniaAguilarPeiron" target="_blank" rel="noopener"
>@soniaAguilarPeiron&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Add Jira integration to cloud AMs &lt;a class="link" href="https://github.com/grafana/grafana/pull/100482" target="_blank" rel="noopener"
>#100482&lt;/a>, &lt;a class="link" href="https://github.com/soniaAguilarPeiron" target="_blank" rel="noopener"
>@soniaAguilarPeiron&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Add alert rule version history - part1 &lt;a class="link" href="https://github.com/grafana/grafana/pull/99490" target="_blank" rel="noopener"
>#99490&lt;/a>, &lt;a class="link" href="https://github.com/soniaAguilarPeiron" target="_blank" rel="noopener"
>@soniaAguilarPeiron&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Add migration to clean up rule versions table &lt;a class="link" href="https://github.com/grafana/grafana/pull/102562" target="_blank" rel="noopener"
>#102562&lt;/a>, &lt;a class="link" href="https://github.com/yuri-tceretian" target="_blank" rel="noopener"
>@yuri-tceretian&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Add multiple threshold operators &lt;a class="link" href="https://github.com/grafana/grafana/pull/99516" target="_blank" rel="noopener"
>#99516&lt;/a>, &lt;a class="link" href="https://github.com/paulojmdias" target="_blank" rel="noopener"
>@paulojmdias&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Add tracking for the mode used in query and notifications step when c… &lt;a class="link" href="https://github.com/grafana/grafana/pull/100824" target="_blank" rel="noopener"
>#100824&lt;/a>, &lt;a class="link" href="https://github.com/soniaAguilarPeiron" target="_blank" rel="noopener"
>@soniaAguilarPeiron&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Adding color option for slack receiver &lt;a class="link" href="https://github.com/grafana/grafana/pull/99615" target="_blank" rel="noopener"
>#99615&lt;/a>, &lt;a class="link" href="https://github.com/wymangr" target="_blank" rel="noopener"
>@wymangr&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Allow selection of recording rule write target on per-rule basis. &lt;a class="link" href="https://github.com/grafana/grafana/pull/101778" target="_blank" rel="noopener"
>#101778&lt;/a>, &lt;a class="link" href="https://github.com/stevesg" target="_blank" rel="noopener"
>@stevesg&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Allow specifying uid for new rules added to groups &lt;a class="link" href="https://github.com/grafana/grafana/pull/99858" target="_blank" rel="noopener"
>#99858&lt;/a>, &lt;a class="link" href="https://github.com/moustafab" target="_blank" rel="noopener"
>@moustafab&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Improve template testing by trying non-root scopes &lt;a class="link" href="https://github.com/grafana/grafana/pull/101471" target="_blank" rel="noopener"
>#101471&lt;/a>, &lt;a class="link" href="https://github.com/JacobsonMT" target="_blank" rel="noopener"
>@JacobsonMT&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Include time range in template dashboard and panel urls &lt;a class="link" href="https://github.com/grafana/grafana/pull/101095" target="_blank" rel="noopener"
>#101095&lt;/a>, &lt;a class="link" href="https://github.com/JacobsonMT" target="_blank" rel="noopener"
>@JacobsonMT&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Keep the latest version of deleted rule in version table &lt;a class="link" href="https://github.com/grafana/grafana/pull/101481" target="_blank" rel="noopener"
>#101481&lt;/a>, &lt;a class="link" href="https://github.com/yuri-tceretian" target="_blank" rel="noopener"
>@yuri-tceretian&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Promote alertingSaveStateCompressed flag to public preview &lt;a class="link" href="https://github.com/grafana/grafana/pull/99935" target="_blank" rel="noopener"
>#99935&lt;/a>, &lt;a class="link" href="https://github.com/alexander-akhmetov" target="_blank" rel="noopener"
>@alexander-akhmetov&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Remove ID and OrgID from hash calculation &lt;a class="link" href="https://github.com/grafana/grafana/pull/100140" target="_blank" rel="noopener"
>#100140&lt;/a>, &lt;a class="link" href="https://github.com/yuri-tceretian" target="_blank" rel="noopener"
>@yuri-tceretian&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Remove feature toggle alertingNoNormalState &lt;a class="link" href="https://github.com/grafana/grafana/pull/99905" target="_blank" rel="noopener"
>#99905&lt;/a>, &lt;a class="link" href="https://github.com/yuri-tceretian" target="_blank" rel="noopener"
>@yuri-tceretian&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Remove rule group edit from single rule editor &lt;a class="link" href="https://github.com/grafana/grafana/pull/100191" target="_blank" rel="noopener"
>#100191&lt;/a>, &lt;a class="link" href="https://github.com/gillesdemey" target="_blank" rel="noopener"
>@gillesdemey&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Return 404 when /api/ruler/grafana/api/v1/rules/{Namespace}/{Groupname} does not exist &lt;a class="link" href="https://github.com/grafana/grafana/pull/100264" target="_blank" rel="noopener"
>#100264&lt;/a>, &lt;a class="link" href="https://github.com/fayzal-g" target="_blank" rel="noopener"
>@fayzal-g&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Rule history restore feature &lt;a class="link" href="https://github.com/grafana/grafana/pull/100609" target="_blank" rel="noopener"
>#100609&lt;/a>, &lt;a class="link" href="https://github.com/soniaAguilarPeiron" target="_blank" rel="noopener"
>@soniaAguilarPeiron&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Support Jira Integration &lt;a class="link" href="https://github.com/grafana/grafana/pull/100480" target="_blank" rel="noopener"
>#100480&lt;/a>, &lt;a class="link" href="https://github.com/yuri-tceretian" target="_blank" rel="noopener"
>@yuri-tceretian&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Track if new gm rules are created with queries and expressions transformable to simple mode &lt;a class="link" href="https://github.com/grafana/grafana/pull/101121" target="_blank" rel="noopener"
>#101121&lt;/a>, &lt;a class="link" href="https://github.com/soniaAguilarPeiron" target="_blank" rel="noopener"
>@soniaAguilarPeiron&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Update IRM copies in Configuration Tracker &lt;a class="link" href="https://github.com/grafana/grafana/pull/100069" target="_blank" rel="noopener"
>#100069&lt;/a>, &lt;a class="link" href="https://github.com/teodosii" target="_blank" rel="noopener"
>@teodosii&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Update design of rule details tab and add &lt;code>updated by&lt;/code> &lt;a class="link" href="https://github.com/grafana/grafana/pull/99895" target="_blank" rel="noopener"
>#99895&lt;/a>, &lt;a class="link" href="https://github.com/tomratcliffe" target="_blank" rel="noopener"
>@tomratcliffe&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Update irm links for incident and oncall in case new irm plugin is present &lt;a class="link" href="https://github.com/grafana/grafana/pull/99952" target="_blank" rel="noopener"
>#99952&lt;/a>, &lt;a class="link" href="https://github.com/soniaAguilarPeiron" target="_blank" rel="noopener"
>@soniaAguilarPeiron&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Use exponential backoff in the remote Alertmanager readiness check &lt;a class="link" href="https://github.com/grafana/grafana/pull/99756" target="_blank" rel="noopener"
>#99756&lt;/a>, &lt;a class="link" href="https://github.com/santihernandezc" target="_blank" rel="noopener"
>@santihernandezc&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Use uid instead of id in AnnotationsStateHistory &lt;a class="link" href="https://github.com/grafana/grafana/pull/101207" target="_blank" rel="noopener"
>#101207&lt;/a>, &lt;a class="link" href="https://github.com/soniaAguilarPeiron" target="_blank" rel="noopener"
>@soniaAguilarPeiron&lt;/a>&lt;/li>
&lt;li>&lt;strong>Auth:&lt;/strong> Add IP address login attempt validation &lt;a class="link" href="https://github.com/grafana/grafana/pull/98123" target="_blank" rel="noopener"
>#98123&lt;/a>, &lt;a class="link" href="https://github.com/colin-stuart" target="_blank" rel="noopener"
>@colin-stuart&lt;/a>&lt;/li>
&lt;li>&lt;strong>Auth:&lt;/strong> Add support for the TlsSkipVerify parameter to JWT Auth &lt;a class="link" href="https://github.com/grafana/grafana/pull/91514" target="_blank" rel="noopener"
>#91514&lt;/a>, &lt;a class="link" href="https://github.com/Ret2Me" target="_blank" rel="noopener"
>@Ret2Me&lt;/a>&lt;/li>
&lt;li>&lt;strong>Auth:&lt;/strong> Make ssoSettingsSAML GA and enabled by default &lt;a class="link" href="https://github.com/grafana/grafana/pull/101766" target="_blank" rel="noopener"
>#101766&lt;/a>, &lt;a class="link" href="https://github.com/mgyongyosi" target="_blank" rel="noopener"
>@mgyongyosi&lt;/a>&lt;/li>
&lt;li>&lt;strong>Azure Monitor:&lt;/strong> Filter namespaces by resource group &lt;a class="link" href="https://github.com/grafana/grafana/pull/100325" target="_blank" rel="noopener"
>#100325&lt;/a>, &lt;a class="link" href="https://github.com/alyssabull" target="_blank" rel="noopener"
>@alyssabull&lt;/a>&lt;/li>
&lt;li>&lt;strong>Azure:&lt;/strong> Resource picker improvements &lt;a class="link" href="https://github.com/grafana/grafana/pull/101462" target="_blank" rel="noopener"
>#101462&lt;/a>, &lt;a class="link" href="https://github.com/aangelisc" target="_blank" rel="noopener"
>@aangelisc&lt;/a>&lt;/li>
&lt;li>&lt;strong>Azure:&lt;/strong> Variable editor and resource picker improvements &lt;a class="link" href="https://github.com/grafana/grafana/pull/101695" target="_blank" rel="noopener"
>#101695&lt;/a>, &lt;a class="link" href="https://github.com/alyssabull" target="_blank" rel="noopener"
>@alyssabull&lt;/a>&lt;/li>
&lt;li>&lt;strong>Badge:&lt;/strong> Add darkgrey color &lt;a class="link" href="https://github.com/grafana/grafana/pull/100699" target="_blank" rel="noopener"
>#100699&lt;/a>, &lt;a class="link" href="https://github.com/Clarity-89" target="_blank" rel="noopener"
>@Clarity-89&lt;/a>&lt;/li>
&lt;li>&lt;strong>Canvas:&lt;/strong> One click links and actions &lt;a class="link" href="https://github.com/grafana/grafana/pull/99616" target="_blank" rel="noopener"
>#99616&lt;/a>, &lt;a class="link" href="https://github.com/adela-almasan" target="_blank" rel="noopener"
>@adela-almasan&lt;/a>&lt;/li>
&lt;li>&lt;strong>Chore:&lt;/strong> Bump Go to 1.23.7 &lt;a class="link" href="https://github.com/grafana/grafana/pull/101576" target="_blank" rel="noopener"
>#101576&lt;/a>, &lt;a class="link" href="https://github.com/macabu" target="_blank" rel="noopener"
>@macabu&lt;/a>&lt;/li>
&lt;li>&lt;strong>Chore:&lt;/strong> Bump Go to 1.23.7 (Enterprise)&lt;/li>
&lt;li>&lt;strong>Chore:&lt;/strong> Bump github.com/expr-lang/expr to v1.17.0 to address CVE-2025-29786 &lt;a class="link" href="https://github.com/grafana/grafana/pull/102533" target="_blank" rel="noopener"
>#102533&lt;/a>, &lt;a class="link" href="https://github.com/macabu" target="_blank" rel="noopener"
>@macabu&lt;/a>&lt;/li>
&lt;li>&lt;strong>Chore:&lt;/strong> Remove &lt;code>sqlQuerybuilderFunctionParameters&lt;/code> feature toggle &lt;a class="link" href="https://github.com/grafana/grafana/pull/100809" target="_blank" rel="noopener"
>#100809&lt;/a>, &lt;a class="link" href="https://github.com/zoltanbedi" target="_blank" rel="noopener"
>@zoltanbedi&lt;/a>&lt;/li>
&lt;li>&lt;strong>CloudWatch:&lt;/strong> Track Logs Insights query language &lt;a class="link" href="https://github.com/grafana/grafana/pull/100254" target="_blank" rel="noopener"
>#100254&lt;/a>, &lt;a class="link" href="https://github.com/idastambuk" target="_blank" rel="noopener"
>@idastambuk&lt;/a>&lt;/li>
&lt;li>&lt;strong>Configuration tracker:&lt;/strong> Update copy in IRM and point to new IRM slack integration &lt;a class="link" href="https://github.com/grafana/grafana/pull/100440" target="_blank" rel="noopener"
>#100440&lt;/a>, &lt;a class="link" href="https://github.com/teodosii" target="_blank" rel="noopener"
>@teodosii&lt;/a>&lt;/li>
&lt;li>&lt;strong>Dashboard:&lt;/strong> Folder move unexpected behavior &lt;a class="link" href="https://github.com/grafana/grafana/pull/100394" target="_blank" rel="noopener"
>#100394&lt;/a>, &lt;a class="link" href="https://github.com/yincongcyincong" target="_blank" rel="noopener"
>@yincongcyincong&lt;/a>&lt;/li>
&lt;li>&lt;strong>Dashboards:&lt;/strong> Allow custom quick time ranges specified in dashboard model &lt;a class="link" href="https://github.com/grafana/grafana/pull/93724" target="_blank" rel="noopener"
>#93724&lt;/a>, &lt;a class="link" href="https://github.com/sknaumov" target="_blank" rel="noopener"
>@sknaumov&lt;/a>&lt;/li>
&lt;li>&lt;strong>Dashboards:&lt;/strong> Monitor dashboard loading performance &lt;a class="link" href="https://github.com/grafana/grafana/pull/99629" target="_blank" rel="noopener"
>#99629&lt;/a>, &lt;a class="link" href="https://github.com/dprokop" target="_blank" rel="noopener"
>@dprokop&lt;/a>&lt;/li>
&lt;li>&lt;strong>Dashboards:&lt;/strong> Remove default empty string from variable create view &lt;a class="link" href="https://github.com/grafana/grafana/pull/98922" target="_blank" rel="noopener"
>#98922&lt;/a>, &lt;a class="link" href="https://github.com/yincongcyincong" target="_blank" rel="noopener"
>@yincongcyincong&lt;/a>&lt;/li>
&lt;li>&lt;strong>Dashboards:&lt;/strong> WeekStart is now of type WeekStart | undefined instead of string &lt;a class="link" href="https://github.com/grafana/grafana/pull/101123" target="_blank" rel="noopener"
>#101123&lt;/a>, &lt;a class="link" href="https://github.com/oscarkilhed" target="_blank" rel="noopener"
>@oscarkilhed&lt;/a>&lt;/li>
&lt;li>&lt;strong>DesignSystem:&lt;/strong> Menu and popover styling update to use new elevated background token &lt;a class="link" href="https://github.com/grafana/grafana/pull/100255" target="_blank" rel="noopener"
>#100255&lt;/a>, &lt;a class="link" href="https://github.com/torkelo" target="_blank" rel="noopener"
>@torkelo&lt;/a>&lt;/li>
&lt;li>&lt;strong>Docker:&lt;/strong> Use our own glibc 2.40 binaries &lt;a class="link" href="https://github.com/grafana/grafana/pull/99903" target="_blank" rel="noopener"
>#99903&lt;/a>, &lt;a class="link" href="https://github.com/DanCech" target="_blank" rel="noopener"
>@DanCech&lt;/a>&lt;/li>
&lt;li>&lt;strong>Docs:&lt;/strong> Add a note on query caching for Cloudwatch datasource &lt;a class="link" href="https://github.com/grafana/grafana/pull/100180" target="_blank" rel="noopener"
>#100180&lt;/a>, &lt;a class="link" href="https://github.com/idastambuk" target="_blank" rel="noopener"
>@idastambuk&lt;/a>&lt;/li>
&lt;li>&lt;strong>Drilldown:&lt;/strong> Require &lt;code>datasources:explore&lt;/code> RBAC action &lt;a class="link" href="https://github.com/grafana/grafana/pull/101366" target="_blank" rel="noopener"
>#101366&lt;/a>, &lt;a class="link" href="https://github.com/svennergr" target="_blank" rel="noopener"
>@svennergr&lt;/a>&lt;/li>
&lt;li>&lt;strong>Elasticsearch:&lt;/strong> Remove frontend testDatasource method &lt;a class="link" href="https://github.com/grafana/grafana/pull/99894" target="_blank" rel="noopener"
>#99894&lt;/a>, &lt;a class="link" href="https://github.com/idastambuk" target="_blank" rel="noopener"
>@idastambuk&lt;/a>&lt;/li>
&lt;li>&lt;strong>Elasticsearch:&lt;/strong> Replace level in adhoc filters with level field name &lt;a class="link" href="https://github.com/grafana/grafana/pull/100315" target="_blank" rel="noopener"
>#100315&lt;/a>, &lt;a class="link" href="https://github.com/iwysiu" target="_blank" rel="noopener"
>@iwysiu&lt;/a>&lt;/li>
&lt;li>&lt;strong>Elasticsearch:&lt;/strong> Replace term size dropdown with text input &lt;a class="link" href="https://github.com/grafana/grafana/pull/99718" target="_blank" rel="noopener"
>#99718&lt;/a>, &lt;a class="link" href="https://github.com/iwysiu" target="_blank" rel="noopener"
>@iwysiu&lt;/a>&lt;/li>
&lt;li>&lt;strong>Explore:&lt;/strong> Add &lt;code>hide_logs_download&lt;/code> and hide button to download logs &lt;a class="link" href="https://github.com/grafana/grafana/pull/99512" target="_blank" rel="noopener"
>#99512&lt;/a>, &lt;a class="link" href="https://github.com/svennergr" target="_blank" rel="noopener"
>@svennergr&lt;/a>&lt;/li>
&lt;li>&lt;strong>Explore:&lt;/strong> Move drilldown apps from Explore to a new navbar item &amp;ldquo;Drilldown&amp;rdquo; &lt;a class="link" href="https://github.com/grafana/grafana/pull/100409" target="_blank" rel="noopener"
>#100409&lt;/a>, &lt;a class="link" href="https://github.com/adrapereira" target="_blank" rel="noopener"
>@adrapereira&lt;/a>&lt;/li>
&lt;li>&lt;strong>ExploreMetrics:&lt;/strong> Add toggle to enable routing to externalized Explore Metrics app plugin &lt;a class="link" href="https://github.com/grafana/grafana/pull/99481" target="_blank" rel="noopener"
>#99481&lt;/a>, &lt;a class="link" href="https://github.com/NWRichmond" target="_blank" rel="noopener"
>@NWRichmond&lt;/a>&lt;/li>
&lt;li>&lt;strong>Feat:&lt;/strong> OSS connections page state filter and update all added &lt;a class="link" href="https://github.com/grafana/grafana/pull/100688" target="_blank" rel="noopener"
>#100688&lt;/a>, &lt;a class="link" href="https://github.com/s4kh" target="_blank" rel="noopener"
>@s4kh&lt;/a>&lt;/li>
&lt;li>&lt;strong>Features:&lt;/strong> Remove openSearchBackendFlowEnabled feature toggle &lt;a class="link" href="https://github.com/grafana/grafana/pull/99068" target="_blank" rel="noopener"
>#99068&lt;/a>, &lt;a class="link" href="https://github.com/idastambuk" target="_blank" rel="noopener"
>@idastambuk&lt;/a>&lt;/li>
&lt;li>&lt;strong>Folders:&lt;/strong> Add validation that folder is not a parent of itself &lt;a class="link" href="https://github.com/grafana/grafana/pull/101569" target="_blank" rel="noopener"
>#101569&lt;/a>, &lt;a class="link" href="https://github.com/stephaniehingtgen" target="_blank" rel="noopener"
>@stephaniehingtgen&lt;/a>&lt;/li>
&lt;li>&lt;strong>Geomap:&lt;/strong> WebGL for Marker Layer &lt;a class="link" href="https://github.com/grafana/grafana/pull/95457" target="_blank" rel="noopener"
>#95457&lt;/a>, &lt;a class="link" href="https://github.com/drew08t" target="_blank" rel="noopener"
>@drew08t&lt;/a>&lt;/li>
&lt;li>&lt;strong>Grafana/ui:&lt;/strong> Export UsersIndicator &lt;a class="link" href="https://github.com/grafana/grafana/pull/100698" target="_blank" rel="noopener"
>#100698&lt;/a>, &lt;a class="link" href="https://github.com/Clarity-89" target="_blank" rel="noopener"
>@Clarity-89&lt;/a>&lt;/li>
&lt;li>&lt;strong>Graphite:&lt;/strong> Compare query builder query to raw query &lt;a class="link" href="https://github.com/grafana/grafana/pull/101104" target="_blank" rel="noopener"
>#101104&lt;/a>, &lt;a class="link" href="https://github.com/bossinc" target="_blank" rel="noopener"
>@bossinc&lt;/a>&lt;/li>
&lt;li>&lt;strong>Histogram:&lt;/strong> Handle multiple native histograms &lt;a class="link" href="https://github.com/grafana/grafana/pull/98404" target="_blank" rel="noopener"
>#98404&lt;/a>, &lt;a class="link" href="https://github.com/domasx2" target="_blank" rel="noopener"
>@domasx2&lt;/a>&lt;/li>
&lt;li>&lt;strong>Image Renderer:&lt;/strong> Add support for SSL in plugin mode &lt;a class="link" href="https://github.com/grafana/grafana/pull/98009" target="_blank" rel="noopener"
>#98009&lt;/a>, &lt;a class="link" href="https://github.com/nmarrs" target="_blank" rel="noopener"
>@nmarrs&lt;/a>&lt;/li>
&lt;li>&lt;strong>ImportDashboards:&lt;/strong> Use NestedFolderPicker &lt;a class="link" href="https://github.com/grafana/grafana/pull/99696" target="_blank" rel="noopener"
>#99696&lt;/a>, &lt;a class="link" href="https://github.com/joshhunt" target="_blank" rel="noopener"
>@joshhunt&lt;/a>&lt;/li>
&lt;li>&lt;strong>Loki:&lt;/strong> Removal of &lt;code>Resolution&lt;/code> in query editors &lt;a class="link" href="https://github.com/grafana/grafana/pull/101860" target="_blank" rel="noopener"
>#101860&lt;/a>, &lt;a class="link" href="https://github.com/svennergr" target="_blank" rel="noopener"
>@svennergr&lt;/a>&lt;/li>
&lt;li>&lt;strong>Menu:&lt;/strong> Uniform padding to make menu item hover state look better &lt;a class="link" href="https://github.com/grafana/grafana/pull/100275" target="_blank" rel="noopener"
>#100275&lt;/a>, &lt;a class="link" href="https://github.com/torkelo" target="_blank" rel="noopener"
>@torkelo&lt;/a>&lt;/li>
&lt;li>&lt;strong>MetricsDrilldown:&lt;/strong> Update name of queryless metrics experience &lt;a class="link" href="https://github.com/grafana/grafana/pull/100675" target="_blank" rel="noopener"
>#100675&lt;/a>, &lt;a class="link" href="https://github.com/yangkb09" target="_blank" rel="noopener"
>@yangkb09&lt;/a>&lt;/li>
&lt;li>&lt;strong>MultiCombobox:&lt;/strong> Export from grafana/ui &lt;a class="link" href="https://github.com/grafana/grafana/pull/100368" target="_blank" rel="noopener"
>#100368&lt;/a>, &lt;a class="link" href="https://github.com/Clarity-89" target="_blank" rel="noopener"
>@Clarity-89&lt;/a>&lt;/li>
&lt;li>&lt;strong>NodeGraph:&lt;/strong> Improve view traces for uninstrumented services &lt;a class="link" href="https://github.com/grafana/grafana/pull/98442" target="_blank" rel="noopener"
>#98442&lt;/a>, &lt;a class="link" href="https://github.com/edvard-falkskar" target="_blank" rel="noopener"
>@edvard-falkskar&lt;/a>&lt;/li>
&lt;li>&lt;strong>PluginExtensions:&lt;/strong> Added support for sharing functions &lt;a class="link" href="https://github.com/grafana/grafana/pull/98888" target="_blank" rel="noopener"
>#98888&lt;/a>, &lt;a class="link" href="https://github.com/theSuess" target="_blank" rel="noopener"
>@theSuess&lt;/a>&lt;/li>
&lt;li>&lt;strong>PluginExtensions:&lt;/strong> Added support for sharing functions (Enterprise)&lt;/li>
&lt;li>&lt;strong>PluginExtensions:&lt;/strong> Exposing registry meta for components returned via &lt;code>usePluginComponents&lt;/code> &lt;a class="link" href="https://github.com/grafana/grafana/pull/100587" target="_blank" rel="noopener"
>#100587&lt;/a>, &lt;a class="link" href="https://github.com/mckn" target="_blank" rel="noopener"
>@mckn&lt;/a>&lt;/li>
&lt;li>&lt;strong>Plugins:&lt;/strong> Improve plugin details UX for core plugins &lt;a class="link" href="https://github.com/grafana/grafana/pull/99830" target="_blank" rel="noopener"
>#99830&lt;/a>, &lt;a class="link" href="https://github.com/oshirohugo" target="_blank" rel="noopener"
>@oshirohugo&lt;/a>&lt;/li>
&lt;li>&lt;strong>Plugins:&lt;/strong> Remove managedPluginsInstall feature toggle &lt;a class="link" href="https://github.com/grafana/grafana/pull/100416" target="_blank" rel="noopener"
>#100416&lt;/a>, &lt;a class="link" href="https://github.com/oshirohugo" target="_blank" rel="noopener"
>@oshirohugo&lt;/a>&lt;/li>
&lt;li>&lt;strong>Plugins:&lt;/strong> Remove managedPluginsInstall feature toggle (Enterprise)&lt;/li>
&lt;li>&lt;strong>Plugins:&lt;/strong> Remove uninstall plugin step from cli plugins update-all &lt;a class="link" href="https://github.com/grafana/grafana/pull/101632" target="_blank" rel="noopener"
>#101632&lt;/a>, &lt;a class="link" href="https://github.com/oshirohugo" target="_blank" rel="noopener"
>@oshirohugo&lt;/a>&lt;/li>
&lt;li>&lt;strong>Prometheus:&lt;/strong> Get the utcOffset value of timezone when it&amp;rsquo;s specified &lt;a class="link" href="https://github.com/grafana/grafana/pull/99910" target="_blank" rel="noopener"
>#99910&lt;/a>, &lt;a class="link" href="https://github.com/itsmylife" target="_blank" rel="noopener"
>@itsmylife&lt;/a>&lt;/li>
&lt;li>&lt;strong>Prometheus:&lt;/strong> Remove query assistant and related components &lt;a class="link" href="https://github.com/grafana/grafana/pull/100669" target="_blank" rel="noopener"
>#100669&lt;/a>, &lt;a class="link" href="https://github.com/edwardcqian" target="_blank" rel="noopener"
>@edwardcqian&lt;/a>&lt;/li>
&lt;li>&lt;strong>QueryOptions:&lt;/strong> Handle invalid time shift values &lt;a class="link" href="https://github.com/grafana/grafana/pull/101670" target="_blank" rel="noopener"
>#101670&lt;/a>, &lt;a class="link" href="https://github.com/ivanortegaalba" target="_blank" rel="noopener"
>@ivanortegaalba&lt;/a>&lt;/li>
&lt;li>&lt;strong>RBAC:&lt;/strong> Remove accessControlOnCall feature toggle &lt;a class="link" href="https://github.com/grafana/grafana/pull/101222" target="_blank" rel="noopener"
>#101222&lt;/a>, &lt;a class="link" href="https://github.com/gamab" target="_blank" rel="noopener"
>@gamab&lt;/a>&lt;/li>
&lt;li>&lt;strong>RBAC:&lt;/strong> Remove accessControlOnCall feature toggle (Enterprise)&lt;/li>
&lt;li>&lt;strong>Reporting:&lt;/strong> Add email subject support (Enterprise)&lt;/li>
&lt;li>&lt;strong>Security:&lt;/strong> Update to Go 1.23.5 (Enterprise)&lt;/li>
&lt;li>&lt;strong>Tempo:&lt;/strong> Support TraceQL instant metrics queries &lt;a class="link" href="https://github.com/grafana/grafana/pull/99732" target="_blank" rel="noopener"
>#99732&lt;/a>, &lt;a class="link" href="https://github.com/joey-grafana" target="_blank" rel="noopener"
>@joey-grafana&lt;/a>&lt;/li>
&lt;li>&lt;strong>Tempo:&lt;/strong> TraceQL metrics streaming &lt;a class="link" href="https://github.com/grafana/grafana/pull/99037" target="_blank" rel="noopener"
>#99037&lt;/a>, &lt;a class="link" href="https://github.com/adrapereira" target="_blank" rel="noopener"
>@adrapereira&lt;/a>&lt;/li>
&lt;li>&lt;strong>Time regions:&lt;/strong> Add option for cron syntax to support complex schedules &lt;a class="link" href="https://github.com/grafana/grafana/pull/99548" target="_blank" rel="noopener"
>#99548&lt;/a>, &lt;a class="link" href="https://github.com/leeoniya" target="_blank" rel="noopener"
>@leeoniya&lt;/a>&lt;/li>
&lt;li>&lt;strong>TimePicker:&lt;/strong> Ability to manually specify quick ranges &lt;a class="link" href="https://github.com/grafana/grafana/pull/101465" target="_blank" rel="noopener"
>#101465&lt;/a>, &lt;a class="link" href="https://github.com/Sergej-Vlasov" target="_blank" rel="noopener"
>@Sergej-Vlasov&lt;/a>&lt;/li>
&lt;li>&lt;strong>TimeRangePicker:&lt;/strong> Options list padding &lt;a class="link" href="https://github.com/grafana/grafana/pull/100343" target="_blank" rel="noopener"
>#100343&lt;/a>, &lt;a class="link" href="https://github.com/torkelo" target="_blank" rel="noopener"
>@torkelo&lt;/a>&lt;/li>
&lt;li>&lt;strong>TopNav:&lt;/strong> Move news into profile menu &lt;a class="link" href="https://github.com/grafana/grafana/pull/99535" target="_blank" rel="noopener"
>#99535&lt;/a>, &lt;a class="link" href="https://github.com/bergquist" target="_blank" rel="noopener"
>@bergquist&lt;/a>&lt;/li>
&lt;li>&lt;strong>Trace View:&lt;/strong> Add link from the Trace View to the Profiles Drilldown &lt;a class="link" href="https://github.com/grafana/grafana/pull/101422" target="_blank" rel="noopener"
>#101422&lt;/a>, &lt;a class="link" href="https://github.com/joey-grafana" target="_blank" rel="noopener"
>@joey-grafana&lt;/a>&lt;/li>
&lt;li>&lt;strong>Transformation:&lt;/strong> Add support for variables to ALL transformations &lt;a class="link" href="https://github.com/grafana/grafana/pull/100225" target="_blank" rel="noopener"
>#100225&lt;/a>, &lt;a class="link" href="https://github.com/dprokop" target="_blank" rel="noopener"
>@dprokop&lt;/a>&lt;/li>
&lt;li>&lt;strong>Transformations:&lt;/strong> Add round() to Unary mode of &lt;code>Add field from calc&lt;/code> &lt;a class="link" href="https://github.com/grafana/grafana/pull/101295" target="_blank" rel="noopener"
>#101295&lt;/a>, &lt;a class="link" href="https://github.com/leeoniya" target="_blank" rel="noopener"
>@leeoniya&lt;/a>&lt;/li>
&lt;li>&lt;strong>VizActions:&lt;/strong> Add confirmation message &lt;a class="link" href="https://github.com/grafana/grafana/pull/100012" target="_blank" rel="noopener"
>#100012&lt;/a>, &lt;a class="link" href="https://github.com/adela-almasan" target="_blank" rel="noopener"
>@adela-almasan&lt;/a>&lt;/li>
&lt;li>&lt;strong>grafana-ui:&lt;/strong> Update InlineField error prop type to React.ReactNode &lt;a class="link" href="https://github.com/grafana/grafana/pull/100347" target="_blank" rel="noopener"
>#100347&lt;/a>, &lt;a class="link" href="https://github.com/Clarity-89" target="_blank" rel="noopener"
>@Clarity-89&lt;/a>&lt;/li>
&lt;/ul>
&lt;h4 id="bug-fixes">Bug fixes
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Alerting:&lt;/strong> Add error handling for missing data source &lt;a class="link" href="https://github.com/grafana/grafana/pull/101508" target="_blank" rel="noopener"
>#101508&lt;/a>, &lt;a class="link" href="https://github.com/gillesdemey" target="_blank" rel="noopener"
>@gillesdemey&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Call RLock() before reading sendAlertsTo map &lt;a class="link" href="https://github.com/grafana/grafana/pull/99812" target="_blank" rel="noopener"
>#99812&lt;/a>, &lt;a class="link" href="https://github.com/santihernandezc" target="_blank" rel="noopener"
>@santihernandezc&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Disable create rule menu item from panel when unifiedAlerting is disabled &lt;a class="link" href="https://github.com/grafana/grafana/pull/100701" target="_blank" rel="noopener"
>#100701&lt;/a>, &lt;a class="link" href="https://github.com/soniaAguilarPeiron" target="_blank" rel="noopener"
>@soniaAguilarPeiron&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Fix KeyValueMap input bug &lt;a class="link" href="https://github.com/grafana/grafana/pull/101367" target="_blank" rel="noopener"
>#101367&lt;/a>, &lt;a class="link" href="https://github.com/soniaAguilarPeiron" target="_blank" rel="noopener"
>@soniaAguilarPeiron&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Fix crash when invalid matcher is used in silence query params &lt;a class="link" href="https://github.com/grafana/grafana/pull/101500" target="_blank" rel="noopener"
>#101500&lt;/a>, &lt;a class="link" href="https://github.com/gillesdemey" target="_blank" rel="noopener"
>@gillesdemey&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Fix evaluation of rules with no-op math expressions &lt;a class="link" href="https://github.com/grafana/grafana/pull/101436" target="_blank" rel="noopener"
>#101436&lt;/a>, &lt;a class="link" href="https://github.com/moustafab" target="_blank" rel="noopener"
>@moustafab&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Fix exporting new rule with a new group &lt;a class="link" href="https://github.com/grafana/grafana/pull/101404" target="_blank" rel="noopener"
>#101404&lt;/a>, &lt;a class="link" href="https://github.com/soniaAguilarPeiron" target="_blank" rel="noopener"
>@soniaAguilarPeiron&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Fix fieldSelector encoding &lt;a class="link" href="https://github.com/grafana/grafana/pull/99751" target="_blank" rel="noopener"
>#99751&lt;/a>, &lt;a class="link" href="https://github.com/gillesdemey" target="_blank" rel="noopener"
>@gillesdemey&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Fix inheritance of the timing options for policy tree &lt;a class="link" href="https://github.com/grafana/grafana/pull/99398" target="_blank" rel="noopener"
>#99398&lt;/a>, &lt;a class="link" href="https://github.com/gillesdemey" target="_blank" rel="noopener"
>@gillesdemey&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Fix notification templates layout &lt;a class="link" href="https://github.com/grafana/grafana/pull/101232" target="_blank" rel="noopener"
>#101232&lt;/a>, &lt;a class="link" href="https://github.com/gillesdemey" target="_blank" rel="noopener"
>@gillesdemey&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Fix state reason &lt;a class="link" href="https://github.com/grafana/grafana/pull/101530" target="_blank" rel="noopener"
>#101530&lt;/a>, &lt;a class="link" href="https://github.com/yuri-tceretian" target="_blank" rel="noopener"
>@yuri-tceretian&lt;/a>&lt;/li>
&lt;li>&lt;strong>Alerting:&lt;/strong> Fix token-based Slack image upload to work with channel names &lt;a class="link" href="https://github.com/grafana/grafana/pull/100988" target="_blank" rel="noopener"
>#100988&lt;/a>, &lt;a class="link" href="https://github.com/JacobsonMT" target="_blank" rel="noopener"
>@JacobsonMT&lt;/a>&lt;/li>
&lt;li>&lt;strong>App Platform:&lt;/strong> Pin bleve to fix CVE-2022-31022 &lt;a class="link" href="https://github.com/grafana/grafana/pull/102531" target="_blank" rel="noopener"
>#102531&lt;/a>, &lt;a class="link" href="https://github.com/Proximyst" target="_blank" rel="noopener"
>@Proximyst&lt;/a>&lt;/li>
&lt;li>&lt;strong>App:&lt;/strong> Fix web app behaviour on iOS &lt;a class="link" href="https://github.com/grafana/grafana/pull/100382" target="_blank" rel="noopener"
>#100382&lt;/a>, &lt;a class="link" href="https://github.com/ashharrison90" target="_blank" rel="noopener"
>@ashharrison90&lt;/a>&lt;/li>
&lt;li>&lt;strong>Auth:&lt;/strong> Fix AzureAD config UI&amp;rsquo;s ClientAuthentication dropdown &lt;a class="link" href="https://github.com/grafana/grafana/pull/100752" target="_blank" rel="noopener"
>#100752&lt;/a>, &lt;a class="link" href="https://github.com/mgyongyosi" target="_blank" rel="noopener"
>@mgyongyosi&lt;/a>&lt;/li>
&lt;li>&lt;strong>Auth:&lt;/strong> Fix redirect with JWT auth URL login &lt;a class="link" href="https://github.com/grafana/grafana/pull/100295" target="_blank" rel="noopener"
>#100295&lt;/a>, &lt;a class="link" href="https://github.com/mgyongyosi" target="_blank" rel="noopener"
>@mgyongyosi&lt;/a>&lt;/li>
&lt;li>&lt;strong>AuthN:&lt;/strong> Refetch user on &amp;ldquo;ErrUserAlreadyExists&amp;rdquo; &lt;a class="link" href="https://github.com/grafana/grafana/pull/100346" target="_blank" rel="noopener"
>#100346&lt;/a>, &lt;a class="link" href="https://github.com/kalleep" target="_blank" rel="noopener"
>@kalleep&lt;/a>&lt;/li>
&lt;li>&lt;strong>Caching:&lt;/strong> Fix duplicate metric registration for cache size (Enterprise)&lt;/li>
&lt;li>&lt;strong>CloudWatch:&lt;/strong> Fix condition for running annotation queries to require dimensions &lt;a class="link" href="https://github.com/grafana/grafana/pull/101660" target="_blank" rel="noopener"
>#101660&lt;/a>, &lt;a class="link" href="https://github.com/kevinwcyu" target="_blank" rel="noopener"
>@kevinwcyu&lt;/a>&lt;/li>
&lt;li>&lt;strong>Combobox:&lt;/strong> Fix list not being virtualized initially in some cases &lt;a class="link" href="https://github.com/grafana/grafana/pull/100188" target="_blank" rel="noopener"
>#100188&lt;/a>, &lt;a class="link" href="https://github.com/tskarhed" target="_blank" rel="noopener"
>@tskarhed&lt;/a>&lt;/li>
&lt;li>&lt;strong>Dashboard:&lt;/strong> Fix for overwriting an edited dashboard in the old architecture &lt;a class="link" href="https://github.com/grafana/grafana/pull/100247" target="_blank" rel="noopener"
>#100247&lt;/a>, &lt;a class="link" href="https://github.com/bfmatei" target="_blank" rel="noopener"
>@bfmatei&lt;/a>&lt;/li>
&lt;li>&lt;strong>Dashboard:&lt;/strong> Fix the unintentional time range and variables updates on saving &lt;a class="link" href="https://github.com/grafana/grafana/pull/101475" target="_blank" rel="noopener"
>#101475&lt;/a>, &lt;a class="link" href="https://github.com/harisrozajac" target="_blank" rel="noopener"
>@harisrozajac&lt;/a>&lt;/li>
&lt;li>&lt;strong>Dashboard:&lt;/strong> Playlist - Fix issue with back button &lt;a class="link" href="https://github.com/grafana/grafana/pull/99401" target="_blank" rel="noopener"
>#99401&lt;/a>, &lt;a class="link" href="https://github.com/yincongcyincong" target="_blank" rel="noopener"
>@yincongcyincong&lt;/a>&lt;/li>
&lt;li>&lt;strong>DashboardList:&lt;/strong> Throttle the re-renders &lt;a class="link" href="https://github.com/grafana/grafana/pull/99982" target="_blank" rel="noopener"
>#99982&lt;/a>, &lt;a class="link" href="https://github.com/bfmatei" target="_blank" rel="noopener"
>@bfmatei&lt;/a>&lt;/li>
&lt;li>&lt;strong>Dashboards:&lt;/strong> Bring back scripted dashboards &lt;a class="link" href="https://github.com/grafana/grafana/pull/100575" target="_blank" rel="noopener"
>#100575&lt;/a>, &lt;a class="link" href="https://github.com/dprokop" target="_blank" rel="noopener"
>@dprokop&lt;/a>&lt;/li>
&lt;li>&lt;strong>Dashboards:&lt;/strong> Fix missing &lt;code>v/e/i&lt;/code> keybindings to return back to dashboard &lt;a class="link" href="https://github.com/grafana/grafana/pull/102364" target="_blank" rel="noopener"
>#102364&lt;/a>, &lt;a class="link" href="https://github.com/mdvictor" target="_blank" rel="noopener"
>@mdvictor&lt;/a>&lt;/li>
&lt;li>&lt;strong>Explore:&lt;/strong> Fix resizing split view with Loki query editor &lt;a class="link" href="https://github.com/grafana/grafana/pull/100257" target="_blank" rel="noopener"
>#100257&lt;/a>, &lt;a class="link" href="https://github.com/ifrost" target="_blank" rel="noopener"
>@ifrost&lt;/a>&lt;/li>
&lt;li>&lt;strong>ExploreMetrics:&lt;/strong> Fix escaping of regex metacharacters in label filters &lt;a class="link" href="https://github.com/grafana/grafana/pull/100513" target="_blank" rel="noopener"
>#100513&lt;/a>, &lt;a class="link" href="https://github.com/NWRichmond" target="_blank" rel="noopener"
>@NWRichmond&lt;/a>&lt;/li>
&lt;li>&lt;strong>Fix:&lt;/strong> Optimise frontend Postgresql plugin cache busting &lt;a class="link" href="https://github.com/grafana/grafana/pull/100406" target="_blank" rel="noopener"
>#100406&lt;/a>, &lt;a class="link" href="https://github.com/jackw" target="_blank" rel="noopener"
>@jackw&lt;/a>&lt;/li>
&lt;li>&lt;strong>InfluxDB:&lt;/strong> Improve handling of template variables contained in regular expressions (InfluxQL) &lt;a class="link" href="https://github.com/grafana/grafana/pull/100762" target="_blank" rel="noopener"
>#100762&lt;/a>, &lt;a class="link" href="https://github.com/aangelisc" target="_blank" rel="noopener"
>@aangelisc&lt;/a>&lt;/li>
&lt;li>&lt;strong>Interval variable:&lt;/strong> Fix $__auto value behavior &lt;a class="link" href="https://github.com/grafana/grafana/pull/100479" target="_blank" rel="noopener"
>#100479&lt;/a>, &lt;a class="link" href="https://github.com/yincongcyincong" target="_blank" rel="noopener"
>@yincongcyincong&lt;/a>&lt;/li>
&lt;li>&lt;strong>Log Context:&lt;/strong> Fix bug where variables are not replaced in dashboards &lt;a class="link" href="https://github.com/grafana/grafana/pull/100433" target="_blank" rel="noopener"
>#100433&lt;/a>, &lt;a class="link" href="https://github.com/svennergr" target="_blank" rel="noopener"
>@svennergr&lt;/a>&lt;/li>
&lt;li>&lt;strong>OpenTSDB:&lt;/strong> Support v2.4 &lt;a class="link" href="https://github.com/grafana/grafana/pull/100673" target="_blank" rel="noopener"
>#100673&lt;/a>, &lt;a class="link" href="https://github.com/aangelisc" target="_blank" rel="noopener"
>@aangelisc&lt;/a>&lt;/li>
&lt;li>&lt;strong>PDF:&lt;/strong> Fix repeating panels when there are less items than maxPerRow (Enterprise)&lt;/li>
&lt;li>&lt;strong>Plugin Metrics:&lt;/strong> Eliminate data race in plugin metrics middleware &lt;a class="link" href="https://github.com/grafana/grafana/pull/99396" target="_blank" rel="noopener"
>#99396&lt;/a>, &lt;a class="link" href="https://github.com/clord" target="_blank" rel="noopener"
>@clord&lt;/a>&lt;/li>
&lt;li>&lt;strong>Plugins:&lt;/strong> Fix update button behavior on downgrade &lt;a class="link" href="https://github.com/grafana/grafana/pull/101048" target="_blank" rel="noopener"
>#101048&lt;/a>, &lt;a class="link" href="https://github.com/oshirohugo" target="_blank" rel="noopener"
>@oshirohugo&lt;/a>&lt;/li>
&lt;li>&lt;strong>Plugins:&lt;/strong> Fix version tab breaking for non semantic version &lt;a class="link" href="https://github.com/grafana/grafana/pull/101225" target="_blank" rel="noopener"
>#101225&lt;/a>, &lt;a class="link" href="https://github.com/oshirohugo" target="_blank" rel="noopener"
>@oshirohugo&lt;/a>&lt;/li>
&lt;li>&lt;strong>PromLib:&lt;/strong> Take AdHoc filters into account when requesting suggestions without label &lt;a class="link" href="https://github.com/grafana/grafana/pull/101555" target="_blank" rel="noopener"
>#101555&lt;/a>, &lt;a class="link" href="https://github.com/tskarhed" target="_blank" rel="noopener"
>@tskarhed&lt;/a>&lt;/li>
&lt;li>&lt;strong>Prometheus:&lt;/strong> Fix cursor jump in prometheus code editor &lt;a class="link" href="https://github.com/grafana/grafana/pull/100273" target="_blank" rel="noopener"
>#100273&lt;/a>, &lt;a class="link" href="https://github.com/itsmylife" target="_blank" rel="noopener"
>@itsmylife&lt;/a>&lt;/li>
&lt;li>&lt;strong>Prometheus:&lt;/strong> Fix operator handling when making label expressions utf-8 friendly &lt;a class="link" href="https://github.com/grafana/grafana/pull/100475" target="_blank" rel="noopener"
>#100475&lt;/a>, &lt;a class="link" href="https://github.com/NWRichmond" target="_blank" rel="noopener"
>@NWRichmond&lt;/a>&lt;/li>
&lt;li>&lt;strong>Prometheus:&lt;/strong> Fix setting utcOffset when absolute time range is used &lt;a class="link" href="https://github.com/grafana/grafana/pull/101065" target="_blank" rel="noopener"
>#101065&lt;/a>, &lt;a class="link" href="https://github.com/itsmylife" target="_blank" rel="noopener"
>@itsmylife&lt;/a>&lt;/li>
&lt;li>&lt;strong>RBAC:&lt;/strong> Don&amp;rsquo;t check folder access if &lt;code>annotationPermissionUpdate&lt;/code> FT is enabled &lt;a class="link" href="https://github.com/grafana/grafana/pull/99717" target="_blank" rel="noopener"
>#99717&lt;/a>, &lt;a class="link" href="https://github.com/IevaVasiljeva" target="_blank" rel="noopener"
>@IevaVasiljeva&lt;/a>&lt;/li>
&lt;li>&lt;strong>SSO:&lt;/strong> Fix team_ids validation for Generic OAuth &lt;a class="link" href="https://github.com/grafana/grafana/pull/100732" target="_blank" rel="noopener"
>#100732&lt;/a>, &lt;a class="link" href="https://github.com/dmihai" target="_blank" rel="noopener"
>@dmihai&lt;/a>&lt;/li>
&lt;li>&lt;strong>Service Accounts:&lt;/strong> Don&amp;rsquo;t show error pop-ups for Service Account and Renderer UI flows &lt;a class="link" href="https://github.com/grafana/grafana/pull/101776" target="_blank" rel="noopener"
>#101776&lt;/a>, &lt;a class="link" href="https://github.com/IevaVasiljeva" target="_blank" rel="noopener"
>@IevaVasiljeva&lt;/a>&lt;/li>
&lt;li>&lt;strong>Share:&lt;/strong> Fix short links when root_url is different from the browser URL &lt;a class="link" href="https://github.com/grafana/grafana/pull/99950" target="_blank" rel="noopener"
>#99950&lt;/a>, &lt;a class="link" href="https://github.com/AgnesToulet" target="_blank" rel="noopener"
>@AgnesToulet&lt;/a>&lt;/li>
&lt;/ul>
&lt;h4 id="breaking-changes">Breaking changes
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Data source:&lt;/strong> Change Permissions for query to only have query and not &lt;code>read OR query&lt;/code> (Enterprise)&lt;/li>
&lt;/ul>
&lt;h4 id="plugin-development-fixes--changes">Plugin development fixes &amp;amp; changes
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>GrafanaUI:&lt;/strong> Deprecate Select in favor of Combobox &lt;a class="link" href="https://github.com/grafana/grafana/pull/100294" target="_blank" rel="noopener"
>#100294&lt;/a>, &lt;a class="link" href="https://github.com/joshhunt" target="_blank" rel="noopener"
>@joshhunt&lt;/a>&lt;/li>
&lt;li>&lt;strong>Multi/Combobox:&lt;/strong> Use pointer cursor when not focused &lt;a class="link" href="https://github.com/grafana/grafana/pull/100878" target="_blank" rel="noopener"
>#100878&lt;/a>, &lt;a class="link" href="https://github.com/tskarhed" target="_blank" rel="noopener"
>@tskarhed&lt;/a>&lt;/li>
&lt;li>&lt;strong>Slider:&lt;/strong> Fix text input box being too wide &lt;a class="link" href="https://github.com/grafana/grafana/pull/100138" target="_blank" rel="noopener"
>#100138&lt;/a>, &lt;a class="link" href="https://github.com/joshhunt" target="_blank" rel="noopener"
>@joshhunt&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="grafana---1153208235374">Grafana - 11.5.3(208235374)
&lt;/h2>&lt;p>created: 2025-03-21T15:32:32Z&lt;/p>
&lt;p>&lt;a class="link" href="https://grafana.com/grafana/download/11.5.3" target="_blank" rel="noopener"
>Download page&lt;/a>
&lt;a class="link" href="https://grafana.com/docs/grafana/latest/whatsnew/" target="_blank" rel="noopener"
>What&amp;rsquo;s new highlights&lt;/a>&lt;/p>
&lt;h4 id="features-and-enhancements-1">Features and enhancements
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Chore:&lt;/strong> Bump Go to 1.23.7 &lt;a class="link" href="https://github.com/grafana/grafana/pull/101581" target="_blank" rel="noopener"
>#101581&lt;/a>, &lt;a class="link" href="https://github.com/macabu" target="_blank" rel="noopener"
>@macabu&lt;/a>&lt;/li>
&lt;li>&lt;strong>Chore:&lt;/strong> Bump Go to 1.23.7 (Enterprise)&lt;/li>
&lt;/ul>
&lt;h4 id="bug-fixes-1">Bug fixes
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Alerting:&lt;/strong> Fix token-based Slack image upload to work with channel names &lt;a class="link" href="https://github.com/grafana/grafana/pull/101078" target="_blank" rel="noopener"
>#101078&lt;/a>, &lt;a class="link" href="https://github.com/JacobsonMT" target="_blank" rel="noopener"
>@JacobsonMT&lt;/a>&lt;/li>
&lt;li>&lt;strong>Auth:&lt;/strong> Fix AzureAD config UI&amp;rsquo;s ClientAuthentication dropdown &lt;a class="link" href="https://github.com/grafana/grafana/pull/100869" target="_blank" rel="noopener"
>#100869&lt;/a>, &lt;a class="link" href="https://github.com/mgyongyosi" target="_blank" rel="noopener"
>@mgyongyosi&lt;/a>&lt;/li>
&lt;li>&lt;strong>Dashboard:&lt;/strong> Fix the unintentional time range and variables updates on saving &lt;a class="link" href="https://github.com/grafana/grafana/pull/101671" target="_blank" rel="noopener"
>#101671&lt;/a>, &lt;a class="link" href="https://github.com/harisrozajac" target="_blank" rel="noopener"
>@harisrozajac&lt;/a>&lt;/li>
&lt;li>&lt;strong>Dashboards:&lt;/strong> Fix missing &lt;code>v/e/i&lt;/code> keybindings to return back to dashboard &lt;a class="link" href="https://github.com/grafana/grafana/pull/102365" target="_blank" rel="noopener"
>#102365&lt;/a>, &lt;a class="link" href="https://github.com/mdvictor" target="_blank" rel="noopener"
>@mdvictor&lt;/a>&lt;/li>
&lt;li>&lt;strong>InfluxDB:&lt;/strong> Improve handling of template variables contained in regular expressions (InfluxQL) &lt;a class="link" href="https://github.com/grafana/grafana/pull/100977" target="_blank" rel="noopener"
>#100977&lt;/a>, &lt;a class="link" href="https://github.com/aangelisc" target="_blank" rel="noopener"
>@aangelisc&lt;/a>&lt;/li>
&lt;li>&lt;strong>Org redirection:&lt;/strong> Fix linking between orgs &lt;a class="link" href="https://github.com/grafana/grafana/pull/102089" target="_blank" rel="noopener"
>#102089&lt;/a>, &lt;a class="link" href="https://github.com/ashharrison90" target="_blank" rel="noopener"
>@ashharrison90&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="grafana---1135208235369">Grafana - 11.3.5(208235369)
&lt;/h2>&lt;p>created: 2025-03-21T14:05:52Z&lt;/p>
&lt;p>&lt;a class="link" href="https://grafana.com/grafana/download/11.3.5" target="_blank" rel="noopener"
>Download page&lt;/a>
&lt;a class="link" href="https://grafana.com/docs/grafana/latest/whatsnew/" target="_blank" rel="noopener"
>What&amp;rsquo;s new highlights&lt;/a>&lt;/p>
&lt;h4 id="features-and-enhancements-2">Features and enhancements
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Chore:&lt;/strong> Bump Go to 1.23.7 &lt;a class="link" href="https://github.com/grafana/grafana/pull/101583" target="_blank" rel="noopener"
>#101583&lt;/a>, &lt;a class="link" href="https://github.com/macabu" target="_blank" rel="noopener"
>@macabu&lt;/a>&lt;/li>
&lt;li>&lt;strong>Chore:&lt;/strong> Bump Go to 1.23.7 (Enterprise)&lt;/li>
&lt;/ul>
&lt;h4 id="bug-fixes-2">Bug fixes
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Alerting:&lt;/strong> Fix token-based Slack image upload to work with channel names &lt;a class="link" href="https://github.com/grafana/grafana/pull/101488" target="_blank" rel="noopener"
>#101488&lt;/a>, &lt;a class="link" href="https://github.com/moustafab" target="_blank" rel="noopener"
>@moustafab&lt;/a>&lt;/li>
&lt;li>&lt;strong>Service Accounts:&lt;/strong> Do not show error pop-ups for Service Account and Renderer UI flows &lt;a class="link" href="https://github.com/grafana/grafana/pull/101791" target="_blank" rel="noopener"
>#101791&lt;/a>, &lt;a class="link" href="https://github.com/IevaVasiljeva" target="_blank" rel="noopener"
>@IevaVasiljeva&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="grafana---1143208235359">Grafana - 11.4.3(208235359)
&lt;/h2>&lt;p>created: 2025-03-21T17:23:30Z&lt;/p>
&lt;p>&lt;a class="link" href="https://grafana.com/grafana/download/11.4.3" target="_blank" rel="noopener"
>Download page&lt;/a>
&lt;a class="link" href="https://grafana.com/docs/grafana/latest/whatsnew/" target="_blank" rel="noopener"
>What&amp;rsquo;s new highlights&lt;/a>&lt;/p>
&lt;h4 id="features-and-enhancements-3">Features and enhancements
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Chore:&lt;/strong> Bump Go to 1.23.7 &lt;a class="link" href="https://github.com/grafana/grafana/pull/101582" target="_blank" rel="noopener"
>#101582&lt;/a>, &lt;a class="link" href="https://github.com/macabu" target="_blank" rel="noopener"
>@macabu&lt;/a>&lt;/li>
&lt;li>&lt;strong>Chore:&lt;/strong> Bump Go to 1.23.7 (Enterprise)&lt;/li>
&lt;/ul>
&lt;h4 id="bug-fixes-3">Bug fixes
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Alerting:&lt;/strong> Fix token-based Slack image upload to work with channel names &lt;a class="link" href="https://github.com/grafana/grafana/pull/101072" target="_blank" rel="noopener"
>#101072&lt;/a>, &lt;a class="link" href="https://github.com/JacobsonMT" target="_blank" rel="noopener"
>@JacobsonMT&lt;/a>&lt;/li>
&lt;li>&lt;strong>InfluxDB:&lt;/strong> Improve handling of template variables contained in regular expressions (InfluxQL) &lt;a class="link" href="https://github.com/grafana/grafana/pull/100987" target="_blank" rel="noopener"
>#100987&lt;/a>, &lt;a class="link" href="https://github.com/aangelisc" target="_blank" rel="noopener"
>@aangelisc&lt;/a>&lt;/li>
&lt;li>&lt;strong>Service Accounts:&lt;/strong> Do not show error pop-ups for Service Account and Renderer UI flows &lt;a class="link" href="https://github.com/grafana/grafana/pull/101790" target="_blank" rel="noopener"
>#101790&lt;/a>, &lt;a class="link" href="https://github.com/IevaVasiljeva" target="_blank" rel="noopener"
>@IevaVasiljeva&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="grafana---1128208235277">Grafana - 11.2.8(208235277)
&lt;/h2>&lt;p>created: 2025-03-21T14:02:12Z&lt;/p>
&lt;p>&lt;a class="link" href="https://grafana.com/grafana/download/11.2.8" target="_blank" rel="noopener"
>Download page&lt;/a>
&lt;a class="link" href="https://grafana.com/docs/grafana/latest/whatsnew/" target="_blank" rel="noopener"
>What&amp;rsquo;s new highlights&lt;/a>&lt;/p>
&lt;h4 id="features-and-enhancements-4">Features and enhancements
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Chore:&lt;/strong> Bump Go version to 1.23.7 &lt;a class="link" href="https://github.com/grafana/grafana/pull/101294" target="_blank" rel="noopener"
>#101294&lt;/a>, &lt;a class="link" href="https://github.com/macabu" target="_blank" rel="noopener"
>@macabu&lt;/a>&lt;/li>
&lt;li>&lt;strong>Chore:&lt;/strong> Bump Go version to 1.23.7 (Enterprise)&lt;/li>
&lt;/ul>
&lt;h4 id="bug-fixes-4">Bug fixes
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Alerting:&lt;/strong> Update slack image upload to use new API &lt;a class="link" href="https://github.com/grafana/grafana/pull/101487" target="_blank" rel="noopener"
>#101487&lt;/a>, &lt;a class="link" href="https://github.com/moustafab" target="_blank" rel="noopener"
>@moustafab&lt;/a>&lt;/li>
&lt;li>&lt;strong>CloudMigrations:&lt;/strong> Fix OrderBy clause in GetSnapshotList sql handler &lt;a class="link" href="https://github.com/grafana/grafana/pull/102351" target="_blank" rel="noopener"
>#102351&lt;/a>, &lt;a class="link" href="https://github.com/mmandrus" target="_blank" rel="noopener"
>@mmandrus&lt;/a>&lt;/li>
&lt;li>&lt;strong>Service Accounts:&lt;/strong> Do not show error pop-ups for Service Account and Renderer UI flows &lt;a class="link" href="https://github.com/grafana/grafana/pull/101795" target="_blank" rel="noopener"
>#101795&lt;/a>, &lt;a class="link" href="https://github.com/IevaVasiljeva" target="_blank" rel="noopener"
>@IevaVasiljeva&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="grafana---11113208234433">Grafana - 11.1.13(208234433)
&lt;/h2>&lt;p>created: 2025-03-21T13:55:02Z&lt;/p>
&lt;p>&lt;a class="link" href="https://grafana.com/grafana/download/11.1.13" target="_blank" rel="noopener"
>Download page&lt;/a>
&lt;a class="link" href="https://grafana.com/docs/grafana/latest/whatsnew/" target="_blank" rel="noopener"
>What&amp;rsquo;s new highlights&lt;/a>&lt;/p>
&lt;h4 id="features-and-enhancements-5">Features and enhancements
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Chore:&lt;/strong> Bump Go version to 1.23.7 &lt;a class="link" href="https://github.com/grafana/grafana/pull/101562" target="_blank" rel="noopener"
>#101562&lt;/a>, &lt;a class="link" href="https://github.com/macabu" target="_blank" rel="noopener"
>@macabu&lt;/a>&lt;/li>
&lt;li>&lt;strong>Chore:&lt;/strong> Bump Go version to 1.23.7 (Enterprise)&lt;/li>
&lt;/ul>
&lt;h4 id="bug-fixes-5">Bug fixes
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Alerting:&lt;/strong> Update slack image upload to use new API &lt;a class="link" href="https://github.com/grafana/grafana/pull/101485" target="_blank" rel="noopener"
>#101485&lt;/a>, &lt;a class="link" href="https://github.com/moustafab" target="_blank" rel="noopener"
>@moustafab&lt;/a>&lt;/li>
&lt;li>&lt;strong>Service Accounts:&lt;/strong> Do not show error pop-ups for Service Account and Renderer UI flows &lt;a class="link" href="https://github.com/grafana/grafana/pull/101796" target="_blank" rel="noopener"
>#101796&lt;/a>, &lt;a class="link" href="https://github.com/IevaVasiljeva" target="_blank" rel="noopener"
>@IevaVasiljeva&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="grafana---10417208233921">Grafana - 10.4.17(208233921)
&lt;/h2>&lt;p>created: 2025-03-21T10:24:42Z&lt;/p>
&lt;p>&lt;a class="link" href="https://grafana.com/grafana/download/10.4.17" target="_blank" rel="noopener"
>Download page&lt;/a>
&lt;a class="link" href="https://grafana.com/docs/grafana/latest/whatsnew/" target="_blank" rel="noopener"
>What&amp;rsquo;s new highlights&lt;/a>&lt;/p>
&lt;h4 id="features-and-enhancements-6">Features and enhancements
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Chore:&lt;/strong> Bump Go version to 1.23.7 &lt;a class="link" href="https://github.com/grafana/grafana/pull/101565" target="_blank" rel="noopener"
>#101565&lt;/a>, &lt;a class="link" href="https://github.com/macabu" target="_blank" rel="noopener"
>@macabu&lt;/a>&lt;/li>
&lt;li>&lt;strong>Chore:&lt;/strong> Bump Go version to 1.23.7 (Enterprise)&lt;/li>
&lt;/ul>
&lt;h4 id="bug-fixes-6">Bug fixes
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Alerting:&lt;/strong> Update slack image upload to use new API &lt;a class="link" href="https://github.com/grafana/grafana/pull/101483" target="_blank" rel="noopener"
>#101483&lt;/a>, &lt;a class="link" href="https://github.com/moustafab" target="_blank" rel="noopener"
>@moustafab&lt;/a>&lt;/li>
&lt;li>&lt;strong>Service Accounts:&lt;/strong> Do not show error pop-ups for Service Account and Renderer UI flows &lt;a class="link" href="https://github.com/grafana/grafana/pull/101804" target="_blank" rel="noopener"
>#101804&lt;/a>, &lt;a class="link" href="https://github.com/IevaVasiljeva" target="_blank" rel="noopener"
>@IevaVasiljeva&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="grafana---1152201045371">Grafana - 11.5.2(201045371)
&lt;/h2>&lt;p>created: 2025-02-14T19:13:17Z&lt;/p>
&lt;p>&lt;a class="link" href="https://grafana.com/grafana/download/11.5.2" target="_blank" rel="noopener"
>Download page&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://grafana.com/docs/grafana/latest/whatsnew/" target="_blank" rel="noopener"
>What&amp;rsquo;s new highlights&lt;/a>&lt;/p>
&lt;h4 id="features-and-enhancements-7">Features and enhancements
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>&lt;strong>Docker:&lt;/strong> Use our own glibc 2.40 binaries &lt;a class="link" href="https://github.com/grafana/grafana/pull/99918" target="_blank" rel="noopener"
>#99918&lt;/a>, &lt;a class="link" href="https://github.com/DanCech" target="_blank" rel="noopener"
>@DanCech&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>TransformationFilter:&lt;/strong> Include transformation outputs in transformation filtering options &lt;a class="link" href="https://github.com/grafana/grafana/pull/99878" target="_blank" rel="noopener"
>#99878&lt;/a>, &lt;a class="link" href="https://github.com/Sergej-Vlasov" target="_blank" rel="noopener"
>@Sergej-Vlasov&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>grafana-ui:&lt;/strong> Update InlineField error prop type to React.ReactNode &lt;a class="link" href="https://github.com/grafana/grafana/pull/100373" target="_blank" rel="noopener"
>#100373&lt;/a>, &lt;a class="link" href="https://github.com/Clarity-89" target="_blank" rel="noopener"
>@Clarity-89&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="bug-fixes-7">Bug fixes
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>&lt;strong>Alerting:&lt;/strong> Allow specifying uid for new rules added to groups &lt;a class="link" href="https://github.com/grafana/grafana/pull/100450" target="_blank" rel="noopener"
>#100450&lt;/a>, &lt;a class="link" href="https://github.com/yuri-tceretian" target="_blank" rel="noopener"
>@yuri-tceretian&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Alerting:&lt;/strong> Allow specifying uid for new rules added to groups &lt;a class="link" href="https://github.com/grafana/grafana/pull/100450" target="_blank" rel="noopener"
>#100450&lt;/a>, &lt;a class="link" href="https://github.com/yuri-tceretian" target="_blank" rel="noopener"
>@yuri-tceretian&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Alerting:&lt;/strong> Call RLock() before reading sendAlertsTo map &lt;a class="link" href="https://github.com/grafana/grafana/pull/99880" target="_blank" rel="noopener"
>#99880&lt;/a>, &lt;a class="link" href="https://github.com/santihernandezc" target="_blank" rel="noopener"
>@santihernandezc&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Auth:&lt;/strong> Fix redirect with JWT auth URL login &lt;a class="link" href="https://github.com/grafana/grafana/pull/100355" target="_blank" rel="noopener"
>#100355&lt;/a>, &lt;a class="link" href="https://github.com/mgyongyosi" target="_blank" rel="noopener"
>@mgyongyosi&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>AuthN:&lt;/strong> Refetch user on &amp;ldquo;ErrUserAlreadyExists&amp;rdquo; &lt;a class="link" href="https://github.com/grafana/grafana/pull/100582" target="_blank" rel="noopener"
>#100582&lt;/a>, &lt;a class="link" href="https://github.com/kalleep" target="_blank" rel="noopener"
>@kalleep&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Azure:&lt;/strong> Correctly set application insights resource values &lt;a class="link" href="https://github.com/grafana/grafana/pull/99599" target="_blank" rel="noopener"
>#99599&lt;/a>, &lt;a class="link" href="https://github.com/aangelisc" target="_blank" rel="noopener"
>@aangelisc&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>CodeEditor:&lt;/strong> Fix cursor alignment &lt;a class="link" href="https://github.com/grafana/grafana/pull/99863" target="_blank" rel="noopener"
>#99863&lt;/a>, &lt;a class="link" href="https://github.com/ashharrison90" target="_blank" rel="noopener"
>@ashharrison90&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>DashboardList:&lt;/strong> Throttle the re-renders &lt;a class="link" href="https://github.com/grafana/grafana/pull/100046" target="_blank" rel="noopener"
>#100046&lt;/a>, &lt;a class="link" href="https://github.com/bfmatei" target="_blank" rel="noopener"
>@bfmatei&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Dashboards:&lt;/strong> Bring back scripted dashboards &lt;a class="link" href="https://github.com/grafana/grafana/pull/100633" target="_blank" rel="noopener"
>#100633&lt;/a>, &lt;a class="link" href="https://github.com/dprokop" target="_blank" rel="noopener"
>@dprokop&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Plugin Metrics:&lt;/strong> Eliminate data race in plugin metrics middleware &lt;a class="link" href="https://github.com/grafana/grafana/pull/100078" target="_blank" rel="noopener"
>#100078&lt;/a>, &lt;a class="link" href="https://github.com/clord" target="_blank" rel="noopener"
>@clord&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>RBAC:&lt;/strong> Don&amp;rsquo;t check folder access if &lt;code>annotationPermissionUpdate&lt;/code> FT is enabled &lt;a class="link" href="https://github.com/grafana/grafana/pull/100117" target="_blank" rel="noopener"
>#100117&lt;/a>, &lt;a class="link" href="https://github.com/IevaVasiljeva" target="_blank" rel="noopener"
>@IevaVasiljeva&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="grafana---1142201045347">Grafana - 11.4.2(201045347)
&lt;/h2>&lt;p>created: 2025-02-14T16:02:58Z&lt;/p>
&lt;p>&lt;a class="link" href="https://grafana.com/grafana/download/11.4.2" target="_blank" rel="noopener"
>Download page&lt;/a>
&lt;a class="link" href="https://grafana.com/docs/grafana/latest/whatsnew/" target="_blank" rel="noopener"
>What&amp;rsquo;s new highlights&lt;/a>&lt;/p>
&lt;h4 id="features-and-enhancements-8">Features and enhancements
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Docker:&lt;/strong> Use our own glibc 2.40 binaries &lt;a class="link" href="https://github.com/grafana/grafana/pull/99924" target="_blank" rel="noopener"
>#99924&lt;/a>, &lt;a class="link" href="https://github.com/DanCech" target="_blank" rel="noopener"
>@DanCech&lt;/a>&lt;/li>
&lt;/ul>
&lt;h4 id="bug-fixes-8">Bug fixes
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Auth:&lt;/strong> Fix redirect with JWT auth URL login &lt;a class="link" href="https://github.com/grafana/grafana/pull/100494" target="_blank" rel="noopener"
>#100494&lt;/a>, &lt;a class="link" href="https://github.com/mgyongyosi" target="_blank" rel="noopener"
>@mgyongyosi&lt;/a>&lt;/li>
&lt;li>&lt;strong>AuthN:&lt;/strong> Refetch user on &amp;ldquo;ErrUserAlreadyExists&amp;rdquo; &lt;a class="link" href="https://github.com/grafana/grafana/pull/100585" target="_blank" rel="noopener"
>#100585&lt;/a>, &lt;a class="link" href="https://github.com/kalleep" target="_blank" rel="noopener"
>@kalleep&lt;/a>&lt;/li>
&lt;li>&lt;strong>Azure:&lt;/strong> Correctly set application insights resource values &lt;a class="link" href="https://github.com/grafana/grafana/pull/99598" target="_blank" rel="noopener"
>#99598&lt;/a>, &lt;a class="link" href="https://github.com/aangelisc" target="_blank" rel="noopener"
>@aangelisc&lt;/a>&lt;/li>
&lt;li>&lt;strong>Dashboards:&lt;/strong> Bring back scripted dashboards &lt;a class="link" href="https://github.com/grafana/grafana/pull/100629" target="_blank" rel="noopener"
>#100629&lt;/a>, &lt;a class="link" href="https://github.com/dprokop" target="_blank" rel="noopener"
>@dprokop&lt;/a>&lt;/li>
&lt;li>&lt;strong>Plugin Metrics:&lt;/strong> Eliminate data race in plugin metrics middleware &lt;a class="link" href="https://github.com/grafana/grafana/pull/100077" target="_blank" rel="noopener"
>#100077&lt;/a>, &lt;a class="link" href="https://github.com/clord" target="_blank" rel="noopener"
>@clord&lt;/a>&lt;/li>
&lt;li>&lt;strong>RBAC:&lt;/strong> Don&amp;rsquo;t check folder access if &lt;code>annotationPermissionUpdate&lt;/code> FT is enabled &lt;a class="link" href="https://github.com/grafana/grafana/pull/100116" target="_blank" rel="noopener"
>#100116&lt;/a>, &lt;a class="link" href="https://github.com/IevaVasiljeva" target="_blank" rel="noopener"
>@IevaVasiljeva&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="grafana---1134201045327">Grafana - 11.3.4(201045327)
&lt;/h2>&lt;p>created: 2025-02-14T15:54:22Z&lt;/p>
&lt;p>&lt;a class="link" href="https://grafana.com/grafana/download/11.3.4" target="_blank" rel="noopener"
>Download page&lt;/a>
&lt;a class="link" href="https://grafana.com/docs/grafana/latest/whatsnew/" target="_blank" rel="noopener"
>What&amp;rsquo;s new highlights&lt;/a>&lt;/p>
&lt;h4 id="features-and-enhancements-9">Features and enhancements
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Docker:&lt;/strong> Use our own glibc 2.40 binaries &lt;a class="link" href="https://github.com/grafana/grafana/pull/99923" target="_blank" rel="noopener"
>#99923&lt;/a>, &lt;a class="link" href="https://github.com/DanCech" target="_blank" rel="noopener"
>@DanCech&lt;/a>&lt;/li>
&lt;/ul>
&lt;h4 id="bug-fixes-9">Bug fixes
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Auth:&lt;/strong> Fix redirect with JWT auth URL login &lt;a class="link" href="https://github.com/grafana/grafana/pull/100495" target="_blank" rel="noopener"
>#100495&lt;/a>, &lt;a class="link" href="https://github.com/mgyongyosi" target="_blank" rel="noopener"
>@mgyongyosi&lt;/a>&lt;/li>
&lt;li>&lt;strong>Azure:&lt;/strong> Correctly set application insights resource values &lt;a class="link" href="https://github.com/grafana/grafana/pull/99597" target="_blank" rel="noopener"
>#99597&lt;/a>, &lt;a class="link" href="https://github.com/aangelisc" target="_blank" rel="noopener"
>@aangelisc&lt;/a>&lt;/li>
&lt;li>&lt;strong>Dashboards:&lt;/strong> Bring back scripted dashboards &lt;a class="link" href="https://github.com/grafana/grafana/pull/100627" target="_blank" rel="noopener"
>#100627&lt;/a>, &lt;a class="link" href="https://github.com/dprokop" target="_blank" rel="noopener"
>@dprokop&lt;/a>&lt;/li>
&lt;li>&lt;strong>Plugin Metrics:&lt;/strong> Eliminate data race in plugin metrics middleware &lt;a class="link" href="https://github.com/grafana/grafana/pull/100076" target="_blank" rel="noopener"
>#100076&lt;/a>, &lt;a class="link" href="https://github.com/clord" target="_blank" rel="noopener"
>@clord&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;blockquote>
&lt;p>完整清单，请访问官方列表: &lt;a class="link" href="https://github.com/grafana/grafana/releases" target="_blank" rel="noopener"
> Grafana 发布清单&lt;/a>&lt;/p>&lt;/blockquote></description></item><item><title>Jenkins 发布历史 (latest 10)</title><link>https://chengxiaqiucao.github.io/page/jenkins-10/</link><pubDate>Tue, 15 Apr 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/page/jenkins-10/</guid><description>&lt;h1 id="jenkins-发布历史-latest-10">Jenkins 发布历史 (latest 10)
&lt;/h1>&lt;hr>
&lt;h2 id="jenkins---2505209887054">Jenkins - 2.505(209887054)
&lt;/h2>&lt;p>created: 2025-04-08T13:59:15Z&lt;/p>
&lt;p>_This is an automatically generated changelog draft for Jenkins weekly releases.&lt;/p>
&lt;p>See &lt;a class="link" href="https://www.jenkins.io/changelog/2.493/" target="_blank" rel="noopener"
>https://www.jenkins.io/changelog/2.493/&lt;/a> for the official changelog for this release._&lt;/p>
&lt;h3 id="-removed">🚨 Removed
&lt;/h3>&lt;ul>
&lt;li>&lt;a class="link" href="https://issues.jenkins.io/browse/JENKINS-75370" target="_blank" rel="noopener"
>JENKINS-75370&lt;/a> - Deprecate &lt;code>hudson.util.Scrambler&lt;/code> (#10377) @daniel-beck&lt;/li>
&lt;/ul>
&lt;h3 id="-new-features-and-improvements">🚀 New features and improvements
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Refresh user api token ui with cards and dialogs (#10484) @mawinter69&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://issues.jenkins.io/browse/JENKINS-75370" target="_blank" rel="noopener"
>JENKINS-75370&lt;/a> - Deprecate &lt;code>hudson.util.Scrambler&lt;/code> (#10377) @daniel-beck&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add telemetry for &lt;code>/extensionList/&lt;/code> URL (#10423) @daniel-beck&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add &amp;lsquo;No plugins&amp;rsquo; notice to Appearance configuration page (#10478) @janfaracik&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Use dropdown for the default view of a user (#10482) @mawinter69&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Improve UI of secret and password entry (#10489) @janfaracik&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Remove &amp;rsquo;theme-color&amp;rsquo; property (#10481) @janfaracik&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Standardise widths of Manage Jenkins pages (#10479) @janfaracik&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-bug-fixes">🐛 Bug fixes
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://issues.jenkins.io/browse/JENKINS-33704" target="_blank" rel="noopener"
>JENKINS-33704&lt;/a> - Limit scope of &lt;code>Jenkins#updateComputerList&lt;/code> to improve performance at scale (#10494) @Vlatombe&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Only limit height of console widget (#10368) @PhilippHomann&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://issues.jenkins.io/browse/JENKINS-75320" target="_blank" rel="noopener"
>JENKINS-75320&lt;/a> - use the url for linking (#10308) @scherler&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://issues.jenkins.io/browse/JENKINS-75441" target="_blank" rel="noopener"
>JENKINS-75441&lt;/a> - Add value attribute to button element in submit.jelly (#10430) @Geo-Austin&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-changes-for-plugin-developers">👷 Changes for plugin developers
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://issues.jenkins.io/browse/JENKINS-75370" target="_blank" rel="noopener"
>JENKINS-75370&lt;/a> - Deprecate &lt;code>hudson.util.Scrambler&lt;/code> (#10377) @daniel-beck&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Deprecate &lt;code>AbstractDescribableImpl&lt;/code> (#10426) @Vlatombe&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>All contributors: @Geo-Austin, @Jay-oao, @MarkEWaite, @PhilippHomann, @StefanSpieker, @Vlatombe, @apuig, @basil, @daniel-beck, @gbhat618, @janfaracik, @jenkins-release-bot, @krisstern, @mawinter69, @renovate[bot], @scherler, @timja, &lt;a class="link" href="https://github.com/apps/github-actions" target="_blank" rel="noopener"
>github-actions[bot]&lt;/a> and &lt;a class="link" href="https://github.com/apps/renovate" target="_blank" rel="noopener"
>renovate[bot]&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="jenkins---2504209870695">Jenkins - 2.504(209870695)
&lt;/h2>&lt;p>created: 2025-03-31T13:10:14Z&lt;/p>
&lt;p>&lt;em>See &lt;a class="link" href="https://www.jenkins.io/changelog/2.504/" target="_blank" rel="noopener"
>https://www.jenkins.io/changelog/2.504/&lt;/a> for the official changelog for this release.&lt;/em>&lt;/p>
&lt;h3 id="--security">🔒 Security
&lt;/h3>&lt;p>Multiple security fixes. See the &lt;a class="link" href="https://www.jenkins.io/security/advisory/2025-04-02/" target="_blank" rel="noopener"
>2025-04-02 security advisory&lt;/a> for details.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="jenkins---24923209870690">Jenkins - 2.492.3(209870690)
&lt;/h2>&lt;p>created: 2025-03-31T13:14:18Z&lt;/p>
&lt;p>We&amp;rsquo;re excited to announce the release of Jenkins 2.492.3 🎉&lt;/p>
&lt;p>This release contains important security fixes: &lt;a class="link" href="https://www.jenkins.io/security/advisory/2025-04-02/" target="_blank" rel="noopener"
>https://www.jenkins.io/security/advisory/2025-04-02/&lt;/a> .&lt;/p>
&lt;h3 id="changelog-and-upgrade-guide">Changelog and upgrade guide
&lt;/h3>&lt;p>See the &lt;a class="link" href="https://www.jenkins.io/changelog-stable/2.492.3/" target="_blank" rel="noopener"
>changelog&lt;/a> and &lt;a class="link" href="https://www.jenkins.io/doc/upgrade-guide/2.492/#upgrading-to-jenkins-lts-2-492-3" target="_blank" rel="noopener"
>upgrade guide&lt;/a> to learn about breaking changes and other considerations when updating.&lt;/p>
&lt;h3 id="reporting-issues">Reporting issues
&lt;/h3>&lt;p>If you locate an issue with this release, please file an issue on &lt;a class="link" href="https://issues.jenkins.io/" target="_blank" rel="noopener"
>Jira&lt;/a>, otherwise use the &lt;a class="link" href="https://community.jenkins.io/" target="_blank" rel="noopener"
>forums&lt;/a> if you&amp;rsquo;re unsure whether you encounter an issue or not.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="jenkins---24923-rc207096764">Jenkins - 2.492.3-rc(207096764)
&lt;/h2>&lt;p>created: 2025-03-20T03:57:46Z&lt;/p>
&lt;p>Please report issues to the &lt;a class="link" href="https://groups.google.com/g/jenkinsci-dev/c/JNJY4Qd8adw/m/-XdBCN4eAwAJ" target="_blank" rel="noopener"
>backporting announcement thread&lt;/a>.&lt;/p>
&lt;p>Final release is scheduled for &lt;strong>April 2nd, 2025&lt;/strong>.&lt;/p>
&lt;p>Download the release from: &lt;a class="link" href="https://repo.jenkins-ci.org/incrementals/org/jenkins-ci/main/jenkins-war/2.492.3-rc35802.b_b_4a_1db_62911/jenkins-war-2.492.3-rc35802.b_b_4a_1db_62911.war" target="_blank" rel="noopener"
>Artifactory&lt;/a>.&lt;/p>
&lt;p>After the final release, the &lt;a class="link" href="https://www.jenkins.io/changelog-stable/#2.492.3" target="_blank" rel="noopener"
>official changelog&lt;/a> and &lt;a class="link" href="https://www.jenkins.io/doc/upgrade-guide/2.492/#upgrading-to-jenkins-lts-2-492-3" target="_blank" rel="noopener"
>official upgrade guide&lt;/a> will be available on &lt;a class="link" href="http://www.jenkins.io/download" target="_blank" rel="noopener"
>www.jenkins.io/download&lt;/a>.&lt;/p>
&lt;h3 id="whats-changed">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>Backporting for Jenkins 2.492.3 release candidate by @MarkEWaite in &lt;a class="link" href="https://github.com/jenkinsci/jenkins/pull/10417" target="_blank" rel="noopener"
>https://github.com/jenkinsci/jenkins/pull/10417&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/jenkinsci/jenkins/compare/jenkins-2.492.2...2.492.3-rc" target="_blank" rel="noopener"
>https://github.com/jenkinsci/jenkins/compare/jenkins-2.492.2...2.492.3-rc&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="jenkins---2503206590762">Jenkins - 2.503(206590762)
&lt;/h2>&lt;p>created: 2025-03-25T14:01:20Z&lt;/p>
&lt;p>_This is an automatically generated changelog draft for Jenkins weekly releases.&lt;/p>
&lt;p>See &lt;a class="link" href="https://www.jenkins.io/changelog/2.503/" target="_blank" rel="noopener"
>https://www.jenkins.io/changelog/2.503/&lt;/a> for the official changelog for this release._&lt;/p>
&lt;h3 id="-new-features-and-improvements-1">🚀 New features and improvements
&lt;/h3>&lt;ul>
&lt;li>&lt;a class="link" href="https://issues.jenkins.io/browse/JENKINS-75378" target="_blank" rel="noopener"
>JENKINS-75378&lt;/a> - Adding a CLI command listener (#10382) @apuig&lt;/li>
&lt;/ul>
&lt;h3 id="-bug-fixes-1">🐛 Bug fixes
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://issues.jenkins.io/browse/JENKINS-75464" target="_blank" rel="noopener"
>JENKINS-75464&lt;/a> - fix enable top button (#10431) @mawinter69&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Do not modify keyboard shortcut when User-Agent header is not set (#10413) @eva-mueller-coremedia&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-changes-for-plugin-developers-1">👷 Changes for plugin developers
&lt;/h3>&lt;ul>
&lt;li>Fix Jenkins#updateNode to call NodeListener#onUpdated (#10397) @Vlatombe&lt;/li>
&lt;/ul>
&lt;p>All contributors: @StefanSpieker, @Vlatombe, @apuig, @basil, @daniel-beck, @eva-mueller-coremedia, @gbhat618, @janfaracik, @jenkins-release-bot, @krisstern, @mawinter69, @renovate[bot], @timja and &lt;a class="link" href="https://github.com/apps/renovate" target="_blank" rel="noopener"
>renovate[bot]&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="jenkins---2502205593442">Jenkins - 2.502(205593442)
&lt;/h2>&lt;p>created: 2025-03-18T13:51:20Z&lt;/p>
&lt;p>_This is an automatically generated changelog draft for Jenkins weekly releases.&lt;/p>
&lt;p>See &lt;a class="link" href="https://www.jenkins.io/changelog/2.502/" target="_blank" rel="noopener"
>https://www.jenkins.io/changelog/2.502/&lt;/a> for the official changelog for this release._&lt;/p>
&lt;h3 id="-new-features-and-improvements-2">🚀 New features and improvements
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Add Cancel button to the &lt;code>Edit description&lt;/code> form (#10364) @mawinter69&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update interrupted build action summary icon to symbol-close-circle (#10365) @cronik&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-bug-fixes-2">🐛 Bug fixes
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://issues.jenkins.io/browse/JENKINS-75278" target="_blank" rel="noopener"
>JENKINS-75278&lt;/a> - User pages for users with &amp;lsquo;' in the user name fail after upgrading to 2.479.1 (#10344) @olamy&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://issues.jenkins.io/browse/JENKINS-72745" target="_blank" rel="noopener"
>JENKINS-72745&lt;/a> - &amp;ldquo;Manage Jenkins&amp;rdquo; nested context menu can stay open when parent menu closes (#10251) @ridemountainpig&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>All contributors: @basil, @cronik, @jenkins-release-bot, @krisstern, @mawinter69, @olamy, @renovate[bot], @ridemountainpig, &lt;a class="link" href="https://github.com/apps/github-actions" target="_blank" rel="noopener"
>github-actions[bot]&lt;/a> and &lt;a class="link" href="https://github.com/apps/renovate" target="_blank" rel="noopener"
>renovate[bot]&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="jenkins---2500203924137">Jenkins - 2.500(203924137)
&lt;/h2>&lt;p>created: 2025-03-04T10:34:35Z&lt;/p>
&lt;p>&lt;em>See &lt;a class="link" href="https://www.jenkins.io/changelog/2.500/" target="_blank" rel="noopener"
>https://www.jenkins.io/changelog/2.500/&lt;/a> for the official changelog for this release.&lt;/em>&lt;/p>
&lt;h3 id="--security-1">🔒 Security
&lt;/h3>&lt;p>Multiple security fixes. See the &lt;a class="link" href="https://www.jenkins.io/security/advisory/2025-03-05/" target="_blank" rel="noopener"
>2025-03-05 security advisory&lt;/a> for details.&lt;/p>
&lt;p>All contributors: @daniel-beck, @jenkinsci-cert-ci&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="jenkins---24922203924134">Jenkins - 2.492.2(203924134)
&lt;/h2>&lt;p>created: 2025-03-03T17:25:06Z&lt;/p>
&lt;p>We&amp;rsquo;re excited to announce the release of Jenkins 2.492.2 🎉&lt;/p>
&lt;h3 id="changelog-and-upgrade-guide-1">Changelog and upgrade guide
&lt;/h3>&lt;p>See the &lt;a class="link" href="https://www.jenkins.io/changelog-stable/2.492.2/" target="_blank" rel="noopener"
>changelog&lt;/a> and &lt;a class="link" href="https://www.jenkins.io/doc/upgrade-guide/2.492/#upgrading-to-jenkins-lts-2-492-2" target="_blank" rel="noopener"
>upgrade guide&lt;/a> to learn about breaking changes and other considerations when updating.&lt;/p>
&lt;h3 id="reporting-issues-1">Reporting issues
&lt;/h3>&lt;p>If you locate an issue with this release, please file an issue on &lt;a class="link" href="https://issues.jenkins.io/" target="_blank" rel="noopener"
>Jira&lt;/a>, otherwise use the &lt;a class="link" href="https://community.jenkins.io/" target="_blank" rel="noopener"
>forums&lt;/a> if you&amp;rsquo;re unsure whether you encounter an issue or not.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="jenkins---2501202427558">Jenkins - 2.501(202427558)
&lt;/h2>&lt;p>created: 2025-03-11T13:49:05Z&lt;/p>
&lt;p>_This is an automatically generated changelog draft for Jenkins weekly releases.&lt;/p>
&lt;p>See &lt;a class="link" href="https://www.jenkins.io/changelog/2.501/" target="_blank" rel="noopener"
>https://www.jenkins.io/changelog/2.501/&lt;/a> for the official changelog for this release._&lt;/p>
&lt;h3 id="-new-features-and-improvements-3">🚀 New features and improvements
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Add some margin below Add/Edit description button (#10386) @mawinter69&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add grouping to Command Palette (#10252) @janfaracik&lt;/p>
&lt;/li>
&lt;li>
&lt;p>feat: Add empty state for no old data (#10320) @SohamJuneja&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-bug-fixes-3">🐛 Bug fixes
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://issues.jenkins.io/browse/JENKINS-75278" target="_blank" rel="noopener"
>JENKINS-75278&lt;/a> - User pages for users with &amp;lsquo;\&amp;rsquo; in the user name fail after upgrading to 2.479.1 (#10344) @olamy&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://issues.jenkins.io/browse/JENKINS-72745" target="_blank" rel="noopener"
>JENKINS-72745&lt;/a> - &amp;ldquo;Manage Jenkins&amp;rdquo; nested context menu can stay open when parent menu closes (#10251) @ridemountainpig&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://issues.jenkins.io/browse/JENKINS-75341" target="_blank" rel="noopener"
>JENKINS-75341&lt;/a> - Sort deprecated plugins in alphabetical order (#10358) @MUCCHU&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://issues.jenkins.io/browse/JENKINS-75232" target="_blank" rel="noopener"
>JENKINS-75232&lt;/a> - Prevent dynamic plugin installation from registering the same extension twice in some cases (#10240) @dwnusbaum&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>All contributors: @MUCCHU, @SohamJuneja, @basil, @daniel-beck, @dwnusbaum, @janfaracik, @jenkins-release-bot, @krisstern, @mawinter69, @olamy, @renovate[bot], @ridemountainpig, @timja, \&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/apps/github-actions" target="_blank" rel="noopener"
>github-actions[bot]&lt;/a> and &lt;a class="link" href="https://github.com/apps/renovate" target="_blank" rel="noopener"
>renovate[bot]&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="jenkins---24922-rc201178901">Jenkins - 2.492.2 RC(201178901)
&lt;/h2>&lt;p>created: 2025-02-19T12:58:52Z&lt;/p>
&lt;p>Please report issues to the &lt;a class="link" href="https://groups.google.com/g/jenkinsci-dev/c/rMn-o7GvcjM/m/wWT6o1iaAAAJ" target="_blank" rel="noopener"
>backporting announcement thread&lt;/a>.&lt;/p>
&lt;p>Final release is scheduled for &lt;strong>March 5th, 2025&lt;/strong>.&lt;/p>
&lt;p>Download the release from: &lt;a class="link" href="https://repo.jenkins-ci.org/incrementals/org/jenkins-ci/main/jenkins-war/2.492.2-rc35792.a_83fa_4331377/jenkins-war-2.492.2-rc35792.a_83fa_4331377.war" target="_blank" rel="noopener"
>Artifactory&lt;/a>.&lt;/p>
&lt;p>After the final release, the &lt;a class="link" href="https://www.jenkins.io/changelog-stable/#2.492.2" target="_blank" rel="noopener"
>official changelog&lt;/a> and &lt;a class="link" href="https://www.jenkins.io/doc/upgrade-guide/2.492/#upgrading-to-jenkins-lts-2-492-2" target="_blank" rel="noopener"
>official upgrade guide&lt;/a> will be available on &lt;a class="link" href="http://www.jenkins.io/download" target="_blank" rel="noopener"
>www.jenkins.io/download&lt;/a>.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;blockquote>
&lt;p>完整清单，请访问官方列表: &lt;a class="link" href="https://github.com/jenkinsci/jenkins/releases" target="_blank" rel="noopener"
> Jenkins 发布清单&lt;/a>&lt;/p>&lt;/blockquote></description></item><item><title>JMeter 发布历史 (latest 10)</title><link>https://chengxiaqiucao.github.io/page/jmeter-10/</link><pubDate>Tue, 15 Apr 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/page/jmeter-10/</guid><description>&lt;h1 id="jmeter-发布历史-latest-10">JMeter 发布历史 (latest 10)
&lt;/h1>&lt;hr>
&lt;h2 id="jmeter---v563136289137">JMeter - v5.6.3(136289137)
&lt;/h2>&lt;p>created: 2024-01-07T17:04:53Z&lt;/p>
&lt;h3 id="whats-changed">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Fix computation of min in Summary report by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6044" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6044&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix: allow usage of variables in ConstantThroughputTimer.throughput and PreciseThroughputTimer by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6192" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6192&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix: log errors happening while JMeter starts the test by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6193" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6193&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>feat: pass JDBCSampler.maxRows to Statement.setMaxRows so the driver does not fetch extra rows from the database by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6216" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6216&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Restore references to boms in the generated pom.xml files by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6046" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6046&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="non-functional-changes">Non-functional changes
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Add space before stopping_test_host by @pochopsp in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6045" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6045&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Fix link to bug database by @sebbASF in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6050" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6050&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Resolve checkstyle cache miss by @tylerbertrand in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6072" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6072&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Fixed Chinese translation errors in multiple languages by @MarkHoo in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6073" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6073&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add Java 22 version (ignored) to the build matrix by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6112" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6112&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>chore: bump Gradle to 8.5 by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6166" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6166&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>refactor: migrate existing Groovy tests to Kotlin, remove Groovy compiler from the build pipeline by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6212" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6212&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Refactor JUnit 3 and JUnit 4 tests to JUnit 5, remove JUnit 4 dependency by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6214" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6214&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>docs: update changelog for 5.6.3 by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6190" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6190&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="update-dependencies">Update dependencies
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>fix(deps): update dependency org.neo4j.driver:neo4j-java-driver to v4.4.12 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6039" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6039&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.jetbrains.kotlinx:kotlinx-coroutines-bom to v1.7.3 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6038" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6038&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.eclipse.jgit:org.eclipse.jgit to v5.13.2.202306221912-r by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6037" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6037&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.codehaus.groovy:groovy-bom to v3.0.19 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6036" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6036&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update kotlin monorepo to v1.9.21 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6111" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6111&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>chore(deps): update release-drafter/release-drafter digest to 09c613e by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6115" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6115&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency jacoco to v0.8.11 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6118" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6118&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency com.github.tomakehurst:wiremock-jre8 to v2.35.1 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6117" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6117&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency net.bytebuddy:byte-buddy to v1.14.10 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6120" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6120&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update org.apache.activemq to v5.16.7 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6122" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6122&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.ow2.asm:asm to v9.6 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6132" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6132&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.jsoup:jsoup to v1.16.2 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6128" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6128&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.apache.mina:mina-core to v2.2.3 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6127" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6127&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.apache.httpcomponents.client5:httpclient5 to v5.2.2 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6126" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6126&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency commons-codec:commons-codec to v1.16.0 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6133" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6133&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.jetbrains:annotations to v24.1.0 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6130" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6130&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency commons-io:commons-io to v2.15.0 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6134" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6134&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>chore(deps): update actions/checkout action to v4 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6146" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6146&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>chore(deps): update actions/github-script action to v7 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6147" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6147&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update org.openjdk.jmh to v1.37 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6145" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6145&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.jetbrains.dokka:org.jetbrains.dokka.gradle.plugin to v1.9.10 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6141" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6141&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency nl.jqno.equalsverifier:equalsverifier to v3.15.3 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6138" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6138&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.jetbrains.lets-plot:lets-plot-kotlin-jvm to v4.5.0 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6142" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6142&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency spotbugs to v4.8.1 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6143" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6143&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update org.apache.logging.log4j to v2.22.0 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6157" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6157&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update net.minidev json-smart to v2.5.0 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6156" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6156&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.apache.xmlgraphics:xmlgraphics-commons to v2.9 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6150" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6150&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency commons-net:commons-net to v3.10.0 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6135" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6135&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.junit:junit-bom to v5.10.1 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6131" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6131&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.apache.commons:commons-lang3 to v3.14.0 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6153" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6153&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update io.burt to v0.6.0 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6159" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6159&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency com.github.spotbugs:com.github.spotbugs.gradle.plugin to v5.2.5 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6167" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6167&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency commons-io:commons-io to v2.15.1 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6168" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6168&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency com.fifesoft:rsyntaxtextarea to v3.3.4 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6158" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6158&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency nl.jqno.equalsverifier:equalsverifier to v3.15.4 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6178" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6178&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>chore(deps): update actions/setup-java action to v4 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6184" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6184&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency com.github.spotbugs:com.github.spotbugs.gradle.plugin to v6 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6185" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6185&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.apache.httpcomponents.client5:httpclient5 to v5.3 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6181" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6181&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.jsoup:jsoup to v1.17.1 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6182" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6182&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency spotbugs to v4.8.3 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6187" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6187&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency net.sf.saxon:saxon-he to v11.6 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6180" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6180&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.jetbrains.lets-plot:lets-plot-batik to v4 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6189" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6189&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update com.fasterxml.jackson.core to v2.16.1 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6200" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6200&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency com.github.spotbugs:com.github.spotbugs.gradle.plugin to v6.0.4 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6201" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6201&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.neo4j.driver:neo4j-java-driver to v4.4.13 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6206" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6206&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency net.bytebuddy:byte-buddy to v1.14.11 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6203" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6203&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update kotlin monorepo to v1.9.22 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6207" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6207&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency nl.jqno.equalsverifier:equalsverifier to v3.15.5 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6204" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6204&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Streamline binding of UI elements to TestElement properties by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6199" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6199&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update org.apache.logging.log4j to v2.22.1 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6213" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6213&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="new-contributors">New Contributors
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>@pochopsp made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6045" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6045&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@sebbASF made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6050" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6050&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@tylerbertrand made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6072" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6072&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@MarkHoo made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6073" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6073&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/apache/jmeter/compare/rel/v5.6.2...rel/v5.6.3" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/compare/rel/v5.6.2...rel/v5.6.3&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="jmeter---v562136288736">JMeter - v5.6.2(136288736)
&lt;/h2>&lt;p>created: 2023-07-11T15:07:27Z&lt;/p>
&lt;h3 id="known-issues-fixed-in-563">Known issues (fixed in 5.6.3)
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>JMeter 5.6 shows 0 as a min response time in summary report, &lt;a class="link" href="https://github.com/apache/jmeter/issues/6043" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/issues/6043&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>NullPointerException in ConstantTimer (and derived timers), &lt;a class="link" href="https://github.com/apache/jmeter/issues/6162" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/issues/6162&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Downloading of embedded resources via HTTP Request Default not working, &lt;a class="link" href="https://github.com/apache/jmeter/issues/6162" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/issues/6162&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="whats-changed-1">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>chore: Fix compatibility with Maven&amp;rsquo;s pom.xml parser by adding explicit versions for com.google.auto.service:auto-service-annotations by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6042" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6042&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/apache/jmeter/compare/rel/v5.6.1...rel/v5.6.2" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/compare/rel/v5.6.1...rel/v5.6.2&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="jmeter---v561111662660">JMeter - v5.6.1(111662660)
&lt;/h2>&lt;p>created: 2023-07-10T13:22:15Z&lt;/p>
&lt;h3 id="known-issues">Known issues
&lt;/h3>&lt;ul>
&lt;li>Maven does not resolve transitive dependencies, see &lt;a class="link" href="https://github.com/apache/jmeter/issues/6041" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/issues/6041&lt;/a>. It will be resolved in 5.6.2&lt;/li>
&lt;/ul>
&lt;h3 id="new-and-noteworthy">New and Noteworthy
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>fix: use UTF-8 as a default encoding in HTTP sampler by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6010" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6010&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Fixed endless thread groups in non-GUI mode&lt;/strong>. Use default value for LoopController.continue_forever rather than initializing it in the constructor by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6011" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6011&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix: after disabling the Java Request sampler, it cannot be enabled again by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6012" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6012&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="whats-changed-2">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>docs: add release-drafter for populating GitHub releases info based on the PRs by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6000" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6000&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>chore: use Gradle toolchains for JDK provisioning by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5989" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5989&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>test: replace TestTransactionController.TestSampleListener with CollectSamplesListener by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6002" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6002&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>bump JMeter version in issue templates to 5.6 by @alexsch01 in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6013" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6013&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix: treat null or blank values as empty for saved properties by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6027" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6027&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>doc: update documentation for sampleresult.default.encoding default value by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6028" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6028&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>chore: trim dependencyManagement and optional dependencies from pom.xml by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6031" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6031&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>doc: update changelog for 5.6.1 by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6024" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6024&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>doc: update changelog for 5.6.1 by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6001" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6001&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="dependencies">Dependencies
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>fix(deps): update com.github.vlsi to v1.90 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6003" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6003&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update com.fasterxml.jackson.core to v2.15.2 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5991" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5991&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update kotlin monorepo to v1.8.22 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6017" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6017&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.hsqldb:hsqldb to v2.7.2 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6016" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6016&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency nl.jqno.equalsverifier:equalsverifier to v3.14.3 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6014" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6014&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>chore(deps): update release-drafter/release-drafter digest to 65c5fb4 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6018" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6018&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.apache.mina:mina-core to v2.2.2 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6015" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6015&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency com.helger.commons:ph-commons to v10.2.5 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5993" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5993&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency checkstyle to v10.12.1 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6021" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6021&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.jetbrains.dokka:org.jetbrains.dokka.gradle.plugin to v1.8.20 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6019" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6019&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="new-contributors-1">New Contributors
&lt;/h3>&lt;ul>
&lt;li>@alexsch01 made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/6013" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/6013&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/apache/jmeter/compare/rel/v5.6...rel/v5.6.1" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/compare/rel/v5.6...rel/v5.6.1&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="jmeter---v53109782460">JMeter - v5.3(109782460)
&lt;/h2>&lt;p>created: 2020-05-15T17:16:58Z&lt;/p>
&lt;h3 id="whats-changed-3">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Remove unnecessary boxing by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/541" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/541&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Replace Spotless with Autostyle by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/549" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/549&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add Travis CI job to test JMeter with IBM s390x by @namrata-ibm in &lt;a class="link" href="https://github.com/apache/jmeter/pull/550" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/550&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Bug 64091 - Precise Throughput Timer might produce less samples when low test duration is used by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/553" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/553&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Color test results in Gradle output by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/554" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/554&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update Gradle test output formatting by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/555" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/555&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Bug 64142 - Use gray icons for disabled elements in the tree by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/558" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/558&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add ExecutionMode.SAME_THREAD to JMeterSerialTest to ensure the tests are not executed concurrently by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/560" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/560&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add darklaf look and feel by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/556" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/556&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add screenshots for Darklaf look and feel by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/562" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/562&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Use SVG icon for splashscreen by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/565" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/565&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>On the fly look and feel updates, change zoom hotkey to ctrl+alt+wheel by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/566" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/566&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Show context menu for the full row, not just for the tree label by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/564" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/564&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Improve toolbar border by @weisJ in &lt;a class="link" href="https://github.com/apache/jmeter/pull/568" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/568&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Support SVG icons for the toolbar by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/570" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/570&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Remove etched borders. by @weisJ in &lt;a class="link" href="https://github.com/apache/jmeter/pull/569" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/569&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Overhaul the approach for using custom styles in JMeter components by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/572" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/572&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Improve the startup time: skip test plan UI initialization by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/573" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/573&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Upgrade Gradle: 6.1 -&amp;gt; 6.3 by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/577" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/577&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Implement per-field undo/redo by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/576" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/576&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add icon for JetBrains Toolbox by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/579" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/579&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update Darklaf: 1.4.3.1 -&amp;gt; 2.0.2 by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/582" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/582&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Speed up DNSCacheManagerSpec + simplify some code in DNSCacheManager. by @ham1 in &lt;a class="link" href="https://github.com/apache/jmeter/pull/580" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/580&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Fixed duplicate theme name in the changelog by @weisJ in &lt;a class="link" href="https://github.com/apache/jmeter/pull/584" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/584&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add a &amp;lsquo;Median&amp;rsquo; field to the dashboard and make the response time percentile fields support floating-point numbers by @keithmork in &lt;a class="link" href="https://github.com/apache/jmeter/pull/567" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/567&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Added JEXL3 as a syntax alias for JSyntaxTextArea by @drivera-armedia in &lt;a class="link" href="https://github.com/apache/jmeter/pull/585" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/585&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>UI improvements. by @weisJ in &lt;a class="link" href="https://github.com/apache/jmeter/pull/581" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/581&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Bug 64407 - Improve JMS Publisher UX by @ubikloadpack in &lt;a class="link" href="https://github.com/apache/jmeter/pull/586" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/586&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Bug 64408 - Improve JMS Subscriber UX by @ubikloadpack in &lt;a class="link" href="https://github.com/apache/jmeter/pull/587" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/587&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="new-contributors-2">New Contributors
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>@namrata-ibm made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/550" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/550&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@keithmork made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/567" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/567&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@drivera-armedia made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/585" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/585&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/apache/jmeter/compare/rel/v5.2...rel/v5.3" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/compare/rel/v5.2...rel/v5.3&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="jmeter---v54109782403">JMeter - v5.4(109782403)
&lt;/h2>&lt;p>created: 2020-12-03T06:01:18Z&lt;/p>
&lt;h3 id="whats-changed-4">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Update JMeter screen preview by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/575" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/575&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>docs: clarify how to configure InfluxDB v1 and InfluxDB v2 by @bednar in &lt;a class="link" href="https://github.com/apache/jmeter/pull/592" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/592&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update neo4j-java-driver from 1.7.5 to 4.0.1 by @michaelweidmann in &lt;a class="link" href="https://github.com/apache/jmeter/pull/594" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/594&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Ensure all buttons added to the toolbar behave/look consistently. by @weisJ in &lt;a class="link" href="https://github.com/apache/jmeter/pull/599" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/599&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Set JMSType header field through JMSProperties. by @topicus-pw-dvdouden in &lt;a class="link" href="https://github.com/apache/jmeter/pull/600" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/600&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Bug 64581 - Allow SampleResult#setIgnore to influence behaviour on Sampler Error by @pmouawad in &lt;a class="link" href="https://github.com/apache/jmeter/pull/604" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/604&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Improved README. by @ham1 in &lt;a class="link" href="https://github.com/apache/jmeter/pull/605" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/605&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Fix for control flow behavior regression by @tilln in &lt;a class="link" href="https://github.com/apache/jmeter/pull/606" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/606&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update Gradle: 6.3 -&amp;gt; 6.6, add build cache and build scans by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/611" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/611&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Make the splash screen application-modal rather than system-modal by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/614" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/614&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Bug 64553 When using Transaction Controller, send Bytes and Received Bytes are displayed as 0 in the influxdb(BackendListener) by @pmouawad in &lt;a class="link" href="https://github.com/apache/jmeter/pull/608" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/608&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Bug 64711 - Use theme from darklaf extensions for RSyntaxTextArea. by @weisJ in &lt;a class="link" href="https://github.com/apache/jmeter/pull/617" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/617&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update JUnit5 to 5.7.0 (from 5.6.2) by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/619" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/619&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Prevent NPE in ToolTipManager by @weisJ in &lt;a class="link" href="https://github.com/apache/jmeter/pull/621" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/621&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add validation of the third-party jars that are included to the release by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/620" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/620&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Guard against empty or wrong threadGroup names by @FSchumacher in &lt;a class="link" href="https://github.com/apache/jmeter/pull/622" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/622&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Use string formatting for log messages by @FSchumacher in &lt;a class="link" href="https://github.com/apache/jmeter/pull/623" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/623&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Correct string formatting for log message by @FSchumacher in &lt;a class="link" href="https://github.com/apache/jmeter/pull/624" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/624&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Make method less complex by extracting private methods by @FSchumacher in &lt;a class="link" href="https://github.com/apache/jmeter/pull/625" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/625&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Move guard clause for log message generation by @FSchumacher in &lt;a class="link" href="https://github.com/apache/jmeter/pull/626" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/626&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Removed the http4client.retain_max_body_size property mentions by @kkalinin in &lt;a class="link" href="https://github.com/apache/jmeter/pull/578" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/578&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>BZ 64752 - Add GraphQL/HTTP Request Sampler by @woonsan in &lt;a class="link" href="https://github.com/apache/jmeter/pull/627" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/627&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Ensure fallback enabled fonts are used. by @weisJ in &lt;a class="link" href="https://github.com/apache/jmeter/pull/618" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/618&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>BZ-64787 : Korean translation by @woonsan in &lt;a class="link" href="https://github.com/apache/jmeter/pull/630" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/630&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>BZ-64800: correcting plugin action components&amp;rsquo; resource key usages by @woonsan in &lt;a class="link" href="https://github.com/apache/jmeter/pull/631" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/631&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Fix to Bug64776 - Add the possibility to add SecurityProviders by @FackelAB in &lt;a class="link" href="https://github.com/apache/jmeter/pull/629" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/629&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add Error Prone code style verification by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/632" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/632&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Make allowed version of freemarker explicit by @FSchumacher in &lt;a class="link" href="https://github.com/apache/jmeter/pull/633" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/633&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add BackendListener that sends &amp;ldquo;raw&amp;rdquo; results to InfluxDB by @ham1 in &lt;a class="link" href="https://github.com/apache/jmeter/pull/544" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/544&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Fix a typo in README.md by @wuyuanwei in &lt;a class="link" href="https://github.com/apache/jmeter/pull/634" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/634&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="new-contributors-3">New Contributors
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>@michaelweidmann made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/594" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/594&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@topicus-pw-dvdouden made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/600" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/600&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@tilln made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/606" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/606&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@kkalinin made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/578" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/578&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@FackelAB made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/629" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/629&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@wuyuanwei made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/634" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/634&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/apache/jmeter/compare/rel/v5.3...rel/v5.4" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/compare/rel/v5.3...rel/v5.4&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="jmeter---v541109782392">JMeter - v5.4.1(109782392)
&lt;/h2>&lt;p>created: 2021-01-20T18:27:03Z&lt;/p>
&lt;h3 id="whats-changed-5">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>update xstreams to 1.4.15 (from 1.4.14) by @sseide in &lt;a class="link" href="https://github.com/apache/jmeter/pull/639" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/639&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/apache/jmeter/compare/rel/v5.4...rel/v5.4.1" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/compare/rel/v5.4...rel/v5.4.1&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="jmeter---v543-update-log4j-to-2170-fix-cve-2021-45105109782225">JMeter - v5.4.3: Update log4j to 2.17.0 (fix CVE-2021-45105)(109782225)
&lt;/h2>&lt;p>created: 2021-12-24T15:01:29Z&lt;/p>
&lt;p>Update log4j to 2.17.0 (fix CVE-2021-45105): &lt;a class="link" href="https://github.com/apache/jmeter/commit/a55c6efb79e1605a5cded67b6f0366676e0fc264" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/commit/a55c6efb79e1605a5cded67b6f0366676e0fc264&lt;/a>&lt;/p>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/apache/jmeter/compare/rel/v5.4.2...rel/v5.4.3" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/compare/rel/v5.4.2...rel/v5.4.3&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="jmeter---v542-update-log4j2-to-2160-to-fix-cve-2021-44228109782197">JMeter - v5.4.2: Update log4j2 to 2.16.0 to fix CVE-2021-44228(109782197)
&lt;/h2>&lt;p>created: 2021-12-16T15:47:04Z&lt;/p>
&lt;p>Update log4j2 to 2.16.0 to fix CVE-2021-44228: &lt;a class="link" href="https://github.com/apache/jmeter/commit/fca416257af9dc42c2ad6be0767337d7444eb9c4" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/commit/fca416257af9dc42c2ad6be0767337d7444eb9c4&lt;/a>&lt;/p>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/apache/jmeter/compare/rel/v5.4.1...rel/v5.4.2" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/compare/rel/v5.4.1...rel/v5.4.2&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="jmeter---v55109782149">JMeter - v5.5(109782149)
&lt;/h2>&lt;p>created: 2022-06-14T12:56:52Z&lt;/p>
&lt;h3 id="whats-changed-6">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Bump Gradle 6.7 -&amp;gt; 6.8.1 by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/642" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/642&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix doc for &amp;lsquo;get-started&amp;rsquo; file by @ooooo-youwillsee in &lt;a class="link" href="https://github.com/apache/jmeter/pull/653" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/653&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update to Gradle 7.0.2 by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/657" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/657&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Reduce memory consumption by the logging panel (disable undo events for it) by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/676" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/676&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Align ssl props / Enable setting cipher suite (WIP) by @pmouawad in &lt;a class="link" href="https://github.com/apache/jmeter/pull/677" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/677&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Open Model Thread Group by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/674" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/674&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update log4j2 to 2.15.0 to fix CVE-2021-44228: Apache Log4j2 JNDI features do not protect against attacker controlled LDAP and other JNDI related endpoints by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/680" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/680&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Bump lets-plot to 2.2.1 and 3.1.1 by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/681" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/681&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update changelog for JMeter 5.5 by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/684" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/684&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>65108: Support JMeter variables in GraphQL HTTP Request by @woonsan in &lt;a class="link" href="https://github.com/apache/jmeter/pull/660" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/660&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Setters in ConstantThroughputTimer need to set Properties to be picked up by test during runtime by @mspangdal in &lt;a class="link" href="https://github.com/apache/jmeter/pull/662" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/662&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update log4j2 to 2.17.1 by @psmietanaa in &lt;a class="link" href="https://github.com/apache/jmeter/pull/685" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/685&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Deleted the redundant log variable in parse curl command action class by @SampathKumarAmex in &lt;a class="link" href="https://github.com/apache/jmeter/pull/687" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/687&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Remove unnecessary throws exception from distributed runner test by @SampathKumarAmex in &lt;a class="link" href="https://github.com/apache/jmeter/pull/688" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/688&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[Bug 63620] Fix GUI freeze when viewing response body with long lines by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/694" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/694&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>update tika-parsers to 1.28.1 (from 1.28) and xstreams to 1.4.19 (from 1.4.18) by @sseide in &lt;a class="link" href="https://github.com/apache/jmeter/pull/698" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/698&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>CSV文件中共享模式汉化翻译有误：所有现场&amp;ndash;&amp;gt;所有线程 by @KING76169835 in &lt;a class="link" href="https://github.com/apache/jmeter/pull/702" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/702&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ci: use &lt;a class="link" href="https://www.apache.org" target="_blank" rel="noopener"
>https://www.apache.org&lt;/a> instead of &lt;a class="link" href="http://www.eu.apache.org" target="_blank" rel="noopener"
>http://www.eu.apache.org&lt;/a> for downloading Maven by @Geno1024 in &lt;a class="link" href="https://github.com/apache/jmeter/pull/704" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/704&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(typo) in zh-CN translation. by @Geno1024 in &lt;a class="link" href="https://github.com/apache/jmeter/pull/703" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/703&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Revert Bugfix 65885 by @pmouawad in &lt;a class="link" href="https://github.com/apache/jmeter/pull/709" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/709&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update Kotlin to 1.6.21 by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/713" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/713&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Use kotlinx-coroutines for UI launcher by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/712" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/712&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Fix to Bug 66061 - Refine the log message in DefaultSamplerCreator from the state of in progress to complete by @zisding in &lt;a class="link" href="https://github.com/apache/jmeter/pull/714" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/714&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="new-contributors-4">New Contributors
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>@ooooo-youwillsee made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/653" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/653&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@mspangdal made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/662" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/662&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@psmietanaa made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/685" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/685&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@KING76169835 made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/702" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/702&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@Geno1024 made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/704" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/704&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@zisding made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/714" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/714&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/apache/jmeter/compare/rel/v5.4.1...rel/v5.5" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/compare/rel/v5.4.1...rel/v5.5&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="jmeter---v56109782114">JMeter - v5.6(109782114)
&lt;/h2>&lt;p>created: 2023-06-23T12:53:42Z&lt;/p>
&lt;h3 id="regressions">Regressions
&lt;/h3>&lt;p>The following regressions will be resolved in 5.6.1:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ThreadGroups are running endlessly in non-gui mode &lt;a class="link" href="https://github.com/apache/jmeter/issues/6008" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/issues/6008&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>After disabling the Java Request sampler, it cannot be enabled again &lt;a class="link" href="https://github.com/apache/jmeter/issues/6004" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/issues/6004&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="whats-changed-7">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>doc: add load profile samples to Open Model Thread Group documentation by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/718" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/718&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Master tests by @pjfanning in &lt;a class="link" href="https://github.com/apache/jmeter/pull/722" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/722&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add .asf.yaml, enable GitHub Issues by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/728" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/728&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add GitHub Issue templates by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5710" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5710&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>doc: handle &lt;issue> markup in documentation by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5711" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5711&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add Chinese Simplified Translation for Open Model Thread Group by @kaola89 in &lt;a class="link" href="https://github.com/apache/jmeter/pull/725" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/725&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>SyncTimerTest | Used Junit 5 assertions to keep it consistent by @SampathKumarAmex in &lt;a class="link" href="https://github.com/apache/jmeter/pull/726" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/726&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update grgit to 4.1.1 (from 4.1.0) by @SampathKumarAmex in &lt;a class="link" href="https://github.com/apache/jmeter/pull/691" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/691&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update Spock to 2.2-groovy-3.0 (from 2.1-groovy-3.0) by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5713" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5713&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Remove Travis CI configuration as the ASF is moving away from Travis CI by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5719" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5719&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Bump actions/checkout to v3 by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5722" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5722&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update Bugzilla -&amp;gt; GitHub issues in the contribution documentation by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5712" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5712&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>UPPER is the default case for changeCase by @orimarko in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5731" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5731&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>bump checksum-dependency-plugin to 1.86, so public pgp keys could be stored under the source control by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5760" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5760&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update Gradle to 7.6 from 7.3 by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5763" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5763&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Change from Assert. to Assertions. by @milamberspace in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5813" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5813&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Bug #5807 - Fix an ArrayIndexOutOfBoundsException on HTTP parameters … by @milamberspace in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5812" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5812&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add KeyStroke for start_no_timers (Start no pauses: CRTL+SHIFT+n) by @dgetzlaf in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5792" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5792&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>chore: bump Gradle to 8.1.1 by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5814" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5814&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>chore: call verifyReleaseDependencies only when building release version by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5828" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5828&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Deadlock in testsuite by @FSchumacher in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5870" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5870&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Trim variable names in Argument objects by @FSchumacher in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5874" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5874&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[66139] Ensure Open Model Thread Group initializes config elements only once by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/717" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/717&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add errorprone verifications by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5873" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5873&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Fix NumberFormatException when counter is empty or not a digit on Proxy Settings panel by @milamberspace in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5901" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5901&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Speed up CPU-bound tests by skipping recoverRunningVersion for elements that are shared between threads (the ones that implement NoThreadClone) by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5899" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5899&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Use JMeterProperty#intValue for loop count directly by @FSchumacher in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5876" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5876&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Use Caffeine for caching HTTP headers instead of commons-collections4 LRUMap by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5911" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5911&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>feat: Use Caffeine for caching compiled scripts in JSR223 samplers instead of commons-collections4 LRUMap by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5909" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5909&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>feat: Use Caffeine for caching customizers in TestBeanGUI instead of commons-collections4 LRUMap by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5910" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5910&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>feat: use ServiceLoader to find implementations instead of searching classes in jars by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5885" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5885&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>feat: add property to disable FunctionProperty caching by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5788" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5788&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ci: add randomized matrix for better test coverage by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/693" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/693&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>style: use bounded wildcards for private, and static methods by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5927" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5927&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update website copyright year to 2023 by @raboof in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5787" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5787&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>perf: cache datetime formatter in __time function by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5934" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5934&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Added Shortcut key event for Reset search - 66053 by @rollno748 in &lt;a class="link" href="https://github.com/apache/jmeter/pull/710" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/710&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>perf: remove excessive BufferedInputStream from HTTP sampler by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5952" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5952&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>perf: avoid String.replaceAll in HTTPJavaImpl by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5953" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5953&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>perf: avoid string concatenation in HTTPHC4.HttpClientKey by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5954" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5954&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix: PropertyIterator.remove should remove properties from both collections in TestElement by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5958" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5958&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>chore: allocate Xmx1500m for the build by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5962" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5962&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>test: Add OpenJDK JMH for creating microbenchmarks in JMeter code by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5960" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5960&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Migrate TestElement interface to Kotlin by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5959" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5959&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>chore: reduce verbosity of the build logs by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5965" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5965&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add more variables to template to compute sampler names by @FSchumacher in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5869" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5869&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>doc: update the next version to be 5.6 by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5936" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5936&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>feat: Enable usage of ${&amp;hellip;} expressions for checkbox controls by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5944" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5944&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>chore: bump vlsi-release-plugins to 1.89 by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5972" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5972&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>chore: use testFixtures sourceset instead of depending on all the test classes by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5975" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5975&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>perf: add PropertyIteratorImpl.EMPTY_ITERATOR when iterating over an empty collection by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5985" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5985&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix: AbstractTestElement#clone might produce non-identical clones if element constructor adds a non-default property value by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5984" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5984&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>DSL for programmatic test plan generation by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/678" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/678&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix: restore public static final String references to literals for backward compatibility by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5988" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5988&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix: encode unicode characters in filenames when sending files in HTTP Sampler by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5987" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5987&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="dependencies-1">Dependencies
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Update lets-plot-jvm by @FSchumacher in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5797" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5797&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>chore: update xalan:xalan to 2.7.3 by @vlsi in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5880" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5880&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update com.github.vlsi to v1.88 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5824" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5824&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency checkstyle to v10.10.0 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5825" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5825&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency de.thetaphi.forbiddenapis:de.thetaphi.forbiddenapis.gradle.plugin to v3.5.1 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5826" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5826&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency jacoco to v0.8.10 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5827" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5827&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update junit5 monorepo to v5.9.3 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5832" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5832&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.codehaus.groovy:groovy-bom to v3.0.17 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5830" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5830&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.jsoup:jsoup to v1.15.4 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5835" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5835&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.jetbrains.kotlinx:kotlinx-coroutines-bom to v1.6.4 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5834" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5834&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.freemarker:freemarker to v2.3.32 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5833" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5833&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.ow2.asm:asm to v9.5 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5837" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5837&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency cglib:cglib-nodep to v3.3.0 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5842" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5842&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.apache.rat:apache-rat to v0.15 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5844" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5844&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.checkerframework:checker to v3.33.0 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5846" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5846&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency nl.jqno.equalsverifier:equalsverifier to v3.14.1 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5845" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5845&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.objenesis:objenesis to v3.3 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5849" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5849&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency com.fifesoft:rsyntaxtextarea to v3.3.3 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5847" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5847&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency net.minidev:json-smart to v2.4.10 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5841" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5841&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.jetbrains:annotations to v23.1.0 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5853" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5853&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.apache.commons:commons-jexl3 to v3.3 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5851" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5851&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.apache.mina:mina-core to v2.2.1 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5855" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5855&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency net.minidev:accessors-smart to v2.4.9 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5840" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5840&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.hsqldb:hsqldb to v2.7.1 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5856" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5856&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update org.apache.logging.log4j to v2.20.0 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5859" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5859&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.apache.xmlgraphics:xmlgraphics-commons to v2.8 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5852" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5852&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update org.apache.httpcomponents by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5862" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5862&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.jsoup:jsoup to v1.16.1 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5864" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5864&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency com.sun.mail:all to v1.6.7 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5867" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5867&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency com.helger.commons:ph-commons to v10.2.3 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5868" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5868&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency com.helger.commons:ph-commons to v10.2.4 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5886" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5886&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.jetbrains.kotlinx:kotlinx-coroutines-bom to v1.7.0 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5889" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5889&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.jetbrains:annotations to v24 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5908" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5908&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency net.sf.saxon:saxon-he to v11.5 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5854" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5854&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.jetbrains.lets-plot:lets-plot-batik to v3.2.0 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5907" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5907&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update org.checkerframework by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5887" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5887&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency checkstyle to v10.11.0 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5913" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5913&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.jetbrains.kotlinx:kotlinx-coroutines-bom to v1.7.1 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5918" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5918&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update com.fasterxml.jackson.core to v2.15.1 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5921" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5921&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.spockframework:spock-core to v2.3-groovy-3.0 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5931" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5931&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update net.minidev json-smart to v2.4.11 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5930" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5930&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix(deps): update dependency org.eclipse.jgit:org.eclipse.jgit to v5.13.1.202206130422-r by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5929" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5929&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>chore(deps): update actions/checkout action to v3 by @renovate-bot in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5932" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5932&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="new-contributors-5">New Contributors
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>@pjfanning made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/722" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/722&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@kaola89 made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/725" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/725&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@orimarko made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5731" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5731&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@milamberspace made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5813" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5813&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@dgetzlaf made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5792" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5792&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@renovate-bot made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5824" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5824&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@raboof made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/5787" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/5787&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@rollno748 made their first contribution in &lt;a class="link" href="https://github.com/apache/jmeter/pull/710" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/pull/710&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/apache/jmeter/compare/rel/v5.5...rel/v5.6" target="_blank" rel="noopener"
>https://github.com/apache/jmeter/compare/rel/v5.5...rel/v5.6&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;blockquote>
&lt;p>完整清单，请访问官方列表: &lt;a class="link" href="https://github.com/apache/jmeter/releases" target="_blank" rel="noopener"
> JMeter 发布清单&lt;/a>&lt;/p>&lt;/blockquote></description></item><item><title>Junit5 发布历史 (latest 10)</title><link>https://chengxiaqiucao.github.io/page/junit5-10/</link><pubDate>Tue, 15 Apr 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/page/junit5-10/</guid><description>&lt;h1 id="junit5-发布历史-latest-10">Junit5 发布历史 (latest 10)
&lt;/h1>&lt;hr>
&lt;h2 id="junit5---junit-5122211861309">Junit5 - JUnit 5.12.2(211861309)
&lt;/h2>&lt;p>created: 2025-04-11T14:10:03Z&lt;/p>
&lt;p>JUnit 5.12.2 = Platform 1.12.2 + Jupiter 5.12.2 + Vintage 5.12.2&lt;/p>
&lt;p>See &lt;a class="link" href="https://junit.org/junit5/docs/5.12.2/release-notes/" target="_blank" rel="noopener"
>Release Notes&lt;/a>.&lt;/p>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/junit-team/junit5/compare/r5.12.1...r5.12.2" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/compare/r5.12.1...r5.12.2&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="junit5---junit-5130-m2207766561">Junit5 - JUnit 5.13.0-M2(207766561)
&lt;/h2>&lt;p>created: 2025-03-24T06:43:51Z&lt;/p>
&lt;p>JUnit 5.13.0-M2 = Platform 1.13.0-M2 + Jupiter 5.13.0-M2 + Vintage 5.13.0-M2&lt;/p>
&lt;p>See &lt;a class="link" href="https://junit.org/junit5/docs/5.13.0-M2/release-notes/" target="_blank" rel="noopener"
>Release Notes&lt;/a>.&lt;/p>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/junit-team/junit5/compare/r5.13.0-M1...r5.13.0-M2" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/compare/r5.13.0-M1...r5.13.0-M2&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="junit5---junit-5130-m1207438042">Junit5 - JUnit 5.13.0-M1(207438042)
&lt;/h2>&lt;p>created: 2025-03-21T13:30:28Z&lt;/p>
&lt;p>JUnit 5.13.0-M1 = Platform 1.13.0-M1 + Jupiter 5.13.0-M1 + Vintage 5.13.0-M1&lt;/p>
&lt;p>See &lt;a class="link" href="https://junit.org/junit5/docs/5.13.0-M1/release-notes/" target="_blank" rel="noopener"
>Release Notes&lt;/a>.&lt;/p>
&lt;h3 id="new-contributors">New Contributors
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>@Oyster-zx made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/4311" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/4311&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@etrandafir93 made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/4336" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/4336&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/junit-team/junit5/compare/r5.12.1...r5.13.0-M1" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/compare/r5.12.1...r5.13.0-M1&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="junit5---junit-5121205850783">Junit5 - JUnit 5.12.1(205850783)
&lt;/h2>&lt;p>created: 2025-03-14T13:08:23Z&lt;/p>
&lt;p>JUnit 5.12.1 = Platform 1.12.1 + Jupiter 5.12.1 + Vintage 5.12.1&lt;/p>
&lt;p>See &lt;a class="link" href="https://junit.org/junit5/docs/5.12.1/release-notes/" target="_blank" rel="noopener"
>Release Notes&lt;/a>.&lt;/p>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/junit-team/junit5/compare/r5.12.0...r5.12.1" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/compare/r5.12.0...r5.12.1&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="junit5---junit-5120201674327">Junit5 - JUnit 5.12.0(201674327)
&lt;/h2>&lt;p>created: 2025-02-21T13:26:01Z&lt;/p>
&lt;p>JUnit 5.12.0 = Platform 1.12.0 + Jupiter 5.12.0 + Vintage 5.12.0&lt;/p>
&lt;p>See &lt;a class="link" href="https://junit.org/junit5/docs/5.12.0/release-notes/" target="_blank" rel="noopener"
>Release Notes&lt;/a>.&lt;/p>
&lt;h3 id="new-contributors-1">New Contributors
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>@chris-carneiro made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/3938" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/3938&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@amaembo made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/4024" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/4024&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@vdmitrienko made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/3889" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/3889&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@JojOatXGME made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/4032" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/4032&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@yhkuo41 made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/3169" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/3169&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@AndreasTu made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/3431" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/3431&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@YongGoose made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/4115" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/4115&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@JonasJebing made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/4045" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/4045&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@ky0n made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/4152" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/4152&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@filiphr made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/4148" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/4148&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@Anmavel made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/4149" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/4149&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@awelless made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/3259" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/3259&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/junit-team/junit5/compare/r5.11.4...r5.12.0" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/compare/r5.11.4...r5.12.0&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="junit5---junit-5120-rc2199838791">Junit5 - JUnit 5.12.0-RC2(199838791)
&lt;/h2>&lt;p>created: 2025-02-12T11:25:09Z&lt;/p>
&lt;p>JUnit 5.12.0-RC2 = Platform 1.12.0-RC2 + Jupiter 5.12.0-RC2 + Vintage 5.12.0-RC2&lt;/p>
&lt;p>See &lt;a class="link" href="https://junit.org/junit5/docs/5.12.0-RC2/release-notes/" target="_blank" rel="noopener"
>Release Notes&lt;/a>.&lt;/p>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/junit-team/junit5/compare/r5.12.0-RC1...r5.12.0-RC2" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/compare/r5.12.0-RC1...r5.12.0-RC2&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="junit5---junit-5120-rc1199070051">Junit5 - JUnit 5.12.0-RC1(199070051)
&lt;/h2>&lt;p>created: 2025-02-07T14:47:01Z&lt;/p>
&lt;p>JUnit 5.12.0-RC1 = Platform 1.12.0-RC1 + Jupiter 5.12.0-RC1 + Vintage 5.12.0-RC1&lt;/p>
&lt;p>See &lt;a class="link" href="https://junit.org/junit5/docs/5.12.0-RC1/release-notes/" target="_blank" rel="noopener"
>Release Notes&lt;/a>.&lt;/p>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/junit-team/junit5/compare/r5.12.0-M1...r5.12.0-RC1" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/compare/r5.12.0-M1...r5.12.0-RC1&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="junit5---junit-5120-m1197825715">Junit5 - JUnit 5.12.0-M1(197825715)
&lt;/h2>&lt;p>created: 2025-01-31T16:16:40Z&lt;/p>
&lt;p>JUnit 5.12.0-M1 = Platform 1.12.0-M1 + Jupiter 5.12.0-M1 + Vintage 5.12.0-M1&lt;/p>
&lt;p>See &lt;a class="link" href="https://junit.org/junit5/docs/5.12.0-M1/release-notes/" target="_blank" rel="noopener"
>Release Notes&lt;/a>.&lt;/p>
&lt;h3 id="new-contributors-2">New Contributors
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>@chris-carneiro made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/3938" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/3938&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@amaembo made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/4024" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/4024&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@vdmitrienko made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/3889" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/3889&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@JojOatXGME made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/4032" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/4032&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@yhkuo41 made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/3169" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/3169&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@AndreasTu made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/3431" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/3431&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@YongGoose made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/4115" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/4115&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@JonasJebing made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/4045" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/4045&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@ky0n made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/4152" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/4152&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@filiphr made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/4148" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/4148&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@Anmavel made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/4149" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/4149&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@awelless made their first contribution in &lt;a class="link" href="https://github.com/junit-team/junit5/pull/3259" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/pull/3259&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/junit-team/junit5/compare/r5.11.4...r5.12.0-M1" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/compare/r5.11.4...r5.12.0-M1&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="junit5---junit-5114190948983">Junit5 - JUnit 5.11.4(190948983)
&lt;/h2>&lt;p>created: 2024-12-16T13:20:51Z&lt;/p>
&lt;p>JUnit 5.11.4 = Platform 1.11.4 + Jupiter 5.11.4 + Vintage 5.11.4&lt;/p>
&lt;p>See &lt;a class="link" href="http://junit.org/junit5/docs/5.11.4/release-notes/" target="_blank" rel="noopener"
>Release Notes&lt;/a>.&lt;/p>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/junit-team/junit5/compare/r5.11.3...r5.11.4" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/compare/r5.11.3...r5.11.4&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="junit5---junit-5113181023777">Junit5 - JUnit 5.11.3(181023777)
&lt;/h2>&lt;p>created: 2024-10-21T13:56:41Z&lt;/p>
&lt;p>JUnit 5.11.3 = Platform 1.11.3 + Jupiter 5.11.3 + Vintage 5.11.3&lt;/p>
&lt;p>See &lt;a class="link" href="http://junit.org/junit5/docs/5.11.3/release-notes/" target="_blank" rel="noopener"
>Release Notes&lt;/a>.&lt;/p>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/junit-team/junit5/compare/r5.11.2...r5.11.3" target="_blank" rel="noopener"
>https://github.com/junit-team/junit5/compare/r5.11.2...r5.11.3&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;blockquote>
&lt;p>完整清单，请访问官方列表: &lt;a class="link" href="https://github.com/junit-team/junit5/releases" target="_blank" rel="noopener"
> Junit5 发布清单&lt;/a>&lt;/p>&lt;/blockquote></description></item><item><title>Locust 发布历史 (latest 10)</title><link>https://chengxiaqiucao.github.io/page/locust-10/</link><pubDate>Tue, 15 Apr 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/page/locust-10/</guid><description>&lt;h1 id="locust-发布历史-latest-10">Locust 发布历史 (latest 10)
&lt;/h1>&lt;hr>
&lt;h2 id="locust---2341211211905">Locust - 2.34.1(211211905)
&lt;/h2>&lt;p>created: 2025-04-09T08:04:12Z&lt;/p>
&lt;h3 id="whats-changed">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Bump vite from 6.2.4 to 6.2.5 in /locust/webui by @dependabot in &lt;a class="link" href="https://github.com/locustio/locust/pull/3091" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3091&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Drop support for Python 3.9 by @cyberw in &lt;a class="link" href="https://github.com/locustio/locust/pull/3090" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3090&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/locustio/locust/compare/2.34.0...2.34.1" target="_blank" rel="noopener"
>https://github.com/locustio/locust/compare/2.34.0...2.34.1&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="locust---2340210617594">Locust - 2.34.0(210617594)
&lt;/h2>&lt;p>created: 2025-04-06T18:22:44Z&lt;/p>
&lt;h3 id="whats-changed-1">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Add OpenAI User and example by @cyberw in &lt;a class="link" href="https://github.com/locustio/locust/pull/3081" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3081&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Make the Locust UI Responsive by @andrewbaldwin44 in &lt;a class="link" href="https://github.com/locustio/locust/pull/3083" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3083&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>FastHttpUser: Dont crash if parameters are passed to failure() when someone forgot catch_response=True by @cyberw in &lt;a class="link" href="https://github.com/locustio/locust/pull/3085" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3085&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Bump vite from 6.2.1 to 6.2.4 in /locust/webui by @dependabot in &lt;a class="link" href="https://github.com/locustio/locust/pull/3087" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3087&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Web UI: Offset Graph Legend so There&amp;rsquo;s no Overlap on Mobile / Narrow Screens by @andrewbaldwin44 in &lt;a class="link" href="https://github.com/locustio/locust/pull/3086" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3086&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Fix missing optional argument definitions in PostKwargs by @kairi003 in &lt;a class="link" href="https://github.com/locustio/locust/pull/3088" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3088&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="new-contributors">New Contributors
&lt;/h3>&lt;ul>
&lt;li>@kairi003 made their first contribution in &lt;a class="link" href="https://github.com/locustio/locust/pull/3088" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3088&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/locustio/locust/compare/2.33.2...2.34.0" target="_blank" rel="noopener"
>https://github.com/locustio/locust/compare/2.33.2...2.34.0&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="locust---2332206010286">Locust - 2.33.2(206010286)
&lt;/h2>&lt;p>created: 2025-03-14T22:22:14Z&lt;/p>
&lt;h3 id="whats-changed-2">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Update uv to 0.6.5 and optimize docker start time by @cyberw in &lt;a class="link" href="https://github.com/locustio/locust/pull/3073" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3073&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Webui: Bump Vite Version for Dependabot by @andrewbaldwin44 in &lt;a class="link" href="https://github.com/locustio/locust/pull/3074" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3074&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Optimize unit tests by @cyberw in &lt;a class="link" href="https://github.com/locustio/locust/pull/3078" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3078&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update ruff to 0.10.0 by @cyberw in &lt;a class="link" href="https://github.com/locustio/locust/pull/3079" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3079&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Bump @babel/runtime from 7.22.15 to 7.26.10 in /locust/webui by @dependabot in &lt;a class="link" href="https://github.com/locustio/locust/pull/3080" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3080&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/locustio/locust/compare/2.33.1...2.33.2" target="_blank" rel="noopener"
>https://github.com/locustio/locust/compare/2.33.1...2.33.2&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="locust---2331204546609">Locust - 2.33.1(204546609)
&lt;/h2>&lt;p>created: 2025-03-08T19:19:29Z&lt;/p>
&lt;h3 id="whats-changed-3">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>Fix html file naming crash, simplify code by @cyberw in &lt;a class="link" href="https://github.com/locustio/locust/pull/3072" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3072&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/locustio/locust/compare/2.33.0...2.33.1" target="_blank" rel="noopener"
>https://github.com/locustio/locust/compare/2.33.0...2.33.1&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="locust---2330202036971">Locust - 2.33.0(202036971)
&lt;/h2>&lt;p>created: 2025-02-22T08:19:21Z&lt;/p>
&lt;h3 id="whats-changed-4">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Bump vitest from 2.1.6 to 2.1.9 in /locust/webui by @dependabot in &lt;a class="link" href="https://github.com/locustio/locust/pull/3044" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3044&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Remove uv lock file from build artifacts by @mquinnfd in &lt;a class="link" href="https://github.com/locustio/locust/pull/3055" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3055&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>FastHttpUser: Accept brotli and zstd compression encoding by @kamilbednarz in &lt;a class="link" href="https://github.com/locustio/locust/pull/3048" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3048&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Improve error message on missing user_count or spawn_rate in swarm payload by @cyberw in &lt;a class="link" href="https://github.com/locustio/locust/pull/3052" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3052&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Enable HTML Report Filename Parsing by @ktchani in &lt;a class="link" href="https://github.com/locustio/locust/pull/3049" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3049&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update vite to 6.0.11 by @cyberw in &lt;a class="link" href="https://github.com/locustio/locust/pull/3056" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3056&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Use enter to automatically open web UI in default browser by @cyberw in &lt;a class="link" href="https://github.com/locustio/locust/pull/3057" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3057&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>dos: correct venv activation path in docs by @n0h0 in &lt;a class="link" href="https://github.com/locustio/locust/pull/3058" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3058&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>docs: update python-requests documentation links by @n0h0 in &lt;a class="link" href="https://github.com/locustio/locust/pull/3059" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3059&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="new-contributors-1">New Contributors
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>@kamilbednarz made their first contribution in &lt;a class="link" href="https://github.com/locustio/locust/pull/3048" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3048&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@ktchani made their first contribution in &lt;a class="link" href="https://github.com/locustio/locust/pull/3049" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3049&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@n0h0 made their first contribution in &lt;a class="link" href="https://github.com/locustio/locust/pull/3058" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3058&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/locustio/locust/compare/2.32.10...2.33.0" target="_blank" rel="noopener"
>https://github.com/locustio/locust/compare/2.32.10...2.33.0&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="locust---23210200915050">Locust - 2.32.10(200915050)
&lt;/h2>&lt;p>created: 2025-02-18T13:04:05Z&lt;/p>
&lt;h3 id="whats-changed-5">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Use uv/hatch instead of Poetry by @mquinnfd in &lt;a class="link" href="https://github.com/locustio/locust/pull/3039" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3039&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add uv lock file to builds by @mquinnfd in &lt;a class="link" href="https://github.com/locustio/locust/pull/3047" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3047&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/locustio/locust/compare/2.32.9...2.32.10" target="_blank" rel="noopener"
>https://github.com/locustio/locust/compare/2.32.9...2.32.10&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="locust---2329199352874">Locust - 2.32.9(199352874)
&lt;/h2>&lt;p>created: 2025-02-10T11:39:51Z&lt;/p>
&lt;h3 id="whats-changed-6">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Fix issue where empty WebUI property is not parsed correctly by @timhovius in &lt;a class="link" href="https://github.com/locustio/locust/pull/3012" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3012&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update docs for stats.py file by @gabriel-check24 in &lt;a class="link" href="https://github.com/locustio/locust/pull/3038" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3038&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add iter_lines Method to FastHttpSession Class by @MasterKey-Pro in &lt;a class="link" href="https://github.com/locustio/locust/pull/3024" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3024&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="new-contributors-2">New Contributors
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>@timhovius made their first contribution in &lt;a class="link" href="https://github.com/locustio/locust/pull/3012" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3012&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@gabriel-check24 made their first contribution in &lt;a class="link" href="https://github.com/locustio/locust/pull/3038" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3038&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@MasterKey-Pro made their first contribution in &lt;a class="link" href="https://github.com/locustio/locust/pull/3024" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3024&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/locustio/locust/compare/2.32.8...2.32.9" target="_blank" rel="noopener"
>https://github.com/locustio/locust/compare/2.32.8...2.32.9&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="locust---2328197644285">Locust - 2.32.8(197644285)
&lt;/h2>&lt;p>created: 2025-01-30T18:50:45Z&lt;/p>
&lt;p>Fix a single broken link in the UI&lt;/p>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/locustio/locust/compare/2.32.7...2.32.8" target="_blank" rel="noopener"
>https://github.com/locustio/locust/compare/2.32.7...2.32.8&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="locust---2327197636324">Locust - 2.32.7(197636324)
&lt;/h2>&lt;p>created: 2025-01-30T18:08:13Z&lt;/p>
&lt;h3 id="whats-changed-7">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>fix readme image ref links by @changchaishi in &lt;a class="link" href="https://github.com/locustio/locust/pull/3031" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3031&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add tab with locust cloud features by @andrewbaldwin44 in &lt;a class="link" href="https://github.com/locustio/locust/pull/3032" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3032&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Allow xAxis and Grid to be Configured in Echarts by @andrewbaldwin44 in &lt;a class="link" href="https://github.com/locustio/locust/pull/3035" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3035&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Allow Empty Tables when Filtering by @andrewbaldwin44 in &lt;a class="link" href="https://github.com/locustio/locust/pull/3036" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3036&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Web UI: Allow Showing Only an Error Message on the Login Page by @andrewbaldwin44 in &lt;a class="link" href="https://github.com/locustio/locust/pull/3037" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3037&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Code quality: Fix unused imports and switch on related ruff check by @insspb in &lt;a class="link" href="https://github.com/locustio/locust/pull/3034" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3034&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="new-contributors-3">New Contributors
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>@changchaishi made their first contribution in &lt;a class="link" href="https://github.com/locustio/locust/pull/3031" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3031&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@insspb made their first contribution in &lt;a class="link" href="https://github.com/locustio/locust/pull/3034" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3034&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/locustio/locust/compare/2.32.6...2.32.7" target="_blank" rel="noopener"
>https://github.com/locustio/locust/compare/2.32.6...2.32.7&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="locust---2326194415391">Locust - 2.32.6(194415391)
&lt;/h2>&lt;p>created: 2025-01-13T14:57:16Z&lt;/p>
&lt;h3 id="whats-changed-8">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Update LICENSE, fix copyright license year by @JasonnnW3000 in &lt;a class="link" href="https://github.com/locustio/locust/pull/3019" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3019&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Optimize run time of some unit tests by @cyberw in &lt;a class="link" href="https://github.com/locustio/locust/pull/3020" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3020&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>pin poetry-core version to &amp;lt;2.0.0 in pyproject.toml by @mgor in &lt;a class="link" href="https://github.com/locustio/locust/pull/3025" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3025&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Move some argument parsing/validation from main.py to argument_parser.py and remove deprecated parameter &amp;ndash;hatch-rate by @ftb-skry in &lt;a class="link" href="https://github.com/locustio/locust/pull/3026" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3026&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update tests to check for hostname instead of fqdn by @ajt89 in &lt;a class="link" href="https://github.com/locustio/locust/pull/3027" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3027&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update Dockerfile to use Python 3.12 as base by @vejmoj1 in &lt;a class="link" href="https://github.com/locustio/locust/pull/3029" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3029&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="new-contributors-4">New Contributors
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>@JasonnnW3000 made their first contribution in &lt;a class="link" href="https://github.com/locustio/locust/pull/3019" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3019&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@ftb-skry made their first contribution in &lt;a class="link" href="https://github.com/locustio/locust/pull/3026" target="_blank" rel="noopener"
>https://github.com/locustio/locust/pull/3026&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/locustio/locust/compare/2.32.5...2.32.6" target="_blank" rel="noopener"
>https://github.com/locustio/locust/compare/2.32.5...2.32.6&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;blockquote>
&lt;p>完整清单，请访问官方列表: &lt;a class="link" href="https://github.com/locustio/locust/releases" target="_blank" rel="noopener"
> Locust 发布清单&lt;/a>&lt;/p>&lt;/blockquote></description></item><item><title>Pandas 发布历史 (latest 10)</title><link>https://chengxiaqiucao.github.io/page/pandas-10/</link><pubDate>Tue, 15 Apr 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/page/pandas-10/</guid><description>&lt;h1 id="pandas-发布历史-latest-10">Pandas 发布历史 (latest 10)
&lt;/h1>&lt;hr>
&lt;h2 id="pandas---pandas-223176105602">Pandas - Pandas 2.2.3(176105602)
&lt;/h2>&lt;p>created: 2024-09-20T12:22:13Z&lt;/p>
&lt;p>We are pleased to announce the release of pandas 2.2.3.&lt;/p>
&lt;p>This release includes some new features, bug fixes, and performance improvements. We recommend that all users upgrade to this version.&lt;/p>
&lt;p>See the &lt;a class="link" href="https://pandas.pydata.org/pandas-docs/version/2.2.3/whatsnew/v2.2.3.html" target="_blank" rel="noopener"
>full whatsnew&lt;/a> for a list of all the changes.&lt;/p>
&lt;p>Pandas 2.2.3 supports Python 3.9 and higher.&lt;/p>
&lt;p>The release will be available on the defaults and conda-forge channels:&lt;/p>
&lt;pre>&lt;code>conda install pandas
&lt;/code>&lt;/pre>
&lt;p>Or via PyPI:&lt;/p>
&lt;pre>&lt;code>python3 -m pip install --upgrade pandas
&lt;/code>&lt;/pre>
&lt;p>Please report any issues with the release on the &lt;a class="link" href="https://github.com/pandas-dev/pandas/issues" target="_blank" rel="noopener"
>pandas issue tracker&lt;/a>.&lt;/p>
&lt;p>Thanks to all the contributors who made this release possible.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="pandas---pandas-222150642273">Pandas - Pandas 2.2.2(150642273)
&lt;/h2>&lt;p>created: 2024-04-10T17:43:07Z&lt;/p>
&lt;p>We are pleased to announce the release of pandas 2.2.2.&lt;/p>
&lt;p>This release includes some new features, bug fixes, and performance improvements. We recommend that all users upgrade to this version.&lt;/p>
&lt;p>See the &lt;a class="link" href="https://pandas.pydata.org/pandas-docs/version/2.2.2/whatsnew/v2.2.2.html" target="_blank" rel="noopener"
>full whatsnew&lt;/a> for a list of all the changes.&lt;/p>
&lt;p>Pandas 2.2.2 supports Python 3.9 and higher.&lt;/p>
&lt;p>The release will be available on the defaults and conda-forge channels:&lt;/p>
&lt;pre>&lt;code>conda install pandas
&lt;/code>&lt;/pre>
&lt;p>Or via PyPI:&lt;/p>
&lt;pre>&lt;code>python3 -m pip install --upgrade pandas
&lt;/code>&lt;/pre>
&lt;p>Please report any issues with the release on the &lt;a class="link" href="https://github.com/pandas-dev/pandas/issues" target="_blank" rel="noopener"
>pandas issue tracker&lt;/a>.&lt;/p>
&lt;p>Thanks to all the contributors who made this release possible.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="pandas---pandas-221143372919">Pandas - Pandas 2.2.1(143372919)
&lt;/h2>&lt;p>created: 2024-02-23T14:49:46Z&lt;/p>
&lt;p>We are pleased to announce the release of pandas 2.2.1.&lt;/p>
&lt;p>This release includes some new features, bug fixes, and performance improvements. We recommend that all users upgrade to this version.&lt;/p>
&lt;p>See the &lt;a class="link" href="https://pandas.pydata.org/pandas-docs/version/2.2.1/whatsnew/v2.2.1.html" target="_blank" rel="noopener"
>full whatsnew&lt;/a> for a list of all the changes.&lt;/p>
&lt;p>Pandas 2.2.1 supports Python 3.9 and higher.&lt;/p>
&lt;p>The release will be available on the defaults and conda-forge channels:&lt;/p>
&lt;pre>&lt;code>conda install pandas
&lt;/code>&lt;/pre>
&lt;p>Or via PyPI:&lt;/p>
&lt;pre>&lt;code>python3 -m pip install --upgrade pandas
&lt;/code>&lt;/pre>
&lt;p>Please report any issues with the release on the &lt;a class="link" href="https://github.com/pandas-dev/pandas/issues" target="_blank" rel="noopener"
>pandas issue tracker&lt;/a>.&lt;/p>
&lt;p>Thanks to all the contributors who made this release possible.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="pandas---pandas-220137829288">Pandas - Pandas 2.2.0(137829288)
&lt;/h2>&lt;p>created: 2024-01-20T00:39:39Z&lt;/p>
&lt;p>We are pleased to announce the release of pandas 2.2.0.&lt;/p>
&lt;p>This release includes some new features, bug fixes, and performance improvements. We recommend that all users upgrade to this version.&lt;/p>
&lt;p>See the &lt;a class="link" href="https://pandas.pydata.org/pandas-docs/version/2.2.0/whatsnew/v2.2.0.html" target="_blank" rel="noopener"
>full whatsnew&lt;/a> for a list of all the changes.&lt;/p>
&lt;p>Pandas 2.2.0 supports Python 3.9 and higher.&lt;/p>
&lt;p>The release will be available on the defaults and conda-forge channels:&lt;/p>
&lt;pre>&lt;code>conda install pandas
&lt;/code>&lt;/pre>
&lt;p>Or via PyPI:&lt;/p>
&lt;pre>&lt;code>python3 -m pip install --upgrade pandas
&lt;/code>&lt;/pre>
&lt;p>Please report any issues with the release on the &lt;a class="link" href="https://github.com/pandas-dev/pandas/issues" target="_blank" rel="noopener"
>pandas issue tracker&lt;/a>.&lt;/p>
&lt;p>Thanks to all the contributors who made this release possible.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="pandas---pandas-220rc0134944237">Pandas - Pandas 2.2.0rc0(134944237)
&lt;/h2>&lt;p>created: 2023-12-22T19:19:29Z&lt;/p>
&lt;p>We are pleased to announce a release candidate for pandas 2.2.0. If all goes well, we&amp;rsquo;ll release pandas 2.2.0 in about two weeks.&lt;/p>
&lt;p>See the &lt;a class="link" href="https://pandas.pydata.org/pandas-docs/version/2.2.0rc0/whatsnew/v2.2.0.html" target="_blank" rel="noopener"
>whatsnew&lt;/a> for a list of all the changes.&lt;/p>
&lt;p>The release will be available on conda-forge and PyPI.&lt;/p>
&lt;p>The release can be installed from PyPI&lt;/p>
&lt;p>python -m pip install &amp;ndash;upgrade &amp;ndash;pre pandas==2.2.0rc0&lt;/p>
&lt;p>Or from conda-forge&lt;/p>
&lt;p>conda install -c conda-forge/label/pandas_rc pandas==2.2.0rc0&lt;/p>
&lt;p>Please report any issues with the release candidate on the pandas issue tracker.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="pandas---pandas-214133190183">Pandas - Pandas 2.1.4(133190183)
&lt;/h2>&lt;p>created: 2023-12-08T14:18:01Z&lt;/p>
&lt;p>This is a patch release in the 2.1.x series and includes some regression and bug fixes, and a security fix. We recommend that all users upgrade to this version.&lt;/p>
&lt;p>See the &lt;a class="link" href="https://pandas.pydata.org/pandas-docs/version/2.1.4/whatsnew/v2.1.4.html" target="_blank" rel="noopener"
>full whatsnew&lt;/a> for a list of all the changes.&lt;/p>
&lt;p>The release will be available on the defaults and conda-forge channels:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">conda install pandas
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Or via PyPI:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">python3 -m pip install --upgrade pandas
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Please report any issues with the release on the &lt;a class="link" href="https://github.com/pandas-dev/pandas/issues" target="_blank" rel="noopener"
>pandas issue tracker&lt;/a>.&lt;/p>
&lt;p>Thanks to all the contributors who made this release possible.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="pandas---pandas-213128962786">Pandas - Pandas 2.1.3(128962786)
&lt;/h2>&lt;p>created: 2023-11-10T17:14:22Z&lt;/p>
&lt;p>This is a patch release in the 2.1.x series and includes some regression and bug fixes, and a security fix. We recommend that all users upgrade to this version.&lt;/p>
&lt;p>See the &lt;a class="link" href="https://pandas.pydata.org/pandas-docs/version/2.1.3/whatsnew/v2.1.3.html" target="_blank" rel="noopener"
>full whatsnew&lt;/a> for a list of all the changes.&lt;/p>
&lt;p>The release will be available on the defaults and conda-forge channels:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">conda install pandas
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Or via PyPI:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">python3 -m pip install --upgrade pandas
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Please report any issues with the release on the &lt;a class="link" href="https://github.com/pandas-dev/pandas/issues" target="_blank" rel="noopener"
>pandas issue tracker&lt;/a>.&lt;/p>
&lt;p>Thanks to all the contributors who made this release possible.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="pandas---pandas-212126858400">Pandas - Pandas 2.1.2(126858400)
&lt;/h2>&lt;p>created: 2023-10-26T16:09:02Z&lt;/p>
&lt;p>This is a patch release in the 2.1.x series and includes some regression and bug fixes. We recommend that all users upgrade to this version.&lt;/p>
&lt;p>See the &lt;a class="link" href="https://pandas.pydata.org/pandas-docs/version/2.1.2/whatsnew/v2.1.2.html" target="_blank" rel="noopener"
>full whatsnew&lt;/a> for a list of all the changes.&lt;/p>
&lt;p>The release will be available on the defaults and conda-forge channels:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">conda install pandas
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Or via PyPI:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">python3 -m pip install --upgrade pandas
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Please report any issues with the release on the &lt;a class="link" href="https://github.com/pandas-dev/pandas/issues" target="_blank" rel="noopener"
>pandas issue tracker&lt;/a>.&lt;/p>
&lt;p>Thanks to all the contributors who made this release possible.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="pandas---pandas-211121935136">Pandas - Pandas 2.1.1(121935136)
&lt;/h2>&lt;p>created: 2023-09-20T19:25:04Z&lt;/p>
&lt;p>This is a patch release in the 2.1.x series and includes some regression and bug fixes. We recommend that all users upgrade to this version.&lt;/p>
&lt;p>See the &lt;a class="link" href="https://pandas.pydata.org/pandas-docs/version/2.1.1/whatsnew/v2.1.1.html" target="_blank" rel="noopener"
>full whatsnew&lt;/a> for a list of all the changes.&lt;/p>
&lt;p>The release will be available on the defaults and conda-forge channels:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">conda install pandas
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Or via PyPI:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">python3 -m pip install --upgrade pandas
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Please report any issues with the release on the &lt;a class="link" href="https://github.com/pandas-dev/pandas/issues" target="_blank" rel="noopener"
>pandas issue tracker&lt;/a>.&lt;/p>
&lt;p>Thanks to all the contributors who made this release possible.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="pandas---pandas-210119237604">Pandas - Pandas 2.1.0(119237604)
&lt;/h2>&lt;p>created: 2023-08-30T11:28:32Z&lt;/p>
&lt;p>We are pleased to announce the release of pandas 2.1.0.&lt;/p>
&lt;p>This release includes some new features, bug fixes, and performance improvements. We recommend that all users upgrade to this version.&lt;/p>
&lt;p>See the &lt;a class="link" href="https://pandas.pydata.org/pandas-docs/version/2.1.0/whatsnew/v2.1.0.html" target="_blank" rel="noopener"
>full whatsnew&lt;/a> for a list of all the changes.&lt;/p>
&lt;p>Pandas 2.1.0 supports Python 3.9 and higher.&lt;/p>
&lt;p>The release will be available on the defaults and conda-forge channels:&lt;/p>
&lt;pre>&lt;code>conda install pandas
&lt;/code>&lt;/pre>
&lt;p>Or via PyPI:&lt;/p>
&lt;pre>&lt;code>python3 -m pip install --upgrade pandas
&lt;/code>&lt;/pre>
&lt;p>Please report any issues with the release on the &lt;a class="link" href="https://github.com/pandas-dev/pandas/issues" target="_blank" rel="noopener"
>pandas issue tracker&lt;/a>.&lt;/p>
&lt;p>Thanks to all the contributors who made this release possible.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;blockquote>
&lt;p>完整清单，请访问官方列表: &lt;a class="link" href="https://github.com/pandas-dev/pandas/releases" target="_blank" rel="noopener"
> Pandas 发布清单&lt;/a>&lt;/p>&lt;/blockquote></description></item><item><title>PlayWright 发布历史 (latest 10)</title><link>https://chengxiaqiucao.github.io/page/playwright-10/</link><pubDate>Tue, 15 Apr 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/page/playwright-10/</guid><description>&lt;h1 id="playwright-发布历史-latest-10">PlayWright 发布历史 (latest 10)
&lt;/h1>&lt;hr>
&lt;h2 id="playwright---v1510206485154">PlayWright - v1.51.0(206485154)
&lt;/h2>&lt;p>created: 2025-03-18T09:07:28Z&lt;/p>
&lt;h3 id="highlights">Highlights
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>New option &lt;a class="link" href="https://playwright.dev/python/docs/api/class-browsercontext#browser-context-storage-state-option-indexed-db" target="_blank" rel="noopener"
>&lt;code>indexed_db&lt;/code>&lt;/a> for &lt;a class="link" href="https://playwright.dev/python/docs/api/class-browsercontext#browser-context-storage-state" target="_blank" rel="noopener"
>browserContext.storage_state()&lt;/a> allows to save and restore IndexedDB contents. Useful when your application uses &lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API" target="_blank" rel="noopener"
>IndexedDB API&lt;/a> to store authentication tokens, like Firebase Authentication.&lt;/p>
&lt;p>Here is an example following the &lt;a class="link" href="https://playwright.dev/python/docs/auth#reusing-signed-in-state" target="_blank" rel="noopener"
>authentication guide&lt;/a>:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Save storage state into the file. Make sure to include IndexedDB.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">storage&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">context&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">storage_state&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;state.json&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">indexed_db&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Create a new context with the saved storage state.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">context&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">browser&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">new_context&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">storage_state&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;state.json&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>New option &lt;a class="link" href="https://playwright.dev/python/docs/api/class-locator#locator-filter-option-visible" target="_blank" rel="noopener"
>&lt;code>visible&lt;/code>&lt;/a> for &lt;a class="link" href="https://playwright.dev/python/docs/api/class-locator#locator-filter" target="_blank" rel="noopener"
>locator.filter()&lt;/a> allows matching only visible elements.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Ignore invisible todo items.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">todo_items&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_by_test_id&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;todo-item&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">filter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">visible&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Check there are exactly 3 visible ones.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">todo_items&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to_have_count&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>New option &lt;code>contrast&lt;/code> for methods &lt;a class="link" href="https://playwright.dev/python/docs/api/class-page#page-emulate-media" target="_blank" rel="noopener"
>page.emulate_media()&lt;/a> and &lt;a class="link" href="https://playwright.dev/python/docs/api/class-browser#browser-new-context" target="_blank" rel="noopener"
>browser.new_context()&lt;/a> allows to emulate the &lt;code>prefers-contrast&lt;/code> media feature.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>New option &lt;a class="link" href="https://playwright.dev/python/docs/api/class-apirequest#api-request-new-context-option-fail-on-status-code" target="_blank" rel="noopener"
>&lt;code>fail_on_status_code&lt;/code>&lt;/a> makes all fetch requests made through the &lt;a class="link" href="https://playwright.dev/python/docs/api/class-apirequestcontext" target="_blank" rel="noopener"
>APIRequestContext&lt;/a> throw on response codes other than 2xx and 3xx.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="browser-versions">Browser Versions
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Chromium 134.0.6998.35&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Mozilla Firefox 135.0&lt;/p>
&lt;/li>
&lt;li>
&lt;p>WebKit 18.4&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>This version was also tested against the following stable channels:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Google Chrome 133&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Microsoft Edge 133&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="playwright---v1500198109857">PlayWright - v1.50.0(198109857)
&lt;/h2>&lt;p>created: 2025-02-03T14:34:24Z&lt;/p>
&lt;h3 id="async-pytest-plugin">Async Pytest Plugin
&lt;/h3>&lt;ul>
&lt;li>&lt;a class="link" href="https://playwright.dev/python/docs/test-runners" target="_blank" rel="noopener"
>Playwright&amp;rsquo;s Pytest plugin&lt;/a> now has support for &lt;a class="link" href="https://playwright.dev/python/docs/test-runners#async-fixtures" target="_blank" rel="noopener"
>Async Fixtures&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h3 id="miscellaneous">Miscellaneous
&lt;/h3>&lt;ul>
&lt;li>Added method &lt;a class="link" href="https://playwright.dev/python/docs/api/class-locatorassertions#locator-assertions-to-have-accessible-error-message" target="_blank" rel="noopener"
>expect(locator).to_have_accessible_error_message()&lt;/a> to assert the Locator points to an element with a given &lt;a class="link" href="https://w3c.github.io/aria/#aria-errormessage" target="_blank" rel="noopener"
>aria errormessage&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h3 id="ui-updates">UI updates
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>New button in Codegen for picking elements to produce aria snapshots.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Additional details (such as keys pressed) are now displayed alongside action API calls in traces.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Display of &lt;code>canvas&lt;/code> content in traces is error-prone. Display is now disabled by default, and can be enabled via the &lt;code>Display canvas content&lt;/code> UI setting.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>Call&lt;/code> and &lt;code>Network&lt;/code> panels now display additional time information.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="breaking">Breaking
&lt;/h3>&lt;ul>
&lt;li>&lt;a class="link" href="https://playwright.dev/python/docs/api/class-locatorassertions#locator-assertions-to-be-editable" target="_blank" rel="noopener"
>expect(locator).to_be_editable()&lt;/a> and &lt;a class="link" href="https://playwright.dev/python/docs/api/class-locator#locator-is-editable" target="_blank" rel="noopener"
>locator.is_editable()&lt;/a> now throw if the target element is not &lt;code>&amp;lt;input&amp;gt;&lt;/code>, &lt;code>&amp;lt;select&amp;gt;&lt;/code>, or a number of other editable elements.&lt;/li>
&lt;/ul>
&lt;h3 id="browser-versions-1">Browser Versions
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Chromium 133.0.6943.16&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Mozilla Firefox 134.0&lt;/p>
&lt;/li>
&lt;li>
&lt;p>WebKit 18.2&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>This version was also tested against the following stable channels:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Google Chrome 132&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Microsoft Edge 132&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="playwright---v1491189303420">PlayWright - v1.49.1(189303420)
&lt;/h2>&lt;p>created: 2024-12-10T17:23:16Z&lt;/p>
&lt;h4 id="highlights-1">Highlights
&lt;/h4>&lt;p>&lt;a class="link" href="https://github.com/microsoft/playwright-python/issues/2679" target="_blank" rel="noopener"
>https://github.com/microsoft/playwright-python/issues/2679&lt;/a> - [Bug]: Warning: Validation of the RECORD file of playwright-1.49.0-py3-none-manylinux1_x86_64.whl failed&lt;/p>
&lt;h3 id="browser-versions-2">Browser Versions
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Chromium 131.0.6778.33&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Mozilla Firefox 132.0&lt;/p>
&lt;/li>
&lt;li>
&lt;p>WebKit 18.2&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>This version was also tested against the following stable channels:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Google Chrome 130&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Microsoft Edge 130&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="playwright---v1490186876580">PlayWright - v1.49.0(186876580)
&lt;/h2>&lt;p>created: 2024-11-22T12:17:38Z&lt;/p>
&lt;h3 id="aria-snapshots">Aria snapshots
&lt;/h3>&lt;p>New assertion &lt;a class="link" href="https://playwright.dev/python/docs/api/class-locatorassertions#locator-assertions-to-match-aria-snapshot" target="_blank" rel="noopener"
>expect(locator).toMatchAriaSnapshot()&lt;/a> verifies page structure by comparing to an expected accessibility tree, represented as YAML.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">goto&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;https://playwright.dev&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">locator&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;body&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to_match_aria_snapshot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> - banner:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> - heading /Playwright enables reliable/ [level=1]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> - link &amp;#34;Get started&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> - link &amp;#34;Star microsoft/playwright on GitHub&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> - main:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> - img &amp;#34;Browsers (Chromium, Firefox, WebKit)&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> - heading &amp;#34;Any browser • Any platform • One API&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">&amp;#39;&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>You can generate this assertion with &lt;a class="link" href="https://playwright.dev/python/docs/codegen" target="_blank" rel="noopener"
>Test Generator&lt;/a> or by calling &lt;a class="link" href="https://playwright.dev/python/docs/api/class-locator#locator-aria-snapshot" target="_blank" rel="noopener"
>locator.ariaSnapshot()&lt;/a>.&lt;/p>
&lt;p>Learn more in the &lt;a class="link" href="https://playwright.dev/python/docs/aria-snapshots" target="_blank" rel="noopener"
>aria snapshots guide&lt;/a>.&lt;/p>
&lt;h3 id="tracing-groups">Tracing groups
&lt;/h3>&lt;p>New method &lt;a class="link" href="https://playwright.dev/python/docs/api/class-tracing#tracing-group" target="_blank" rel="noopener"
>tracing.group()&lt;/a> allows you to visually group actions in the trace viewer.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## All actions between group and group_end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## will be shown in the trace viewer as a group.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tracing&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">group&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Open Playwright.dev &amp;gt; API&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">goto&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;https://playwright.dev/&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_by_role&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;link&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;API&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">click&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tracing&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">group_end&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="breaking-chrome-and-msedge-channels-switch-to-new-headless-mode">Breaking: &lt;code>chrome&lt;/code> and &lt;code>msedge&lt;/code> channels switch to new headless mode
&lt;/h3>&lt;p>This change affects you if you&amp;rsquo;re using one of the following channels in your &lt;code>playwright.config.ts&lt;/code>:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>chrome&lt;/code>, &lt;code>chrome-dev&lt;/code>, &lt;code>chrome-beta&lt;/code>, or &lt;code>chrome-canary&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>msedge&lt;/code>, &lt;code>msedge-dev&lt;/code>, &lt;code>msedge-beta&lt;/code>, or &lt;code>msedge-canary&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>After updating to Playwright v1.49, run your test suite. If it still passes, you&amp;rsquo;re good to go. If not, you will probably need to update your snapshots, and adapt some of your test code around PDF viewers and extensions. See &lt;a class="link" href="https://github.com/microsoft/playwright/issues/33566" target="_blank" rel="noopener"
>issue #33566&lt;/a> for more details.&lt;/p>
&lt;h3 id="try-new-chromium-headless">Try new Chromium headless
&lt;/h3>&lt;p>You can opt into the new headless mode by using &lt;code>'chromium'&lt;/code> channel. As &lt;a class="link" href="https://developer.chrome.com/blog/chrome-headless-shell" target="_blank" rel="noopener"
>official Chrome documentation puts it&lt;/a>:&lt;/p>
&lt;blockquote>
&lt;p>New Headless on the other hand is the real Chrome browser, and is thus more authentic, reliable, and offers more features. This makes it more suitable for high-accuracy end-to-end web app testing or browser extension testing.&lt;/p>&lt;/blockquote>
&lt;p>See &lt;a class="link" href="https://github.com/microsoft/playwright/issues/33566" target="_blank" rel="noopener"
>issue #33566&lt;/a> for the list of possible breakages you could encounter and more details on Chromium headless. Please file an issue if you see any problems after opting in.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pytest test_login.py --browser-channel chromium
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="miscellaneous-1">Miscellaneous
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>There will be no more updates for WebKit on Ubuntu 20.04 and Debian 11. We recommend updating your OS to a later version.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>&amp;lt;canvas&amp;gt;&lt;/code> elements inside a snapshot now draw a preview.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Python 3.8 is not supported anymore.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="browser-versions-3">Browser Versions
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Chromium 131.0.6778.33&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Mozilla Firefox 132.0&lt;/p>
&lt;/li>
&lt;li>
&lt;p>WebKit 18.2&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>This version was also tested against the following stable channels:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Google Chrome 130&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Microsoft Edge 130&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="playwright---v1480181013094">PlayWright - v1.48.0(181013094)
&lt;/h2>&lt;p>created: 2024-10-21T13:38:25Z&lt;/p>
&lt;h3 id="websocket-routing">WebSocket routing
&lt;/h3>&lt;p>New methods &lt;a class="link" href="https://playwright.dev/python/docs/api/class-page#page-route-web-socket" target="_blank" rel="noopener"
>page.route_web_socket()&lt;/a> and &lt;a class="link" href="https://playwright.dev/python/docs/api/class-browsercontext#browser-context-route-web-socket" target="_blank" rel="noopener"
>browser_context.route_web_socket()&lt;/a> allow to intercept, modify and mock WebSocket connections initiated in the page. Below is a simple example that mocks WebSocket communication by responding to a &lt;code>&amp;quot;request&amp;quot;&lt;/code> with a &lt;code>&amp;quot;response&amp;quot;&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">message_handler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ws&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">WebSocketRoute&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">message&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Union&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">bytes&lt;/span>&lt;span class="p">]):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">message&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;request&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ws&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;response&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">route_web_socket&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;/ws&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">lambda&lt;/span> &lt;span class="n">ws&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">ws&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">on_message&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">lambda&lt;/span> &lt;span class="n">message&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">message_handler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ws&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">message&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>See &lt;a class="link" href="https://playwright.dev/python/docs/api/class-websocketroute" target="_blank" rel="noopener"
>WebSocketRoute&lt;/a> for more details.&lt;/p>
&lt;h3 id="ui-updates-1">UI updates
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>New &amp;ldquo;copy&amp;rdquo; buttons for annotations and test location in the HTML report.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Route method calls like &lt;a class="link" href="https://playwright.dev/python/docs/api/class-route#route-fulfill" target="_blank" rel="noopener"
>route.fulfill()&lt;/a> are not shown in the report and trace viewer anymore. You can see which network requests were routed in the network tab instead.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>New &amp;ldquo;Copy as cURL&amp;rdquo; and &amp;ldquo;Copy as fetch&amp;rdquo; buttons for requests in the network tab.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="miscellaneous-2">Miscellaneous
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>New method &lt;a class="link" href="https://playwright.dev/python/docs/api/class-page#page-request-gc" target="_blank" rel="noopener"
>page.request_gc()&lt;/a> may help detect memory leaks.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Requests made by &lt;a class="link" href="https://playwright.dev/python/docs/api/class-apirequestcontext" target="_blank" rel="noopener"
>APIRequestContext&lt;/a> now record detailed timing and security information in the HAR.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>This version adds support for Python 3.13&lt;/p>
&lt;/li>
&lt;li>
&lt;p>This version is the last version supporting Python 3.8&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="browser-versions-4">Browser Versions
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Chromium 130.0.6723.19&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Mozilla Firefox 130.0&lt;/p>
&lt;/li>
&lt;li>
&lt;p>WebKit 18.0&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>This version was also tested against the following stable channels:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Google Chrome 129&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Microsoft Edge 129&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="playwright---v1470174724165">PlayWright - v1.47.0(174724165)
&lt;/h2>&lt;p>created: 2024-09-12T16:47:09Z&lt;/p>
&lt;h3 id="network-tab-improvements">Network Tab improvements
&lt;/h3>&lt;p>The Network tab in the trace viewer has several nice improvements:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>filtering by asset type and URL&lt;/p>
&lt;/li>
&lt;li>
&lt;p>better display of query string parameters&lt;/p>
&lt;/li>
&lt;li>
&lt;p>preview of font assets&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://github.com/user-attachments/assets/4bd1b67d-90bd-438b-a227-00b9e86872e2"
loading="lazy"
alt="Network tab now has filters"
>&lt;/p>
&lt;h3 id="miscellaneous-3">Miscellaneous
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>The &lt;code>mcr.microsoft.com/playwright-python:v1.47.0&lt;/code> now serves a Playwright image based on Ubuntu 24.04 Noble.&lt;/p>
&lt;p>To use the 22.04 jammy-based image, please use &lt;code>mcr.microsoft.com/playwright-python:v1.47.0-jammy&lt;/code> instead.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The &lt;code>:latest&lt;/code>/&lt;code>:focal&lt;/code>/&lt;code>:jammy&lt;/code> tag for Playwright Docker images is no longer being published. Pin to a specific version for better stability and reproducibility.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>TLS client certificates can now be passed from memory by passing &lt;code>cert&lt;/code> and &lt;code>key&lt;/code> as bytes instead of file paths.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>no_wait_after&lt;/code> in &lt;a class="link" href="https://playwright.dev/python/docs/api/class-locator#locator-select-option" target="_blank" rel="noopener"
>locator.selectOption()&lt;/a> was deprecated.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>We&amp;rsquo;ve seen reports of WebGL in Webkit misbehaving on GitHub Actions &lt;code>macos-13&lt;/code>. We recommend upgrading GitHub Actions to &lt;code>macos-14&lt;/code>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="browser-versions-5">Browser Versions
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Chromium 129.0.6668.29&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Mozilla Firefox 130.0&lt;/p>
&lt;/li>
&lt;li>
&lt;p>WebKit 18.0&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>This version was also tested against the following stable channels:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Google Chrome 128&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Microsoft Edge 128&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="playwright---v1460169759194">PlayWright - v1.46.0(169759194)
&lt;/h2>&lt;p>created: 2024-08-12T09:19:33Z&lt;/p>
&lt;h3 id="tls-client-certificates">TLS Client Certificates
&lt;/h3>&lt;p>Playwright now allows to supply client-side certificates, so that server can verify them, as specified by TLS Client Authentication.&lt;/p>
&lt;p>You can provide client certificates as a parameter of &lt;a class="link" href="https://playwright.dev/python/docs/api/class-browser#browser-new-context" target="_blank" rel="noopener"
>browser.new_context()&lt;/a> and &lt;a class="link" href="https://playwright.dev/python/docs/api/class-apirequest#api-request-new-context" target="_blank" rel="noopener"
>api_request.new_context()&lt;/a>. The following snippet sets up a client certificate for &lt;code>https://example.com&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">context&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">browser&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">new_context&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">client_certificates&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;origin&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://example.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;certPath&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;client-certificates/cert.pem&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;keyPath&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;client-certificates/key.pem&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>When using the &lt;a class="link" href="https://playwright.dev/python/docs/test-runners" target="_blank" rel="noopener"
>Pytest plugin&lt;/a>, it can be added like this:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@pytest.fixture&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scope&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;session&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">browser_context_args&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">browser_context_args&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">**&lt;/span>&lt;span class="n">browser_context_args&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;client_certificates&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;origin&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://example.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;certPath&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;client-certificates/cert.pem&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;keyPath&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;client-certificates/key.pem&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="trace-viewer-updates">Trace Viewer Updates
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Content of text attachments is now rendered inline in the attachments pane.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>New setting to show/hide routing actions like &lt;a class="link" href="https://playwright.dev/python/docs/api/class-route#route-continue" target="_blank" rel="noopener"
>route.continue_()&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Request method and status are shown in the network details tab.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>New button to copy source file location to clipboard.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Metadata pane now displays the &lt;code>base_url&lt;/code>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="miscellaneous-4">Miscellaneous
&lt;/h3>&lt;ul>
&lt;li>New &lt;code>max_retries&lt;/code> option in &lt;a class="link" href="https://playwright.dev/python/docs/api/class-apirequestcontext#api-request-context-fetch" target="_blank" rel="noopener"
>apiRequestContext.fetch()&lt;/a> which retries on the &lt;code>ECONNRESET&lt;/code> network error.&lt;/li>
&lt;/ul>
&lt;h3 id="browser-versions-6">Browser Versions
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Chromium 128.0.6613.18&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Mozilla Firefox 128.0&lt;/p>
&lt;/li>
&lt;li>
&lt;p>WebKit 18.0&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>This version was also tested against the following stable channels:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Google Chrome 127&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Microsoft Edge 127&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="playwright---v1451166673000">PlayWright - v1.45.1(166673000)
&lt;/h2>&lt;p>created: 2024-07-23T11:06:15Z&lt;/p>
&lt;h4 id="highlights-2">Highlights
&lt;/h4>&lt;p>&lt;a class="link" href="https://github.com/microsoft/playwright-java/issues/1617" target="_blank" rel="noopener"
>https://github.com/microsoft/playwright-java/issues/1617&lt;/a> - [Bug]: Trace Viewer not reporting all actions&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/microsoft/playwright/issues/31764" target="_blank" rel="noopener"
>https://github.com/microsoft/playwright/issues/31764&lt;/a> - [Bug]: some actions do not appear in the trace file&lt;/p>
&lt;h3 id="browser-versions-7">Browser Versions
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Chromium 127.0.6533.5&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Mozilla Firefox 127.0&lt;/p>
&lt;/li>
&lt;li>
&lt;p>WebKit 17.4&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>This version was also tested against the following stable channels:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Google Chrome 126&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Microsoft Edge 126&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="playwright---v1450163291316">PlayWright - v1.45.0(163291316)
&lt;/h2>&lt;p>created: 2024-07-03T09:11:07Z&lt;/p>
&lt;h3 id="clock">Clock
&lt;/h3>&lt;p>Utilizing the new &lt;a class="link" href="https://playwright.dev/python/docs/api/class-clock" target="_blank" rel="noopener"
>Clock&lt;/a> API allows to manipulate and control time within tests to verify time-related behavior. This API covers many common scenarios, including:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>testing with predefined time;&lt;/p>
&lt;/li>
&lt;li>
&lt;p>keeping consistent time and timers;&lt;/p>
&lt;/li>
&lt;li>
&lt;p>monitoring inactivity;&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ticking through time manually.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Initialize clock with some time before the test time and let the page load&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## naturally. `Date.now` will progress as the timers fire.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">clock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">install&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">datetime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">datetime&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">goto&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;http://localhost:3333&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Pretend that the user closed the laptop lid and opened it again at 10am.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Pause the time once reached that point.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">clock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">pause_at&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">datetime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">datetime&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Assert the page state.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_by_test_id&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;current-time&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to_have_text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;2/2/2024, 10:00:00 AM&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Close the laptop lid again and open it at 10:30am.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">clock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fast_forward&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;30:00&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_by_test_id&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;current-time&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to_have_text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;2/2/2024, 10:30:00 AM&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>See &lt;a class="link" href="https://playwright.dev/python/docs/clock" target="_blank" rel="noopener"
>the clock guide&lt;/a> for more details.&lt;/p>
&lt;h3 id="miscellaneous-5">Miscellaneous
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Method &lt;a class="link" href="https://playwright.dev/python/docs/api/class-locator#locator-set-input-files" target="_blank" rel="noopener"
>locator.setInputFiles()&lt;/a> now supports uploading a directory for &lt;code>&amp;lt;input type=file webkitdirectory&amp;gt;&lt;/code> elements.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_by_label&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Upload directory&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_input_files&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;mydir&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>Multiple methods like &lt;a class="link" href="https://playwright.dev/python/docs/api/class-locator#locator-click" target="_blank" rel="noopener"
>locator.click()&lt;/a> or &lt;a class="link" href="https://playwright.dev/python/docs/api/class-locator#locator-press" target="_blank" rel="noopener"
>locator.press()&lt;/a> now support a &lt;code>ControlOrMeta&lt;/code> modifier key. This key maps to &lt;code>Meta&lt;/code> on macOS and maps to &lt;code>Control&lt;/code> on Windows and Linux.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Press the common keyboard shortcut Control+S or Meta+S to trigger a &amp;#34;Save&amp;#34; operation.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">keyboard&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">press&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;ControlOrMeta+S&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>New property &lt;code>httpCredentials.send&lt;/code> in &lt;a class="link" href="https://playwright.dev/python/docs/api/class-apirequest#api-request-new-context" target="_blank" rel="noopener"
>apiRequest.newContext()&lt;/a> that allows to either always send the &lt;code>Authorization&lt;/code> header or only send it in response to &lt;code>401 Unauthorized&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Playwright now supports Chromium, Firefox and WebKit on Ubuntu 24.04.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>v1.45 is the last release to receive WebKit update for macOS 12 Monterey. Please update macOS to keep using the latest WebKit.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="browser-versions-8">Browser Versions
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Chromium 127.0.6533.5&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Mozilla Firefox 127.0&lt;/p>
&lt;/li>
&lt;li>
&lt;p>WebKit 17.4&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>This version was also tested against the following stable channels:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Google Chrome 126&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Microsoft Edge 126&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="playwright---v1440156230549">PlayWright - v1.44.0(156230549)
&lt;/h2>&lt;p>created: 2024-05-17T08:38:48Z&lt;/p>
&lt;h3 id="new-apis">New APIs
&lt;/h3>&lt;p>&lt;strong>Accessibility assertions&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://playwright.dev/python/docs/api/class-locatorassertions#locator-assertions-to-have-accessible-name" target="_blank" rel="noopener"
>expect(locator).to_have_accessible_name()&lt;/a> checks if the element has the specified accessible name:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">locator&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_by_role&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;button&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">locator&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to_have_accessible_name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Submit&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://playwright.dev/python/docs/api/class-locatorassertions#locator-assertions-to-have-accessible-description" target="_blank" rel="noopener"
>expect(locator).to_have_accessible_description()&lt;/a> checks if the element has the specified accessible description:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">locator&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_by_role&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;button&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">locator&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to_have_accessible_description&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Upload a photo&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://playwright.dev/python/docs/api/class-locatorassertions#locator-assertions-to-have-role" target="_blank" rel="noopener"
>expect(locator).to_have_role()&lt;/a> checks if the element has the specified ARIA role:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">locator&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_by_test_id&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;save-button&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">locator&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to_have_role&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;button&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Locator handler&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>After executing the handler added with &lt;a class="link" href="https://playwright.dev/python/docs/api/class-page#page-add-locator-handler" target="_blank" rel="noopener"
>page.add_locator_handler()&lt;/a>, Playwright will now wait until the overlay that triggered the handler is not visible anymore. You can opt-out of this behavior with the new &lt;code>no_wait_after&lt;/code> option.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>You can use new &lt;code>times&lt;/code> option in &lt;a class="link" href="https://playwright.dev/python/docs/api/class-page#page-add-locator-handler" target="_blank" rel="noopener"
>page.add_locator_handler()&lt;/a> to specify maximum number of times the handler should be run.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The handler in &lt;a class="link" href="https://playwright.dev/python/docs/api/class-page#page-add-locator-handler" target="_blank" rel="noopener"
>page.add_locator_handler()&lt;/a> now accepts the locator as argument.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>New &lt;a class="link" href="https://playwright.dev/python/docs/api/class-page#page-remove-locator-handler" target="_blank" rel="noopener"
>page.remove_locator_handler()&lt;/a> method for removing previously added locator handlers.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">locator&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_by_text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;This interstitial covers the button&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add_locator_handler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">locator&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">lambda&lt;/span> &lt;span class="n">overlay&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">overlay&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">locator&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;#close&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">click&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">times&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">no_wait_after&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Run your tests that can be interrupted by the overlay.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## ...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">remove_locator_handler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">locator&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>Miscellaneous options&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://playwright.dev/python/docs/api/class-pageassertions#page-assertions-to-have-url" target="_blank" rel="noopener"
>expect(page).to_have_url()&lt;/a> now supports &lt;code>ignore_case&lt;/code> &lt;a class="link" href="https://playwright.dev/python/docs/api/class-pageassertions#page-assertions-to-have-url-option-ignore-case" target="_blank" rel="noopener"
>option&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h3 id="browser-versions-9">Browser Versions
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Chromium 125.0.6422.14&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Mozilla Firefox 125.0.1&lt;/p>
&lt;/li>
&lt;li>
&lt;p>WebKit 17.4&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>This version was also tested against the following stable channels:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Google Chrome 124&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Microsoft Edge 124&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;blockquote>
&lt;p>完整清单，请访问官方列表: &lt;a class="link" href="https://github.com/microsoft/playwright-python/releases" target="_blank" rel="noopener"
> PlayWright 发布清单&lt;/a>&lt;/p>&lt;/blockquote></description></item><item><title>Prometheus 发布历史 (latest 10)</title><link>https://chengxiaqiucao.github.io/page/prometheus-10/</link><pubDate>Tue, 15 Apr 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/page/prometheus-10/</guid><description>&lt;h1 id="prometheus-发布历史-latest-10">Prometheus 发布历史 (latest 10)
&lt;/h1>&lt;hr>
&lt;h2 id="prometheus---330-rc1--2025-04-02210651153">Prometheus - 3.3.0-rc.1 / 2025-04-02(210651153)
&lt;/h2>&lt;p>created: 2025-04-07T04:38:36Z&lt;/p>
&lt;ul>
&lt;li>
&lt;p>[BUGFIX] Remote-Write: Reduce memory footprint during WAL replay. #16197&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Scraping: Skip native histograms series when ingestion is disabled. #16218&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] UI: Display the correct value of Alerting rules&amp;rsquo; &lt;code>keep_firing_for&lt;/code>. #16211&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: return NaN from &lt;code>irate()&lt;/code> if second-last sample is NaN. #16199 #15853&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="prometheus---330-rc0--2025-03-11208397200">Prometheus - 3.3.0-rc.0 / 2025-03-11(208397200)
&lt;/h2>&lt;p>created: 2025-03-26T12:45:57Z&lt;/p>
&lt;ul>
&lt;li>
&lt;p>[FEATURE] PromQL: Implement &lt;code>idelta()&lt;/code> and &lt;code>irate()&lt;/code> for native histograms. #15853&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] Scaleway SD: Add &lt;code>__meta_scaleway_instance_public_ipv4_addresses&lt;/code> and &lt;code>__meta_scaleway_instance_public_ipv6_addresses&lt;/code> labels. #14228&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] TSDB: Reduce locking while reloading blocks. #12920&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] PromQL: Allow UTF-8 labels in &lt;code>label_replace()&lt;/code>. #15974&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] Promtool: &lt;code>tsdb create-blocks-from openmetrics&lt;/code> can now read from a Pipe. #16011&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] Rules: Add support for anchors and aliases in rule files. #14957&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] Dockerfile: Make &lt;code>/prometheus&lt;/code> writable. #16073&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] API: Include scrape pool name for dropped targets in &lt;code>/api/v1/targets&lt;/code>. #16085&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] UI: Improve time formatting and copying of selectors. #15999 #16165&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] UI: Bring back vertical grid lines and graph legend series toggling instructions. #16163 #16164&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] Mixin: The &lt;code>cluster&lt;/code> label can be customized using &lt;code>clusterLabel&lt;/code>. #15826&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] TSDB: Optimize some operations on head chunks by taking shortcuts. #12659&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] TSDB &amp;amp; Agent: Reduce memory footprint during WL replay. #15778&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] API: Reduce memory footprint during header parsing. #16001&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Rules: Improve dependency evaluation, enabling better concurrency. #16039&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Scraping: Improve scraping performance for native histograms. #15731&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Scraping: Improve parsing of created timestamps. #16072&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix counter reset detection for native histograms. #15902 #15987&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Scaleway SD: The public IP will no longer be set to &lt;code>__meta_meta_scaleway_instance_public_ipv4&lt;/code> if it is an IPv6 address. #14228&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix inconsistent behavior with an empty range. #15970&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix inconsistent annotation in &lt;code>quantile_over_time()&lt;/code>. #16018&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Prevent &lt;code>label_join()&lt;/code> from producing duplicates. #15975&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Ignore native histograms in &lt;code>scalar()&lt;/code>, &lt;code>sort()&lt;/code> and &lt;code>sort_desc()&lt;/code>. #15964&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Alerting: Consider alert relabeling when deciding whether alerts are dropped. #15979&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Config: Set &lt;code>GoGC&lt;/code> to the default value in case of an empty configuration. #16052&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] TSDB: Fix unknown series errors and potential data loss during WAL replay when inactive series are removed from the head and reappear before the next WAL checkpoint. #16060&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Scraping: Bump cache iteration after error to avoid false duplicate detections. #16174&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix annotations for binary operations between incompatible native histograms. #15895&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="prometheus---2534--2025-03-18206588229">Prometheus - 2.53.4 / 2025-03-18(206588229)
&lt;/h2>&lt;p>created: 2025-03-18T14:47:37Z&lt;/p>
&lt;ul>
&lt;li>
&lt;p>[BUGFIX] Runtime: fix GOGC is being set to 0 when installed with empty prometheus.yml file resulting high cpu usage. #16090&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Scrape: fix dropping valid metrics after previous scrape failed. #16220&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="prometheus---321--2025-02-25202499171">Prometheus - 3.2.1 / 2025-02-25(202499171)
&lt;/h2>&lt;p>created: 2025-02-26T09:15:44Z&lt;/p>
&lt;ul>
&lt;li>[BUGFIX] Don&amp;rsquo;t send Accept header &lt;code>escape=allow-utf-8&lt;/code> when &lt;code>metric_name_validation_scheme: legacy&lt;/code> is configured. #16061&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="prometheus---320--2025-02-17200774040">Prometheus - 3.2.0 / 2025-02-17(200774040)
&lt;/h2>&lt;p>created: 2025-02-17T18:39:50Z&lt;/p>
&lt;h3 id="prometheus-v320-changelog">Prometheus v3.2.0 Changelog
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>[CHANGE] relabel: Replace actions can now use UTF-8 characters in &lt;code>targetLabel&lt;/code> field. Note that &lt;code>$&amp;lt;chars&amp;gt;&lt;/code> or &lt;code>${&amp;lt;chars&amp;gt;}&lt;/code> will be expanded. This also apply to &lt;code>replacement&lt;/code> field for &lt;code>LabelMap&lt;/code> action. #15851&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[CHANGE] rulefmt: Rule names can use UTF-8 characters, except &lt;code>{&lt;/code> and &lt;code>}&lt;/code> characters (due to common mistake checks). #15851&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[FEATURE] remote/otlp: Add feature flag &lt;code>otlp-deltatocumulative&lt;/code> to support conversion from delta to cumulative. #15165&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] openstack SD: Discover Octavia loadbalancers. #15539&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] scrape: Add metadata for automatic metrics to WAL for &lt;code>metadata-wal-records&lt;/code> feature. #15837&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] promtool: Support linting of scrape interval, through lint option &lt;code>too-long-scrape-interval&lt;/code>. #15719&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] promtool: Add &amp;ndash;ignore-unknown-fields option. #15706&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] ui: Make &amp;ldquo;hide empty rules&amp;rdquo; and hide empty rules&amp;quot; persistent #15807&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] web/api: Add a limit parameter to &lt;code>/query&lt;/code> and &lt;code>/query_range&lt;/code>. #15552&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] api: Add fields Node and ServerTime to &lt;code>/status&lt;/code>. #15784&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Scraping: defer computing labels for dropped targets until they are needed by the UI. #15261&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] remotewrite2: Fix invalid metadata bug for metrics without metadata. #15829&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] remotewrite2: Fix the unit field propagation. #15825&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] scrape: Fix WAL metadata for histograms and summaries. #15832&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] ui: Merge duplicate &amp;ldquo;Alerts page settings&amp;rdquo; sections. #15810&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix &lt;code>&amp;lt;aggr_over_time&amp;gt;&lt;/code> functions with histograms. #15711&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="prometheus---320-rc1--2025-01-29198327913">Prometheus - 3.2.0-rc.1 / 2025-01-29(198327913)
&lt;/h2>&lt;p>created: 2025-02-04T12:30:58Z&lt;/p>
&lt;ul>
&lt;li>
&lt;p>[CHANGE] relabel: Replace actions can now use UTF-8 characters in &lt;code>targetLabel&lt;/code> field. Note that &lt;code>$&amp;lt;chars&amp;gt;&lt;/code> or &lt;code>${&amp;lt;chars&amp;gt;}&lt;/code> will be expanded. This also apply to &lt;code>replacement&lt;/code> field for &lt;code>LabelMap&lt;/code> action. #15851&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[CHANGE] rulefmt: Rule names can use UTF-8 characters, except &lt;code>{&lt;/code> and &lt;code>}&lt;/code> characters (due to common mistake checks). #15851&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[FEATURE] remote/otlp: Add feature flag &lt;code>otlp-deltatocumulative&lt;/code> to support conversion from delta to cumulative. #15165&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] openstack SD: Discover Octavia loadbalancers. #15539&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] scrape: Add metadata for automatic metrics to WAL for &lt;code>metadata-wal-records&lt;/code> feature. #15837&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] promtool: Support linting of scrape interval, through lint option &lt;code>too-long-scrape-interval&lt;/code>. #15719&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] promtool: Add &amp;ndash;ignore-unknown-fields option. #15706&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] ui: Make &amp;ldquo;hide empty rules&amp;rdquo; and hide empty rules&amp;quot; persistent #15807&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] web/api: Add a limit parameter to &lt;code>/query&lt;/code> and &lt;code>/query_range&lt;/code>. #15552&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] api: Add fields Node and ServerTime to &lt;code>/status&lt;/code>. #15784&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] remotewrite2: Fix invalid metadata bug for metrics without metadata. #15829&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] remotewrite2: Fix the unit field propagation. #15825&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] scrape: Fix WAL metadata for histograms and summaries. #15832&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] ui: Merge duplicate &amp;ldquo;Alerts page settings&amp;rdquo; sections. #15810&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix &lt;code>&amp;lt;aggr_over_time&amp;gt;&lt;/code> functions with histograms. #15711&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="prometheus---310--2025-01-02192935912">Prometheus - 3.1.0 / 2025-01-02(192935912)
&lt;/h2>&lt;p>created: 2025-01-02T13:50:23Z&lt;/p>
&lt;h3 id="whats-changed">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>[SECURITY] upgrade golang.org/x/crypto to address reported CVE-2024-45337. #15691&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[CHANGE] Notifier: Increment prometheus_notifications_errors_total by the number of affected alerts rather than per batch. #15428&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[CHANGE] API: list rules field &amp;ldquo;groupNextToken:omitempty&amp;rdquo; renamed to &amp;ldquo;groupNextToken&amp;rdquo;. #15400&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] OTLP translate: keep identifying attributes in target_info. #15448&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] Paginate rule groups, add infinite scroll to rules within groups. #15677&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] TSDB: Improve calculation of space used by labels. #13880&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] Rules: new metric rule_group_last_rule_duration_sum_seconds. #15672&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] Observability: Export &amp;lsquo;go_sync_mutex_wait_total_seconds_total&amp;rsquo; metric. #15339&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMEN] Remote-Write: optionally use a DNS resolver that picks a random IP. #15329&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Optimize &lt;code>l=~&amp;quot;.+&amp;quot;&lt;/code> matcher. #15474, #15684&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] TSDB: Cache all symbols for compaction . #15455&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] TSDB: MemPostings: keep a map of label values slices. #15426&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Remote-Write: Remove interning hook. #15456&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Scrape: optimize string manipulation for experimental native histograms with custom buckets. #15453&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] TSDB: reduce memory allocations. #15465, #15427&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Storage: Implement limit in mergeGenericQuerier. #14489&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] TSDB: Optimize inverse matching. #14144&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Regex: use stack memory for lowercase copy of string. #15210&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] TSDB: When deleting from postings index, pause to unlock and let readers read. #15242&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Main: Avoid possible segfault at exit. (#15724)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Rules: Do not run rules concurrently if uncertain about dependencies. #15560&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Adds test for &lt;code>absent&lt;/code>, &lt;code>absent_over_time&lt;/code> and &lt;code>deriv&lt;/code> func with histograms. #15667&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix various bugs related to quoting UTF-8 characters. #15531&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Scrape: fix nil panic after scrape loop reload. #15563&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Remote-write: fix panic on repeated log message. #15562&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Scrape: reload would ignore always_scrape_classic_histograms and convert_classic_histograms_to_nhcb configs. #15489&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] TSDB: fix data corruption in experimental native histograms. #15482&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Ignore histograms in all time related functions. #15479&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] OTLP receiver: Convert metric metadata. #15416&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix &lt;code>resets&lt;/code> function for histograms. #15527&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix behaviour of &lt;code>changes()&lt;/code> for mix of histograms and floats. #15469&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix behaviour of some aggregations with histograms. #15432&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] allow quoted exemplar keys in openmetrics text format. #15260&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] TSDB: fixes for rare conditions when loading write-behind-log (WBL). #15380&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] &lt;code>round()&lt;/code> function did not remove &lt;code>__name__&lt;/code> label. #15250&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Promtool: analyze block shows metric name with 0 cardinality. #15438&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix &lt;code>count_values&lt;/code> for histograms. #15422&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: fix issues with comparison binary operations with &lt;code>bool&lt;/code> modifier and native histograms. #15413&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: fix incorrect &amp;ldquo;native histogram ignored in aggregation&amp;rdquo; annotations. #15414&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Corrects the behaviour of some operator and aggregators with Native Histograms. #15245&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] TSDB: Always return unknown hint for first sample in non-gauge histogram chunk. #15343&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Clamp functions: Ignore any points with native histograms. #15169&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] TSDB: Fix race on stale values in headAppender. #15322&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] UI: Fix selector / series formatting for empty metric names. #15340&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] OTLP receiver: Allow colons in non-standard units. #15710&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="prometheus---310-rc1--2024-12-30192681527">Prometheus - 3.1.0-rc.1 / 2024-12-30(192681527)
&lt;/h2>&lt;p>created: 2024-12-30T12:37:59Z&lt;/p>
&lt;p>Since RC.0:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>[BUGFIX] avoid possible segfault at exit. (#15724)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] OTLP receiver: Allow colons in non-standard units. #15710&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Included in RC.0:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>[SECURITY] upgrade golang.org/x/crypto to address reported CVE-2024-45337. #15691&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[CHANGE] Notifier: Increment prometheus_notifications_errors_total by the number of affected alerts rather than per batch. #15428&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[CHANGE] API: list rules field &amp;ldquo;groupNextToken:omitempty&amp;rdquo; renamed to &amp;ldquo;groupNextToken&amp;rdquo;. #15400&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] OTLP translate: keep identifying attributes in target_info. #15448&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] Paginate rule groups, add infinite scroll to rules within groups. #15677&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] TSDB: Improve calculation of space used by labels. #13880&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] Rules: new metric rule_group_last_rule_duration_sum_seconds. #15672&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] Observability: Export &amp;lsquo;go_sync_mutex_wait_total_seconds_total&amp;rsquo; metric. #15339&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMEN] Remote-Write: optionally use a DNS resolver that picks a random IP. #15329&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Optimize &lt;code>l=~&amp;quot;.+&amp;quot;&lt;/code> matcher. #15474, #15684&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] TSDB: Cache all symbols for compaction . #15455&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] TSDB: MemPostings: keep a map of label values slices. #15426&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] TSDB: reduce memory allocations. #15465, #15427&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] TSDB: Optimize inverse matching. #14144&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] TSDB: When deleting from postings index, pause to unlock and let readers read. #15242&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Scrape: optimize string manipulation for experimental native histograms with custom buckets. #15453&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Storage: Implement limit in mergeGenericQuerier. #14489&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Regex: use stack memory for lowercase copy of string. #15210&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Remote-Write: Remove interning hook. #15456&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Rules: Do not run rules concurrently if uncertain about dependencies. #15560&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Scrape: fix nil panic after scrape loop reload. #15563&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Remote-write: fix panic on repeated log message. #15562&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Scrape: reload would ignore always_scrape_classic_histograms and convert_classic_histograms_to_nhcb configs. #15489&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] TSDB: fix data corruption in experimental native histograms. #15482&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] OTLP receiver: Convert metric metadata. #15416&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] allow quoted exemplar keys in openmetrics text format. #15260&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: &lt;code>round()&lt;/code> function did not remove &lt;code>__name__&lt;/code> label. #15250&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix various bugs related to quoting UTF-8 characters. #15531&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix &lt;code>resets&lt;/code> function for histograms. #15527&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix behaviour of &lt;code>changes()&lt;/code> for mix of histograms and floats. #15469&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix behaviour of some aggregations with histograms. #15432&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix &lt;code>count_values&lt;/code> for histograms. #15422&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: fix issues with comparison binary operations with &lt;code>bool&lt;/code> modifier and native histograms. #15413&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: fix incorrect &amp;ldquo;native histogram ignored in aggregation&amp;rdquo; annotations. #15414&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Corrects the behaviour of some operator and aggregators with Native Histograms. #15245&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Clamp functions: Ignore any points with native histograms. #15169&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Ignore histograms in all time related functions. #15479&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Promtool: analyze block shows metric name with 0 cardinality. #15438&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] TSDB: fixes for rare conditions when loading write-behind-log (WBL). #15380&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] TSDB: Always return unknown hint for first sample in non-gauge histogram chunk. #15343&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] TSDB: Fix race on stale values in headAppender. #15322&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] UI: Fix selector / series formatting for empty metric names. #15340&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="prometheus---310-rc0--2024-12-18191846587">Prometheus - 3.1.0-rc.0 / 2024-12-18(191846587)
&lt;/h2>&lt;p>created: 2024-12-20T12:03:09Z&lt;/p>
&lt;ul>
&lt;li>
&lt;p>[SECURITY] upgrade golang.org/x/crypto to address reported CVE-2024-45337. #15691&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[CHANGE] Notifier: Increment prometheus_notifications_errors_total by the number of affected alerts rather than per batch. #15428&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[CHANGE] API: list rules field &amp;ldquo;groupNextToken:omitempty&amp;rdquo; renamed to &amp;ldquo;groupNextToken&amp;rdquo;. #15400&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] OTLP translate: keep identifying attributes in target_info. #15448&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] Paginate rule groups, add infinite scroll to rules within groups. #15677&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] TSDB: Improve calculation of space used by labels. #13880&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] Rules: new metric rule_group_last_rule_duration_sum_seconds. #15672&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMENT] Observability: Export &amp;lsquo;go_sync_mutex_wait_total_seconds_total&amp;rsquo; metric. #15339&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ENHANCEMEN] Remote-Write: optionally use a DNS resolver that picks a random IP. #15329&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Optimize &lt;code>l=~&amp;quot;.+&amp;quot;&lt;/code> matcher. #15474, #15684&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] TSDB: Cache all symbols for compaction . #15455&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] TSDB: MemPostings: keep a map of label values slices. #15426&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Remote-Write: Remove interning hook. #15456&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Scrape: optimize string manipulation for experimental native histograms with custom buckets. #15453&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] TSDB: reduce memory allocations. #15465, #15427&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Storage: Implement limit in mergeGenericQuerier. #14489&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] TSDB: Optimize inverse matching. #14144&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] Regex: use stack memory for lowercase copy of string. #15210&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[PERF] TSDB: When deleting from postings index, pause to unlock and let readers read. #15242&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Rules: Do not run rules concurrently if uncertain about dependencies. #15560&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Adds test for &lt;code>absent&lt;/code>, &lt;code>absent_over_time&lt;/code> and &lt;code>deriv&lt;/code> func with histograms. #15667&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix various bugs related to quoting UTF-8 characters. #15531&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Scrape: fix nil panic after scrape loop reload. #15563&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Remote-write: fix panic on repeated log message. #15562&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Scrape: reload would ignore always_scrape_classic_histograms and convert_classic_histograms_to_nhcb configs. #15489&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] TSDB: fix data corruption in experimental native histograms. #15482&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Ignore histograms in all time related functions. #15479&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] OTLP receiver: Convert metric metadata. #15416&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix &lt;code>resets&lt;/code> function for histograms. #15527&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix behaviour of &lt;code>changes()&lt;/code> for mix of histograms and floats. #15469&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix behaviour of some aggregations with histograms. #15432&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] allow quoted exemplar keys in openmetrics text format. #15260&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] TSDB: fixes for rare conditions when loading write-behind-log (WBL). #15380&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] &lt;code>round()&lt;/code> function did not remove &lt;code>__name__&lt;/code> label. #15250&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Promtool: analyze block shows metric name with 0 cardinality. #15438&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Fix &lt;code>count_values&lt;/code> for histograms. #15422&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: fix issues with comparison binary operations with &lt;code>bool&lt;/code> modifier and native histograms. #15413&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: fix incorrect &amp;ldquo;native histogram ignored in aggregation&amp;rdquo; annotations. #15414&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Corrects the behaviour of some operator and aggregators with Native Histograms. #15245&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] TSDB: Always return unknown hint for first sample in non-gauge histogram chunk. #15343&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] PromQL: Clamp functions: Ignore any points with native histograms. #15169&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] TSDB: Fix race on stale values in headAppender. #15322&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] UI: Fix selector / series formatting for empty metric names. #15340&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="prometheus---301--2024-11-28188082737">Prometheus - 3.0.1 / 2024-11-28(188082737)
&lt;/h2>&lt;p>created: 2024-11-28T17:18:22Z&lt;/p>
&lt;p>The first bug fix release for Prometheus 3.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>[BUGFIX] Promql: Make subqueries left open. #15431&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Fix memory leak when query log is enabled. #15434&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BUGFIX] Support utf8 names on /v1/label/:name/values endpoint. #15399&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;blockquote>
&lt;p>完整清单，请访问官方列表: &lt;a class="link" href="https://github.com/prometheus/prometheus/releases" target="_blank" rel="noopener"
> Prometheus 发布清单&lt;/a>&lt;/p>&lt;/blockquote></description></item><item><title>Puppeteer 发布历史 (latest 10)</title><link>https://chengxiaqiucao.github.io/page/puppeteer-10/</link><pubDate>Tue, 15 Apr 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/page/puppeteer-10/</guid><description>&lt;h1 id="puppeteer-发布历史-latest-10">Puppeteer 发布历史 (latest 10)
&lt;/h1>&lt;hr>
&lt;h2 id="puppeteer---browsers-v2100211321850">Puppeteer - browsers: v2.10.0(211321850)
&lt;/h2>&lt;p>created: 2025-04-09T15:27:42Z&lt;/p>
&lt;h3 id="2100-2025-04-09">&lt;a class="link" href="https://github.com/puppeteer/puppeteer/compare/browsers-v2.9.0...browsers-v2.10.0" target="_blank" rel="noopener"
>2.10.0&lt;/a> (2025-04-09)
&lt;/h3>&lt;h4 id="features">Features
&lt;/h4>&lt;ul>
&lt;li>expose utilities for managing browser artifacts manually (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13761" target="_blank" rel="noopener"
>#13761&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/43baf1328665212a088f59fc258da53ca60e2a5e" target="_blank" rel="noopener"
>43baf13&lt;/a>)&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="puppeteer---puppeteer-core-v2461211321847">Puppeteer - puppeteer-core: v24.6.1(211321847)
&lt;/h2>&lt;p>created: 2025-04-09T15:27:42Z&lt;/p>
&lt;h3 id="2461-2025-04-09">&lt;a class="link" href="https://github.com/puppeteer/puppeteer/compare/puppeteer-core-v24.6.0...puppeteer-core-v24.6.1" target="_blank" rel="noopener"
>24.6.1&lt;/a> (2025-04-09)
&lt;/h3>&lt;h4 id="bug-fixes">Bug Fixes
&lt;/h4>&lt;ul>
&lt;li>optimize base64 decoding (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13753" target="_blank" rel="noopener"
>#13753&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/8145dd64f21ca7ab917c9c75fe51d04a9463b552" target="_blank" rel="noopener"
>8145dd6&lt;/a>)&lt;/li>
&lt;li>roll to Chrome 135.0.7049.84 (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13756" target="_blank" rel="noopener"
>#13756&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/ab6459f947471645445a71afbe5d7b4755cb9cf7" target="_blank" rel="noopener"
>ab6459f&lt;/a>)&lt;/li>
&lt;li>roll to Firefox 137.0.1 (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13758" target="_blank" rel="noopener"
>#13758&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/446a07cdc4e56f8a926f74d167cb14eca24a9602" target="_blank" rel="noopener"
>446a07c&lt;/a>)&lt;/li>
&lt;li>&lt;strong>webdriver:&lt;/strong> handle errors if exposed function args are no longer available (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13759" target="_blank" rel="noopener"
>#13759&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/401355610874beac23a51dcb75739a4bb4191a2b" target="_blank" rel="noopener"
>4013556&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h4 id="dependencies">Dependencies
&lt;/h4>&lt;ul>
&lt;li>The following workspace dependencies were updated
&lt;ul>
&lt;li>dependencies
&lt;ul>
&lt;li>@puppeteer/browsers bumped from 2.9.0 to 2.10.0&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="puppeteer---puppeteer-v2461211321844">Puppeteer - puppeteer: v24.6.1(211321844)
&lt;/h2>&lt;p>created: 2025-04-09T15:27:42Z&lt;/p>
&lt;h3 id="2461-2025-04-09-1">&lt;a class="link" href="https://github.com/puppeteer/puppeteer/compare/puppeteer-v24.6.0...puppeteer-v24.6.1" target="_blank" rel="noopener"
>24.6.1&lt;/a> (2025-04-09)
&lt;/h3>&lt;h4 id="miscellaneous-chores">Miscellaneous Chores
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>puppeteer:&lt;/strong> Synchronize puppeteer versions&lt;/li>
&lt;/ul>
&lt;h4 id="dependencies-1">Dependencies
&lt;/h4>&lt;ul>
&lt;li>The following workspace dependencies were updated
&lt;ul>
&lt;li>dependencies
&lt;ul>
&lt;li>@puppeteer/browsers bumped from 2.9.0 to 2.10.0&lt;/li>
&lt;li>puppeteer-core bumped from 24.6.0 to 24.6.1&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="puppeteer---puppeteer-core-v2460210155317">Puppeteer - puppeteer-core: v24.6.0(210155317)
&lt;/h2>&lt;p>created: 2025-04-03T16:16:35Z&lt;/p>
&lt;h3 id="2460-2025-04-03">&lt;a class="link" href="https://github.com/puppeteer/puppeteer/compare/puppeteer-core-v24.5.0...puppeteer-core-v24.6.0" target="_blank" rel="noopener"
>24.6.0&lt;/a> (2025-04-03)
&lt;/h3>&lt;h4 id="features-1">Features
&lt;/h4>&lt;ul>
&lt;li>roll to Chrome 135.0.7049.42 (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13717" target="_blank" rel="noopener"
>#13717&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/30b7ba8c62d3b76efed239b5bd39ec4bfc77bd08" target="_blank" rel="noopener"
>30b7ba8&lt;/a>)&lt;/li>
&lt;li>roll to Firefox 137.0 (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13720" target="_blank" rel="noopener"
>#13720&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/bee835f938b8ace30d5a06f17bd4a5ff0923ad16" target="_blank" rel="noopener"
>bee835f&lt;/a>)&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="puppeteer---puppeteer-v2460210155312">Puppeteer - puppeteer: v24.6.0(210155312)
&lt;/h2>&lt;p>created: 2025-04-03T16:16:35Z&lt;/p>
&lt;h3 id="2460-2025-04-03-1">&lt;a class="link" href="https://github.com/puppeteer/puppeteer/compare/puppeteer-v24.5.0...puppeteer-v24.6.0" target="_blank" rel="noopener"
>24.6.0&lt;/a> (2025-04-03)
&lt;/h3>&lt;h4 id="features-2">Features
&lt;/h4>&lt;ul>
&lt;li>roll to Chrome 135.0.7049.42 (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13717" target="_blank" rel="noopener"
>#13717&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/30b7ba8c62d3b76efed239b5bd39ec4bfc77bd08" target="_blank" rel="noopener"
>30b7ba8&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h4 id="dependencies-2">Dependencies
&lt;/h4>&lt;ul>
&lt;li>The following workspace dependencies were updated
&lt;ul>
&lt;li>dependencies
&lt;ul>
&lt;li>puppeteer-core bumped from 24.5.0 to 24.6.0&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="puppeteer---browsers-v290209580175">Puppeteer - browsers: v2.9.0(209580175)
&lt;/h2>&lt;p>created: 2025-04-01T11:54:47Z&lt;/p>
&lt;h3 id="290-2025-03-31">&lt;a class="link" href="https://github.com/puppeteer/puppeteer/compare/browsers-v2.8.0...browsers-v2.9.0" target="_blank" rel="noopener"
>2.9.0&lt;/a> (2025-03-31)
&lt;/h3>&lt;h4 id="features-3">Features
&lt;/h4>&lt;ul>
&lt;li>support dumpio option on launch (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13656" target="_blank" rel="noopener"
>#13656&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/332af850bc42fd4df1b4e8ae210f502fb8098f71" target="_blank" rel="noopener"
>332af85&lt;/a>)&lt;/li>
&lt;li>support extra args to launch (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13658" target="_blank" rel="noopener"
>#13658&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/844f0134d231ed013e8b3f537d9336e6cd0a8e4b" target="_blank" rel="noopener"
>844f013&lt;/a>)&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="puppeteer---puppeteer-core-v2450209580172">Puppeteer - puppeteer-core: v24.5.0(209580172)
&lt;/h2>&lt;p>created: 2025-04-01T11:54:47Z&lt;/p>
&lt;h3 id="2450-2025-03-31">&lt;a class="link" href="https://github.com/puppeteer/puppeteer/compare/puppeteer-core-v24.4.0...puppeteer-core-v24.5.0" target="_blank" rel="noopener"
>24.5.0&lt;/a> (2025-03-31)
&lt;/h3>&lt;h4 id="features-4">Features
&lt;/h4>&lt;ul>
&lt;li>improve &lt;code>screencast&lt;/code> options (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13645" target="_blank" rel="noopener"
>#13645&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/22aeab945842fb1875e28da672c28bcca166254a" target="_blank" rel="noopener"
>22aeab9&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h4 id="bug-fixes-1">Bug Fixes
&lt;/h4>&lt;ul>
&lt;li>&lt;code>screencast&lt;/code> mp4 encoding (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13676" target="_blank" rel="noopener"
>#13676&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/dfc92194c5f2656de7374cafcb73cd283a0976c8" target="_blank" rel="noopener"
>dfc9219&lt;/a>)&lt;/li>
&lt;li>roll to Chrome 134.0.6998.165 (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13696" target="_blank" rel="noopener"
>#13696&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/ff74c58464f985253b0a986f5fbbe4edc1658a42" target="_blank" rel="noopener"
>ff74c58&lt;/a>)&lt;/li>
&lt;li>roll to Chrome 134.0.6998.88 (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13666" target="_blank" rel="noopener"
>#13666&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/334d06aa546173b924a4754c8968470547cd75a7" target="_blank" rel="noopener"
>334d06a&lt;/a>)&lt;/li>
&lt;li>roll to Chrome 134.0.6998.90 (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13693" target="_blank" rel="noopener"
>#13693&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/7433674f69100128f2a7fe5450e5315a3380b865" target="_blank" rel="noopener"
>7433674&lt;/a>)&lt;/li>
&lt;li>roll to Firefox 136.0.1 (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13672" target="_blank" rel="noopener"
>#13672&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/c900ded5125069e9abf796877d4003cdf0392fa9" target="_blank" rel="noopener"
>c900ded&lt;/a>)&lt;/li>
&lt;li>roll to Firefox 136.0.2 (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13692" target="_blank" rel="noopener"
>#13692&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/ea8a0aee6136a585ee9e9ebe94e1e766144082e8" target="_blank" rel="noopener"
>ea8a0ae&lt;/a>)&lt;/li>
&lt;li>roll to Firefox 136.0.3 (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13702" target="_blank" rel="noopener"
>#13702&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/d3a865e4fd742d9b025b8de988a2635e0ca1516d" target="_blank" rel="noopener"
>d3a865e&lt;/a>)&lt;/li>
&lt;li>roll to Firefox 136.0.4 (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13707" target="_blank" rel="noopener"
>#13707&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/33668c983a08f0fedf8f9f85e2f8a71c7a2780f2" target="_blank" rel="noopener"
>33668c9&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h4 id="dependencies-3">Dependencies
&lt;/h4>&lt;ul>
&lt;li>The following workspace dependencies were updated
&lt;ul>
&lt;li>dependencies
&lt;ul>
&lt;li>@puppeteer/browsers bumped from 2.8.0 to 2.9.0&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="puppeteer---puppeteer-v2450209580171">Puppeteer - puppeteer: v24.5.0(209580171)
&lt;/h2>&lt;p>created: 2025-04-01T11:54:47Z&lt;/p>
&lt;h3 id="2450-2025-03-31-1">&lt;a class="link" href="https://github.com/puppeteer/puppeteer/compare/puppeteer-v24.4.0...puppeteer-v24.5.0" target="_blank" rel="noopener"
>24.5.0&lt;/a> (2025-03-31)
&lt;/h3>&lt;h4 id="miscellaneous-chores-1">Miscellaneous Chores
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>puppeteer:&lt;/strong> Synchronize puppeteer versions&lt;/li>
&lt;/ul>
&lt;h4 id="dependencies-4">Dependencies
&lt;/h4>&lt;ul>
&lt;li>The following workspace dependencies were updated
&lt;ul>
&lt;li>dependencies
&lt;ul>
&lt;li>@puppeteer/browsers bumped from 2.8.0 to 2.9.0&lt;/li>
&lt;li>puppeteer-core bumped from 24.4.0 to 24.5.0&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="puppeteer---browsers-v280204050773">Puppeteer - browsers: v2.8.0(204050773)
&lt;/h2>&lt;p>created: 2025-03-06T08:33:18Z&lt;/p>
&lt;h3 id="280-2025-03-05">&lt;a class="link" href="https://github.com/puppeteer/puppeteer/compare/browsers-v2.7.1...browsers-v2.8.0" target="_blank" rel="noopener"
>2.8.0&lt;/a> (2025-03-05)
&lt;/h3>&lt;h4 id="features-5">Features
&lt;/h4>&lt;ul>
&lt;li>add firefox arm64 downloads (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13646" target="_blank" rel="noopener"
>#13646&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/92ca975ffc90968c6759be0481459ecc56f4606c" target="_blank" rel="noopener"
>92ca975&lt;/a>)&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="puppeteer---puppeteer-core-v2440204050766">Puppeteer - puppeteer-core: v24.4.0(204050766)
&lt;/h2>&lt;p>created: 2025-03-06T08:33:18Z&lt;/p>
&lt;h3 id="2440-2025-03-05">&lt;a class="link" href="https://github.com/puppeteer/puppeteer/compare/puppeteer-core-v24.3.1...puppeteer-core-v24.4.0" target="_blank" rel="noopener"
>24.4.0&lt;/a> (2025-03-05)
&lt;/h3>&lt;h4 id="features-6">Features
&lt;/h4>&lt;ul>
&lt;li>roll to Chrome 134.0.6998.35 (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13649" target="_blank" rel="noopener"
>#13649&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/cdb175b76c49c53e680515cf635f08e722f3dd52" target="_blank" rel="noopener"
>cdb175b&lt;/a>)&lt;/li>
&lt;li>roll to Firefox 136.0 (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/issues/13647" target="_blank" rel="noopener"
>#13647&lt;/a>) (&lt;a class="link" href="https://github.com/puppeteer/puppeteer/commit/b8e031007a5b980d59b8e17bc208f18f55050442" target="_blank" rel="noopener"
>b8e0310&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h4 id="dependencies-5">Dependencies
&lt;/h4>&lt;ul>
&lt;li>The following workspace dependencies were updated
&lt;ul>
&lt;li>dependencies
&lt;ul>
&lt;li>@puppeteer/browsers bumped from 2.7.1 to 2.8.0&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;blockquote>
&lt;p>完整清单，请访问官方列表: &lt;a class="link" href="https://github.com/puppeteer/puppeteer/releases" target="_blank" rel="noopener"
> Puppeteer 发布清单&lt;/a>&lt;/p>&lt;/blockquote></description></item><item><title>Pytest 发布历史 (latest 10)</title><link>https://chengxiaqiucao.github.io/page/pytest-10/</link><pubDate>Tue, 15 Apr 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/page/pytest-10/</guid><description>&lt;h1 id="pytest-发布历史-latest-10">Pytest 发布历史 (latest 10)
&lt;/h1>&lt;hr>
&lt;h2 id="pytest-835-2025-03-02">pytest 8.3.5 (2025-03-02)
&lt;/h2>&lt;h3 id="bug-fixes">Bug fixes
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/11777" target="_blank" rel="noopener"
>#11777&lt;/a>: Fixed issue where sequences were still being shortened even with &lt;code>-vv&lt;/code> verbosity.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12888" target="_blank" rel="noopener"
>#12888&lt;/a>: Fixed broken input when using Python 3.13+ and a &lt;code>libedit&lt;/code> build of Python, such as on macOS or with uv-managed Python binaries from the &lt;code>python-build-standalone&lt;/code> project. This could manifest e.g. by a broken prompt when using &lt;code>Pdb&lt;/code>, or seeing empty inputs with manual usage of &lt;code>input()&lt;/code> and suspended capturing.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/13026" target="_blank" rel="noopener"
>#13026&lt;/a>: Fixed &lt;code>AttributeError&lt;/code>{.interpreted-text role=&amp;ldquo;class&amp;rdquo;} crash when using &lt;code>--import-mode=importlib&lt;/code> when top-level directory same name as another module of the standard library.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/13053" target="_blank" rel="noopener"
>#13053&lt;/a>: Fixed a regression in pytest 8.3.4 where, when using &lt;code>--import-mode=importlib&lt;/code>, a directory containing py file with the same name would cause an &lt;code>ImportError&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/13083" target="_blank" rel="noopener"
>#13083&lt;/a>: Fixed issue where pytest could crash if one of the collected directories got removed during collection.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="improved-documentation">Improved documentation
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12842" target="_blank" rel="noopener"
>#12842&lt;/a>: Added dedicated page about using types with pytest.&lt;/p>
&lt;p>See &lt;code>types&lt;/code>{.interpreted-text role=&amp;ldquo;ref&amp;rdquo;} for detailed usage.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="contributor-facing-changes">Contributor-facing changes
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/13112" target="_blank" rel="noopener"
>#13112&lt;/a>: Fixed selftest failures in &lt;code>test_terminal.py&lt;/code> with Pygments &amp;gt;= 2.19.0&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/13256" target="_blank" rel="noopener"
>#13256&lt;/a>: Support for Towncrier versions released in 2024 has been re-enabled&lt;/p>
&lt;p>when building Sphinx docs -- by &lt;code>webknjaz&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="pytest-834-2024-12-01">pytest 8.3.4 (2024-12-01)
&lt;/h2>&lt;h3 id="bug-fixes-1">Bug fixes
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12592" target="_blank" rel="noopener"
>#12592&lt;/a>: Fixed &lt;code>KeyError&lt;/code>{.interpreted-text role=&amp;ldquo;class&amp;rdquo;} crash when using &lt;code>--import-mode=importlib&lt;/code> in a directory layout where a directory contains a child directory with the same name.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12818" target="_blank" rel="noopener"
>#12818&lt;/a>: Assertion rewriting now preserves the source ranges of the original instructions, making it play well with tools that deal with the &lt;code>AST&lt;/code>, like &lt;a class="link" href="https://github.com/alexmojaki/executing" target="_blank" rel="noopener"
>executing&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12849" target="_blank" rel="noopener"
>#12849&lt;/a>: ANSI escape codes for colored output now handled correctly in &lt;code>pytest.fail&lt;/code>{.interpreted-text role=&amp;ldquo;func&amp;rdquo;} with [pytrace=False]{.title-ref}.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/9353" target="_blank" rel="noopener"
>#9353&lt;/a>: &lt;code>pytest.approx&lt;/code>{.interpreted-text role=&amp;ldquo;func&amp;rdquo;} now uses strict equality when given booleans.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="improved-documentation-1">Improved documentation
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/10558" target="_blank" rel="noopener"
>#10558&lt;/a>: Fix ambiguous docstring of &lt;code>pytest.Config.getoption&lt;/code>{.interpreted-text role=&amp;ldquo;func&amp;rdquo;}.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/10829" target="_blank" rel="noopener"
>#10829&lt;/a>: Improve documentation on the current handling of the &lt;code>--basetemp&lt;/code> option and its lack of retention functionality (&lt;code>temporary directory location and retention&lt;/code>{.interpreted-text role=&amp;ldquo;ref&amp;rdquo;}).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12866" target="_blank" rel="noopener"
>#12866&lt;/a>: Improved cross-references concerning the &lt;code>recwarn&lt;/code>{.interpreted-text role=&amp;ldquo;fixture&amp;rdquo;} fixture.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12966" target="_blank" rel="noopener"
>#12966&lt;/a>: Clarify &lt;code>filterwarnings&lt;/code>{.interpreted-text role=&amp;ldquo;ref&amp;rdquo;} docs on filter precedence/order when using multiple &lt;code>@pytest.mark.filterwarnings &amp;lt;pytest.mark.filterwarnings ref&amp;gt;&lt;/code>{.interpreted-text role=&amp;ldquo;ref&amp;rdquo;} marks.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="contributor-facing-changes-1">Contributor-facing changes
&lt;/h3>&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12497" target="_blank" rel="noopener"
>#12497&lt;/a>: Fixed two failing pdb-related tests on Python 3.13.&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h1 id="pytest-833-2024-09-09">pytest 8.3.3 (2024-09-09)
&lt;/h1>&lt;h2 id="bug-fixes-2">Bug fixes
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12446" target="_blank" rel="noopener"
>#12446&lt;/a>: Avoid calling &lt;code>@property&lt;/code> (and other instance descriptors) during fixture discovery -- by &lt;code>asottile&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12659" target="_blank" rel="noopener"
>#12659&lt;/a>: Fixed the issue of not displaying assertion failure differences when using the parameter &lt;code>--import-mode=importlib&lt;/code> in pytest&amp;gt;=8.1.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12667" target="_blank" rel="noopener"
>#12667&lt;/a>: Fixed a regression where type change in [ExceptionInfo.errisinstance]{.title-ref} caused [mypy]{.title-ref} to fail.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12744" target="_blank" rel="noopener"
>#12744&lt;/a>: Fixed typing compatibility with Python 3.9 or less -- replaced [typing.Self]{.title-ref} with [typing_extensions.Self]{.title-ref} -- by &lt;code>Avasam&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12745" target="_blank" rel="noopener"
>#12745&lt;/a>: Fixed an issue with backslashes being incorrectly converted in nodeid paths on Windows, ensuring consistent path handling across environments.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/6682" target="_blank" rel="noopener"
>#6682&lt;/a>: Fixed bug where the verbosity levels where not being respected when printing the &amp;quot;msg&amp;quot; part of failed assertion (as in &lt;code>assert condition, msg&lt;/code>).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/9422" target="_blank" rel="noopener"
>#9422&lt;/a>: Fix bug where disabling the terminal plugin via &lt;code>-p no:terminal&lt;/code> would cause crashes related to missing the &lt;code>verbose&lt;/code> option.&lt;/p>
&lt;p>-- by &lt;code>GTowers1&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="improved-documentation-2">Improved documentation
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12663" target="_blank" rel="noopener"
>#12663&lt;/a>: Clarify that the [pytest_deselected]{.title-ref} hook should be called from [pytest_collection_modifyitems]{.title-ref} hook implementations when items are deselected.&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12678" target="_blank" rel="noopener"
>#12678&lt;/a>: Remove erroneous quotes from [tmp_path_retention_policy]{.title-ref} example in docs.&lt;/li>
&lt;/ul>
&lt;h2 id="miscellaneous-internal-changes">Miscellaneous internal changes
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12769" target="_blank" rel="noopener"
>#12769&lt;/a>: Fix typos discovered by codespell and add codespell to pre-commit hooks.&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h1 id="pytest-832-2024-07-24">pytest 8.3.2 (2024-07-24)
&lt;/h1>&lt;h2 id="bug-fixes-3">Bug fixes
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12652" target="_blank" rel="noopener"
>#12652&lt;/a>: Resolve regression [conda]{.title-ref} environments where no longer being automatically detected.&lt;/p>
&lt;p>-- by &lt;code>RonnyPfannschmidt&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h1 id="pytest-831-2024-07-20">pytest 8.3.1 (2024-07-20)
&lt;/h1>&lt;p>The 8.3.0 release failed to include the change notes and docs for the release. This patch release remedies this. There are no other changes.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="pytest-830-2024-07-20">pytest 8.3.0 (2024-07-20)
&lt;/h2>&lt;h3 id="new-features">New features
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12231" target="_blank" rel="noopener"
>#12231&lt;/a>: Added [--xfail-tb]{.title-ref} flag, which turns on traceback output for XFAIL results.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>If the [--xfail-tb]{.title-ref} flag is not given, tracebacks for XFAIL results are NOT shown.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The style of traceback for XFAIL is set with [--tb]{.title-ref}, and can be [auto|long|short|line|native|no]{.title-ref}.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Note: Even if you have [--xfail-tb]{.title-ref} set, you won't see them if [--tb=no]{.title-ref}.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Some history:&lt;/p>
&lt;p>With pytest 8.0, [-rx]{.title-ref} or [-ra]{.title-ref} would not only turn on summary reports for xfail, but also report the tracebacks for xfail results. This caused issues with some projects that utilize xfail, but don't want to see all of the xfail tracebacks.&lt;/p>
&lt;p>This change detaches xfail tracebacks from [-rx]{.title-ref}, and now we turn on xfail tracebacks with [--xfail-tb]{.title-ref}. With this, the default [-rx]{.title-ref}/ [-ra]{.title-ref} behavior is identical to pre-8.0 with respect to xfail tracebacks. While this is a behavior change, it brings default behavior back to pre-8.0.0 behavior, which ultimately was considered the better course of action.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12281" target="_blank" rel="noopener"
>#12281&lt;/a>: Added support for keyword matching in marker expressions.&lt;/p>
&lt;p>Now tests can be selected by marker keyword arguments.&lt;/p>
&lt;p>Supported values are &lt;code>int&lt;/code>{.interpreted-text role=&amp;ldquo;class&amp;rdquo;}, (unescaped) &lt;code>str&lt;/code>{.interpreted-text role=&amp;ldquo;class&amp;rdquo;}, &lt;code>bool&lt;/code>{.interpreted-text role=&amp;ldquo;class&amp;rdquo;} &amp;amp; &lt;code>None&lt;/code>{.interpreted-text role=&amp;ldquo;data&amp;rdquo;}.&lt;/p>
&lt;p>See &lt;code>marker examples &amp;lt;marker_keyword_expression_example&amp;gt;&lt;/code>{.interpreted-text role=&amp;ldquo;ref&amp;rdquo;} for more information.&lt;/p>
&lt;p>-- by &lt;code>lovetheguitar&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12567" target="_blank" rel="noopener"
>#12567&lt;/a>: Added &lt;code>--no-fold-skipped&lt;/code> command line option.&lt;/p>
&lt;p>If this option is set, then skipped tests in short summary are no longer grouped&lt;/p>
&lt;p>by reason but all tests are printed individually with their nodeid in the same&lt;/p>
&lt;p>way as other statuses.&lt;/p>
&lt;p>-- by &lt;code>pbrezina&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="improvements-in-existing-functionality">Improvements in existing functionality
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12469" target="_blank" rel="noopener"
>#12469&lt;/a>: The console output now uses the &amp;quot;third-party plugins&amp;quot; terminology,&lt;/p>
&lt;p>replacing the previously established but confusing and outdated&lt;/p>
&lt;p>reference to &lt;code>setuptools &amp;lt;setuptools:index&amp;gt;&lt;/code>{.interpreted-text role=&amp;ldquo;std:doc&amp;rdquo;}&lt;/p>
&lt;p>-- by &lt;code>webknjaz&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12544" target="_blank" rel="noopener"
>#12544&lt;/a>, &lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12545" target="_blank" rel="noopener"
>#12545&lt;/a>: Python virtual environment detection was improved by&lt;/p>
&lt;p>checking for a &lt;code>pyvenv.cfg&lt;/code>{.interpreted-text role=&amp;ldquo;file&amp;rdquo;} file, ensuring reliable detection on&lt;/p>
&lt;p>various platforms -- by &lt;code>zachsnickers&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/2871" target="_blank" rel="noopener"
>#2871&lt;/a>: Do not truncate arguments to functions in output when running with [-vvv]{.title-ref}.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/389" target="_blank" rel="noopener"
>#389&lt;/a>: The readability of assertion introspection of bound methods has been enhanced&lt;/p>
&lt;p>-- by &lt;code>farbodahm&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}, &lt;code>webknjaz&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}, &lt;code>obestwalter&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}, &lt;code>flub&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}&lt;/p>
&lt;p>and &lt;code>glyphack&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}.&lt;/p>
&lt;p>Earlier, it was like:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">=================================== FAILURES ===================================
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">_____________________________________ test _____________________________________
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go"> def test():
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="gp">&amp;gt;&lt;/span> assert Help&lt;span class="o">()&lt;/span>.fun&lt;span class="o">()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="m">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">E assert 1 == 2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">E + where 1 = &amp;lt;bound method Help.fun of &amp;lt;example.Help instance at 0x256a830&amp;gt;&amp;gt;()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">E + where &amp;lt;bound method Help.fun of &amp;lt;example.Help instance at 0x256a830&amp;gt;&amp;gt; = &amp;lt;example.Help instance at 0x256a830&amp;gt;.fun
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">E + where &amp;lt;example.Help instance at 0x256a830&amp;gt; = Help()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">example.py:7: AssertionError
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">=========================== 1 failed in 0.03 seconds ===========================
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>And now it's like:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">=================================== FAILURES ===================================
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">_____________________________________ test _____________________________________
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go"> def test():
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="gp">&amp;gt;&lt;/span> assert Help&lt;span class="o">()&lt;/span>.fun&lt;span class="o">()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="m">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">E assert 1 == 2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">E + where 1 = fun()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">E + where fun = &amp;lt;test_local.Help object at 0x1074be230&amp;gt;.fun
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">E + where &amp;lt;test_local.Help object at 0x1074be230&amp;gt; = Help()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">test_local.py:13: AssertionError
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">=========================== 1 failed in 0.03 seconds ===========================
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/7662" target="_blank" rel="noopener"
>#7662&lt;/a>: Added timezone information to the testsuite timestamp in the JUnit XML report.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="bug-fixes-4">Bug fixes
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/11706" target="_blank" rel="noopener"
>#11706&lt;/a>: Fixed reporting of teardown errors in higher-scoped fixtures when using [--maxfail]{.title-ref} or [--stepwise]{.title-ref}.&lt;/p>
&lt;p>Originally added in pytest 8.0.0, but reverted in 8.0.2 due to a regression in pytest-xdist.&lt;/p>
&lt;p>This regression was fixed in pytest-xdist 3.6.1.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/11797" target="_blank" rel="noopener"
>#11797&lt;/a>: &lt;code>pytest.approx&lt;/code>{.interpreted-text role=&amp;ldquo;func&amp;rdquo;} now correctly handles &lt;code>Sequence &amp;lt;collections.abc.Sequence&amp;gt;&lt;/code>{.interpreted-text role=&amp;ldquo;class&amp;rdquo;}-like objects.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12204" target="_blank" rel="noopener"
>#12204&lt;/a>, &lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12264" target="_blank" rel="noopener"
>#12264&lt;/a>: Fixed a regression in pytest 8.0 where tracebacks get longer and longer when multiple&lt;/p>
&lt;p>tests fail due to a shared higher-scope fixture which raised -- by &lt;code>bluetech&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}.&lt;/p>
&lt;p>Also fixed a similar regression in pytest 5.4 for collectors which raise during setup.&lt;/p>
&lt;p>The fix necessitated internal changes which may affect some plugins:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>FixtureDef.cached_result[2]&lt;/code> is now a tuple &lt;code>(exc, tb)&lt;/code>&lt;/p>
&lt;p>instead of &lt;code>exc&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>SetupState.stack&lt;/code> failures are now a tuple &lt;code>(exc, tb)&lt;/code>&lt;/p>
&lt;p>instead of &lt;code>exc&lt;/code>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12275" target="_blank" rel="noopener"
>#12275&lt;/a>: Fixed collection error upon encountering an &lt;code>abstract &amp;lt;abc&amp;gt;&lt;/code>{.interpreted-text role=&amp;ldquo;mod&amp;rdquo;} class, including abstract [unittest.TestCase]{.title-ref} subclasses.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12328" target="_blank" rel="noopener"
>#12328&lt;/a>: Fixed a regression in pytest 8.0.0 where package-scoped parameterized items were not correctly reordered to minimize setups/teardowns in some cases.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12424" target="_blank" rel="noopener"
>#12424&lt;/a>: Fixed crash with [assert testcase is not None]{.title-ref} assertion failure when re-running unittest tests using plugins like pytest-rerunfailures. Regressed in 8.2.2.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12472" target="_blank" rel="noopener"
>#12472&lt;/a>: Fixed a crash when returning category &lt;code>&amp;quot;error&amp;quot;&lt;/code> or &lt;code>&amp;quot;failed&amp;quot;&lt;/code> with a custom test status from &lt;code>pytest_report_teststatus&lt;/code>{.interpreted-text role=&amp;ldquo;hook&amp;rdquo;} hook -- &lt;code>pbrezina&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12505" target="_blank" rel="noopener"
>#12505&lt;/a>: Improved handling of invalid regex patterns in &lt;code>pytest.raises(match=r'...') &amp;lt;pytest.raises&amp;gt;&lt;/code>{.interpreted-text role=&amp;ldquo;func&amp;rdquo;} by providing a clear error message.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12580" target="_blank" rel="noopener"
>#12580&lt;/a>: Fixed a crash when using the cache class on Windows and the cache directory was created concurrently.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/6962" target="_blank" rel="noopener"
>#6962&lt;/a>: Parametrization parameters are now compared using [==]{.title-ref} instead of [is]{.title-ref} ([is]{.title-ref} is still used as a fallback if the parameter does not support [==]{.title-ref}).&lt;/p>
&lt;p>This fixes use of parameters such as lists, which have a different [id]{.title-ref} but compare equal, causing fixtures to be re-computed instead of being cached.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/7166" target="_blank" rel="noopener"
>#7166&lt;/a>: Fixed progress percentages (the &lt;code>[ 87%]&lt;/code> at the edge of the screen) sometimes not aligning correctly when running with pytest-xdist &lt;code>-n&lt;/code>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="improved-documentation-3">Improved documentation
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12153" target="_blank" rel="noopener"
>#12153&lt;/a>: Documented using &lt;code>PYTEST_VERSION&lt;/code>{.interpreted-text role=&amp;ldquo;envvar&amp;rdquo;} to detect if code is running from within a pytest run.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12469" target="_blank" rel="noopener"
>#12469&lt;/a>: The external plugin mentions in the documentation now avoid mentioning&lt;/p>
&lt;p>&lt;code>setuptools entry-points &amp;lt;setuptools:index&amp;gt;&lt;/code>{.interpreted-text role=&amp;ldquo;std:doc&amp;rdquo;} as the concept is&lt;/p>
&lt;p>much more generic nowadays. Instead, the terminology of &amp;quot;external&amp;quot;,&lt;/p>
&lt;p>&amp;quot;installed&amp;quot;, or &amp;quot;third-party&amp;quot; plugins (or packages) replaces that.&lt;/p>
&lt;p>-- by &lt;code>webknjaz&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12577" target="_blank" rel="noopener"
>#12577&lt;/a>: [CI]{.title-ref} and [BUILD_NUMBER]{.title-ref} environment variables role is discribed in&lt;/p>
&lt;p>the reference doc. They now also appear when doing [pytest -h]{.title-ref}&lt;/p>
&lt;p>-- by &lt;code>MarcBresson&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="contributor-facing-changes-2">Contributor-facing changes
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12467" target="_blank" rel="noopener"
>#12467&lt;/a>: Migrated all internal type-annotations to the python3.10+ style by using the [annotations]{.title-ref} future import.&lt;/p>
&lt;p>-- by &lt;code>RonnyPfannschmidt&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/11771" target="_blank" rel="noopener"
>#11771&lt;/a>, &lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12557" target="_blank" rel="noopener"
>#12557&lt;/a>: The PyPy runtime version has been updated to 3.9 from 3.8 that introduced&lt;/p>
&lt;p>a flaky bug at the garbage collector which was not expected to fix there&lt;/p>
&lt;p>as the 3.8 is EoL.&lt;/p>
&lt;p>-- by &lt;code>x612skm&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12493" target="_blank" rel="noopener"
>#12493&lt;/a>: The change log draft preview integration has been refactored to use a&lt;/p>
&lt;p>third party extension &lt;code>sphinxcontib-towncrier&lt;/code>. The previous in-repo&lt;/p>
&lt;p>script was putting the change log preview file at&lt;/p>
&lt;p>&lt;code>doc/en/_changelog_towncrier_draft.rst&lt;/code>{.interpreted-text role=&amp;ldquo;file&amp;rdquo;}. Said file is no longer&lt;/p>
&lt;p>ignored in Git and might show up among untracked files in the&lt;/p>
&lt;p>development environments of the contributors. To address that, the&lt;/p>
&lt;p>contributors can run the following command that will clean it up:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="gp">$&lt;/span> git clean -x -i -- doc/en/_changelog_towncrier_draft.rst
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>-- by &lt;code>webknjaz&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12498" target="_blank" rel="noopener"
>#12498&lt;/a>: All the undocumented &lt;code>tox&lt;/code> environments now have descriptions.&lt;/p>
&lt;p>They can be listed in one's development environment by invoking&lt;/p>
&lt;p>&lt;code>tox -av&lt;/code> in a terminal.&lt;/p>
&lt;p>-- by &lt;code>webknjaz&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12501" target="_blank" rel="noopener"
>#12501&lt;/a>: The changelog configuration has been updated to introduce more accurate&lt;/p>
&lt;p>audience-tailored categories. Previously, there was a &lt;code>trivial&lt;/code>&lt;/p>
&lt;p>change log fragment type with an unclear and broad meaning. It was&lt;/p>
&lt;p>removed and we now have &lt;code>contrib&lt;/code>, &lt;code>misc&lt;/code> and &lt;code>packaging&lt;/code> in&lt;/p>
&lt;p>place of it.&lt;/p>
&lt;p>The new change note types target the readers who are downstream&lt;/p>
&lt;p>packagers and project contributors. Additionally, the miscellaneous&lt;/p>
&lt;p>section is kept for unspecified updates that do not fit anywhere else.&lt;/p>
&lt;p>-- by &lt;code>webknjaz&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12502" target="_blank" rel="noopener"
>#12502&lt;/a>: The UX of the GitHub automation making pull requests to update the&lt;/p>
&lt;p>plugin list has been updated. Previously, the maintainers had to close&lt;/p>
&lt;p>the automatically created pull requests and re-open them to trigger the&lt;/p>
&lt;p>CI runs. From now on, they only need to click the [Ready for review]{.title-ref}&lt;/p>
&lt;p>button instead.&lt;/p>
&lt;p>-- by &lt;code>webknjaz&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12522" target="_blank" rel="noopener"
>#12522&lt;/a>: The &lt;code>:pull:&lt;/code> RST role has been replaced with a shorter&lt;/p>
&lt;p>&lt;code>:pr:&lt;/code> due to starting to use the implementation from&lt;/p>
&lt;p>the third-party &lt;code>sphinx-issues&lt;/code>{.interpreted-text role=&amp;ldquo;pypi&amp;rdquo;} Sphinx extension&lt;/p>
&lt;p>-- by &lt;code>webknjaz&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12531" target="_blank" rel="noopener"
>#12531&lt;/a>: The coverage reporting configuration has been updated to exclude&lt;/p>
&lt;p>pytest's own tests marked as expected to fail from the coverage&lt;/p>
&lt;p>report. This has an effect of reducing the influence of flaky&lt;/p>
&lt;p>tests on the resulting number.&lt;/p>
&lt;p>-- by &lt;code>webknjaz&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12533" target="_blank" rel="noopener"
>#12533&lt;/a>: The &lt;code>extlinks&lt;/code> Sphinx extension is no longer enabled. The &lt;code>:bpo:&lt;/code>&lt;/p>
&lt;p>role it used to declare has been removed with that. BPO itself has&lt;/p>
&lt;p>migrated to GitHub some years ago and it is possible to link the&lt;/p>
&lt;p>respective issues by using their GitHub issue numbers and the&lt;/p>
&lt;p>&lt;code>:issue:&lt;/code> role that the &lt;code>sphinx-issues&lt;/code> extension implements.&lt;/p>
&lt;p>-- by &lt;code>webknjaz&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12562" target="_blank" rel="noopener"
>#12562&lt;/a>: Possible typos in using the &lt;code>:user:&lt;/code> RST role is now being linted&lt;/p>
&lt;p>through the pre-commit tool integration -- by &lt;code>webknjaz&lt;/code>{.interpreted-text role=&amp;ldquo;user&amp;rdquo;}.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h1 id="pytest-822-2024-06-04">pytest 8.2.2 (2024-06-04)
&lt;/h1>&lt;h2 id="bug-fixes-5">Bug Fixes
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12355" target="_blank" rel="noopener"
>#12355&lt;/a>: Fix possible catastrophic performance slowdown on a certain parametrization pattern involving many higher-scoped parameters.&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12367" target="_blank" rel="noopener"
>#12367&lt;/a>: Fix a regression in pytest 8.2.0 where unittest class instances (a fresh one is created for each test) were not released promptly on test teardown but only on session teardown.&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12381" target="_blank" rel="noopener"
>#12381&lt;/a>: Fix possible &amp;quot;Directory not empty&amp;quot; crashes arising from concurent cache dir (&lt;code>.pytest_cache&lt;/code>) creation. Regressed in pytest 8.2.0.&lt;/li>
&lt;/ul>
&lt;h2 id="improved-documentation-4">Improved Documentation
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12290" target="_blank" rel="noopener"
>#12290&lt;/a>: Updated Sphinx theme to use Furo instead of Flask, enabling Dark mode theme.&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12356" target="_blank" rel="noopener"
>#12356&lt;/a>: Added a subsection to the documentation for debugging flaky tests to mention
lack of thread safety in pytest as a possible source of flakyness.&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12363" target="_blank" rel="noopener"
>#12363&lt;/a>: The documentation webpages now links to a canonical version to reduce outdated documentation in search engine results.&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;p>pytest 8.2.1 (2024-05-19)&lt;/p>
&lt;p>=========================&lt;/p>
&lt;p>Improvements&lt;/p>
&lt;hr>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12334" target="_blank" rel="noopener"
>#12334&lt;/a>: Support for Python 3.13 (beta1 at the time of writing).&lt;/li>
&lt;/ul>
&lt;p>Bug Fixes&lt;/p>
&lt;hr>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12120" target="_blank" rel="noopener"
>#12120&lt;/a>: Fix [PermissionError]{.title-ref} crashes arising from directories which are not selected on the command-line.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12191" target="_blank" rel="noopener"
>#12191&lt;/a>: Keyboard interrupts and system exits are now properly handled during the test collection.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12300" target="_blank" rel="noopener"
>#12300&lt;/a>: Fixed handling of 'Function not implemented' error under squashfuse_ll, which is a different way to say that the mountpoint is read-only.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12308" target="_blank" rel="noopener"
>#12308&lt;/a>: Fix a regression in pytest 8.2.0 where the permissions of automatically-created &lt;code>.pytest_cache&lt;/code> directories became &lt;code>rwx------&lt;/code> instead of the expected &lt;code>rwxr-xr-x&lt;/code>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Trivial/Internal Changes&lt;/p>
&lt;hr>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12333" target="_blank" rel="noopener"
>#12333&lt;/a>: pytest releases are now attested using the recent &lt;a class="link" href="https://github.blog/2024-05-02-introducing-artifact-attestations-now-in-public-beta/" target="_blank" rel="noopener"
>Artifact Attestation&lt;/a> support from GitHub, allowing users to verify the provenance of pytest's sdist and wheel artifacts.&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h1 id="pytest-820-2024-04-27">pytest 8.2.0 (2024-04-27)
&lt;/h1>&lt;h2 id="deprecations">Deprecations
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12069" target="_blank" rel="noopener"
>#12069&lt;/a>: A deprecation warning is now raised when implementations of one of the following hooks request a deprecated &lt;code>py.path.local&lt;/code> parameter instead of the &lt;code>pathlib.Path&lt;/code> parameter which replaced it:&lt;/p>
&lt;ul>
&lt;li>&lt;code>pytest_ignore_collect&lt;/code>{.interpreted-text role=&amp;ldquo;hook&amp;rdquo;} - the &lt;code>path&lt;/code> parameter - use &lt;code>collection_path&lt;/code> instead.&lt;/li>
&lt;li>&lt;code>pytest_collect_file&lt;/code>{.interpreted-text role=&amp;ldquo;hook&amp;rdquo;} - the &lt;code>path&lt;/code> parameter - use &lt;code>file_path&lt;/code> instead.&lt;/li>
&lt;li>&lt;code>pytest_pycollect_makemodule&lt;/code>{.interpreted-text role=&amp;ldquo;hook&amp;rdquo;} - the &lt;code>path&lt;/code> parameter - use &lt;code>module_path&lt;/code> instead.&lt;/li>
&lt;li>&lt;code>pytest_report_header&lt;/code>{.interpreted-text role=&amp;ldquo;hook&amp;rdquo;} - the &lt;code>startdir&lt;/code> parameter - use &lt;code>start_path&lt;/code> instead.&lt;/li>
&lt;li>&lt;code>pytest_report_collectionfinish&lt;/code>{.interpreted-text role=&amp;ldquo;hook&amp;rdquo;} - the &lt;code>startdir&lt;/code> parameter - use &lt;code>start_path&lt;/code> instead.&lt;/li>
&lt;/ul>
&lt;p>The replacement parameters are available since pytest 7.0.0.
The old parameters will be removed in pytest 9.0.0.&lt;/p>
&lt;p>See &lt;code>legacy-path-hooks-deprecated&lt;/code>{.interpreted-text role=&amp;ldquo;ref&amp;rdquo;} for more details.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="features">Features
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/11871" target="_blank" rel="noopener"
>#11871&lt;/a>: Added support for reading command line arguments from a file using the prefix character &lt;code>@&lt;/code>, like e.g.: &lt;code>pytest @tests.txt&lt;/code>. The file must have one argument per line.&lt;/p>
&lt;p>See &lt;code>Read arguments from file &amp;lt;args-from-file&amp;gt;&lt;/code>{.interpreted-text role=&amp;ldquo;ref&amp;rdquo;} for details.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="improvements">Improvements
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/11523" target="_blank" rel="noopener"
>#11523&lt;/a>: &lt;code>pytest.importorskip&lt;/code>{.interpreted-text role=&amp;ldquo;func&amp;rdquo;} will now issue a warning if the module could be found, but raised &lt;code>ImportError&lt;/code>{.interpreted-text role=&amp;ldquo;class&amp;rdquo;} instead of &lt;code>ModuleNotFoundError&lt;/code>{.interpreted-text role=&amp;ldquo;class&amp;rdquo;}.&lt;/p>
&lt;p>The warning can be suppressed by passing &lt;code>exc_type=ImportError&lt;/code> to &lt;code>pytest.importorskip&lt;/code>{.interpreted-text role=&amp;ldquo;func&amp;rdquo;}.&lt;/p>
&lt;p>See &lt;code>import-or-skip-import-error&lt;/code>{.interpreted-text role=&amp;ldquo;ref&amp;rdquo;} for details.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/11728" target="_blank" rel="noopener"
>#11728&lt;/a>: For &lt;code>unittest&lt;/code>-based tests, exceptions during class cleanup (as raised by functions registered with &lt;code>TestCase.addClassCleanup &amp;lt;unittest.TestCase.addClassCleanup&amp;gt;&lt;/code>{.interpreted-text role=&amp;ldquo;meth&amp;rdquo;}) are now reported instead of silently failing.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/11777" target="_blank" rel="noopener"
>#11777&lt;/a>: Text is no longer truncated in the &lt;code>short test summary info&lt;/code> section when &lt;code>-vv&lt;/code> is given.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12112" target="_blank" rel="noopener"
>#12112&lt;/a>: Improved namespace packages detection when &lt;code>consider_namespace_packages&lt;/code>{.interpreted-text role=&amp;ldquo;confval&amp;rdquo;} is enabled, covering more situations (like editable installs).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/9502" target="_blank" rel="noopener"
>#9502&lt;/a>: Added &lt;code>PYTEST_VERSION&lt;/code>{.interpreted-text role=&amp;ldquo;envvar&amp;rdquo;} environment variable which is defined at the start of the pytest session and undefined afterwards. It contains the value of &lt;code>pytest.__version__&lt;/code>, and among other things can be used to easily check if code is running from within a pytest run.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="bug-fixes-6">Bug Fixes
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12065" target="_blank" rel="noopener"
>#12065&lt;/a>: Fixed a regression in pytest 8.0.0 where test classes containing &lt;code>setup_method&lt;/code> and tests using &lt;code>@staticmethod&lt;/code> or &lt;code>@classmethod&lt;/code> would crash with &lt;code>AttributeError: 'NoneType' object has no attribute 'setup_method'&lt;/code>.&lt;/p>
&lt;p>Now the &lt;code>request.instance &amp;lt;pytest.FixtureRequest.instance&amp;gt;&lt;/code>{.interpreted-text role=&amp;ldquo;attr&amp;rdquo;} attribute of tests using &lt;code>@staticmethod&lt;/code> and &lt;code>@classmethod&lt;/code> is no longer &lt;code>None&lt;/code>, but a fresh instance of the class, like in non-static methods.
Previously it was &lt;code>None&lt;/code>, and all fixtures of such tests would share a single &lt;code>self&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12135" target="_blank" rel="noopener"
>#12135&lt;/a>: Fixed issue where fixtures adding their finalizer multiple times to fixtures they request would cause unreliable and non-intuitive teardown ordering in some instances.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12194" target="_blank" rel="noopener"
>#12194&lt;/a>: Fixed a bug with &lt;code>--importmode=importlib&lt;/code> and &lt;code>--doctest-modules&lt;/code> where child modules did not appear as attributes in parent modules.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/1489" target="_blank" rel="noopener"
>#1489&lt;/a>: Fixed some instances where teardown of higher-scoped fixtures was not happening in the reverse order they were initialized in.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="trivialinternal-changes">Trivial/Internal Changes
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12069" target="_blank" rel="noopener"
>#12069&lt;/a>: &lt;code>pluggy&amp;gt;=1.5.0&lt;/code> is now required.&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12167" target="_blank" rel="noopener"
>#12167&lt;/a>: &lt;code>cache &amp;lt;cache&amp;gt;&lt;/code>{.interpreted-text role=&amp;ldquo;ref&amp;rdquo;}: create supporting files (&lt;code>CACHEDIR.TAG&lt;/code>, &lt;code>.gitignore&lt;/code>, etc.) in a temporary directory to provide atomic semantics.&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h1 id="pytest-812-2024-04-26">pytest 8.1.2 (2024-04-26)
&lt;/h1>&lt;h2 id="bug-fixes-7">Bug Fixes
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/12114" target="_blank" rel="noopener"
>#12114&lt;/a>: Fixed error in &lt;code>pytest.approx&lt;/code>{.interpreted-text role=&amp;ldquo;func&amp;rdquo;} when used with [numpy]{.title-ref} arrays and comparing with other types.&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;blockquote>
&lt;p>完整清单，请访问官方列表: &lt;a class="link" href="https://github.com/pytest-dev/pytest/releases" target="_blank" rel="noopener"
> Pytest 发布清单&lt;/a>&lt;/p>&lt;/blockquote></description></item><item><title>RobotFramework 发布历史 (latest 10)</title><link>https://chengxiaqiucao.github.io/page/robotframework-10/</link><pubDate>Tue, 15 Apr 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/page/robotframework-10/</guid><description>&lt;h1 id="robotframework-发布历史-latest-10">RobotFramework 发布历史 (latest 10)
&lt;/h1>&lt;hr>
&lt;h2 id="robotframework---robot-framework-722199134899">RobotFramework - Robot Framework 7.2.2(199134899)
&lt;/h2>&lt;p>created: 2025-02-07T20:57:24Z&lt;/p>
&lt;p>&lt;a class="link" href="http://robotframework.org/" target="_blank" rel="noopener"
>Robot Framework&lt;/a> 7.2.2 is the second and the last planned bug fix release in the Robot Framework 7.2.x series. It fixes a mistake made when releasing &lt;a class="link" href="https://github.com/robotframework/robotframework/blob/master/doc/releasenotes/rf-7.2.1.rst" target="_blank" rel="noopener"
>Robot Framework 7.2.1&lt;/a>. See the &lt;a class="link" href="https://github.com/robotframework/robotframework/blob/master/doc/releasenotes/rf-7.2.2.rst" target="_blank" rel="noopener"
>full release notes&lt;/a> for more information.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="robotframework---robot-framework-721199134622">RobotFramework - Robot Framework 7.2.1(199134622)
&lt;/h2>&lt;p>created: 2025-02-07T17:25:28Z&lt;/p>
&lt;p>&lt;a class="link" href="http://robotframework.org/" target="_blank" rel="noopener"
>Robot Framework&lt;/a> 7.2.1 is the first bug fix release in the Robot Framework 7.2.x series. It fixes all reported regressions in &lt;a class="link" href="https://github.com/robotframework/robotframework/blob/master/doc/releasenotes/rf-7.2.rst" target="_blank" rel="noopener"
>Robot Framework 7.2&lt;/a> as well as some issues affecting also earlier versions.&lt;/p>
&lt;p>For more details about fixes in Robot Framework 7.2.1, see the &lt;a class="link" href="https://github.com/robotframework/robotframework/blob/master/doc/releasenotes/rf-7.2.1.rst" target="_blank" rel="noopener"
>full release notes&lt;/a>.&lt;/p>
&lt;p>Unfortunately the there was a mistake in the build process that required creating an immediate &lt;a class="link" href="https://github.com/robotframework/robotframework/blob/master/doc/releasenotes/rf-7.2.2.rst" target="_blank" rel="noopener"
>Robot Framework 7.2.2&lt;/a> release.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="robotframework---robot-framework-72194689676">RobotFramework - Robot Framework 7.2(194689676)
&lt;/h2>&lt;p>created: 2025-01-14T14:46:18Z&lt;/p>
&lt;p>&lt;a class="link" href="http://robotframework.org/" target="_blank" rel="noopener"
>Robot Framework&lt;/a> 7.2 is a feature release with JSON output support (#3423), GROUP syntax for grouping keywords and control structures (#5257), new Libdoc technology (#4304) including translations (#3676), and various other enhancements and fixes.&lt;/p>
&lt;p>Robot Framework 7.2 was released on Tuesday January 14, 2025. For more information see the &lt;a class="link" href="https://github.com/robotframework/robotframework/blob/master/doc/releasenotes/rf-7.2.rst" target="_blank" rel="noopener"
>full release notes&lt;/a>.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="robotframework---robot-framework-72-release-candidate-1192771651">RobotFramework - Robot Framework 7.2 release candidate 1(192771651)
&lt;/h2>&lt;p>created: 2024-12-31T09:42:40Z&lt;/p>
&lt;p>&lt;a class="link" href="http://robotframework.org/" target="_blank" rel="noopener"
>Robot Framework&lt;/a> 7.2 is a feature release with JSON output support (#3423), GROUP syntax for grouping keywords and control structures (#5257), new Libdoc technology (#4304) including translations (#3676), and various other enhancements and fixes. This release candidate contains all planned changes, but new Libdoc translations can still be added before the final release and possible bugs will be fixed.&lt;/p>
&lt;p>Robot Framework 7.2 release candidate 1 was released on Tuesday December 31, 2024, and the final release is targeted for Tuesday January 14, 2025. For more information see the &lt;a class="link" href="https://github.com/robotframework/robotframework/blob/master/doc/releasenotes/rf-7.2rc1.rst" target="_blank" rel="noopener"
>full release notes&lt;/a>.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="robotframework---robot-framework-72-beta-1191550750">RobotFramework - Robot Framework 7.2 beta 1(191550750)
&lt;/h2>&lt;p>created: 2024-12-18T22:28:31Z&lt;/p>
&lt;p>&lt;a class="link" href="http://robotframework.org/" target="_blank" rel="noopener"
>Robot Framework&lt;/a> 7.2 is a feature release with JSON output support (#3423), GROUP syntax for grouping keywords and control structures (#5257), new Libdoc technology (#4304) including translations (#3676), and various other enhancements and fixes. This beta release contains most of the planned features, but some changes are still possible before the release candidate.&lt;/p>
&lt;p>Robot Framework 7.2 was released on Wednesday December 18, 2024. For more information see the &lt;a class="link" href="https://github.com/robotframework/robotframework/blob/master/doc/releasenotes/rf-7.2b1.rst" target="_blank" rel="noopener"
>full release notes&lt;/a>.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="robotframework---robot-framework-711180804502">RobotFramework - Robot Framework 7.1.1(180804502)
&lt;/h2>&lt;p>created: 2024-10-19T12:30:41Z&lt;/p>
&lt;p>&lt;a class="link" href="http://robotframework.org/" target="_blank" rel="noopener"
>Robot Framework&lt;/a> 7.1.1 is the first and also the only planned bug fix release in the Robot Framework 7.1.x series. It fixes all reported regressions as well as some issues affecting also earlier versions.&lt;/p>
&lt;p>Robot Framework 7.1.1 was released on Saturday October 19, 2024. For more information see the &lt;a class="link" href="https://github.com/robotframework/robotframework/blob/master/doc/releasenotes/rf-7.1.1.rst" target="_blank" rel="noopener"
>full release notes&lt;/a>.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="robotframework---robot-framework-71174309538">RobotFramework - Robot Framework 7.1(174309538)
&lt;/h2>&lt;p>created: 2024-09-10T11:07:14Z&lt;/p>
&lt;p>&lt;a class="link" href="http://robotframework.org/" target="_blank" rel="noopener"
>Robot Framework&lt;/a> 7.1 is a feature release with enhancements, for example, to listeners and to the &lt;code>VAR&lt;/code> syntax that was introduced in Robot Framework 7.0. For more information see the &lt;a class="link" href="https://github.com/robotframework/robotframework/blob/master/doc/releasenotes/rf-7.1.rst" target="_blank" rel="noopener"
>release notes&lt;/a>.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="robotframework---robot-framework-71-release-candidate-2173208447">RobotFramework - Robot Framework 7.1 release candidate 2(173208447)
&lt;/h2>&lt;p>created: 2024-09-03T12:43:34Z&lt;/p>
&lt;p>&lt;a class="link" href="http://robotframework.org/" target="_blank" rel="noopener"
>Robot Framework&lt;/a> 7.1 is a feature release with enhancements, for example, to listeners and to the new &lt;code>VAR&lt;/code> syntax. Robot Framework 7.1 release candidate 2 contains all planned features and other changes. For details see the &lt;a class="link" href="https://github.com/robotframework/robotframework/blob/master/doc/releasenotes/rf-7.1rc2.rst" target="_blank" rel="noopener"
>release notes&lt;/a>.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="robotframework---robot-framework-71-release-candidate-1172715970">RobotFramework - Robot Framework 7.1 release candidate 1(172715970)
&lt;/h2>&lt;p>created: 2024-08-30T08:22:15Z&lt;/p>
&lt;p>&lt;a class="link" href="http://robotframework.org/" target="_blank" rel="noopener"
>Robot Framework&lt;/a> 7.1 is a feature release with enhancements, for example, to listeners and to the new &lt;code>VAR&lt;/code> syntax. Robot Framework 7.1 release candidate 1 contains all planned features and other changes. For details see the &lt;a class="link" href="https://github.com/robotframework/robotframework/blob/master/doc/releasenotes/rf-7.1rc1.rst" target="_blank" rel="noopener"
>release notes&lt;/a>.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="robotframework---robot-framework-701159737632">RobotFramework - Robot Framework 7.0.1(159737632)
&lt;/h2>&lt;p>created: 2024-06-10T20:02:34Z&lt;/p>
&lt;p>&lt;a class="link" href="http://robotframework.org/" target="_blank" rel="noopener"
>Robot Framework&lt;/a> 7.0.1 is the first and the only planned bug fix release in the Robot Framework 7.0.x series. It fixes all reported regressions as well as some issues affecting also earlier versions. The only bigger enhancement it contains is the new Japanese &lt;a class="link" href="https://robotframework.org/robotframework/latest/RobotFrameworkUserGuide.html#localization" target="_blank" rel="noopener"
>localization&lt;/a> (#5069).&lt;/p>
&lt;p>Robot Framework 7.0.1 was released on Monday June 10, 2024. For more information see the &lt;a class="link" href="https://github.com/robotframework/robotframework/blob/master/doc/releasenotes/rf-7.0.1.rst" target="_blank" rel="noopener"
>full release notes&lt;/a>.&lt;/p>
&lt;p>========================================&lt;/p>
&lt;blockquote>
&lt;p>完整清单，请访问官方列表: &lt;a class="link" href="https://github.com/robotframework/robotframework/releases" target="_blank" rel="noopener"
> RobotFramework 发布清单&lt;/a>&lt;/p>&lt;/blockquote></description></item><item><title>Selenium 发布历史 (latest 10)</title><link>https://chengxiaqiucao.github.io/page/selenium-10/</link><pubDate>Tue, 15 Apr 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/page/selenium-10/</guid><description>&lt;h1 id="selenium-发布历史-latest-10">Selenium 发布历史 (latest 10)
&lt;/h1>&lt;hr>
&lt;h2 id="selenium---nightly212348259">Selenium - Nightly(212348259)
&lt;/h2>&lt;p>created: 2025-04-13T20:23:29Z&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="selenium---selenium-4310210518253">Selenium - Selenium 4.31.0(210518253)
&lt;/h2>&lt;p>created: 2025-04-05T02:12:17Z&lt;/p>
&lt;h3 id="detailed-changelogs-by-component">Detailed Changelogs by Component
&lt;/h3>&lt;p>&lt;img src="https://www.selenium.dev/images/programming/java.svg" width="20" height="20"> &lt;strong>&lt;a class="link" href="https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG" target="_blank" rel="noopener"
>Java&lt;/a>&lt;/strong>     |    &lt;img src="https://www.selenium.dev/images/programming/python.svg" width="20" height="20"> &lt;strong>&lt;a class="link" href="https://github.com/SeleniumHQ/selenium/blob/trunk/py/CHANGES" target="_blank" rel="noopener"
>Python&lt;/a>&lt;/strong>     |    &lt;img src="https://www.selenium.dev/images/programming/dotnet.svg" width="20" height="20"> &lt;strong>&lt;a class="link" href="https://github.com/SeleniumHQ/selenium/blob/trunk/dotnet/CHANGELOG" target="_blank" rel="noopener"
>DotNet&lt;/a>&lt;/strong>     |    &lt;img src="https://www.selenium.dev/images/programming/ruby.svg" width="20" height="20"> &lt;strong>&lt;a class="link" href="https://github.com/SeleniumHQ/selenium/blob/trunk/rb/CHANGES" target="_blank" rel="noopener"
>Ruby&lt;/a>&lt;/strong>     |    &lt;img src="https://www.selenium.dev/images/programming/javascript.svg" width="20" height="20"> &lt;strong>&lt;a class="link" href="https://github.com/SeleniumHQ/selenium/blob/trunk/javascript/selenium-webdriver/CHANGES.md" target="_blank" rel="noopener"
>JavaScript&lt;/a>&lt;/strong>&lt;/p>
&lt;br>
&lt;!-- Release notes generated using configuration in .github/release.yml at 4ae8fc9f8a7891065eff29ecc4db5ec29251fbee -->
&lt;h3 id="whats-changed">What&amp;rsquo;s Changed
&lt;/h3>&lt;details>
&lt;summary>Click to see all the changes included in this release&lt;/summary>
&lt;ul>
&lt;li>
&lt;p>[py] Fix docstring issues that sphinx complains about by @cgoldberg in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15466" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15466&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[java] handle &lt;code>getNamedCookie&lt;/code> and &lt;code>deleteNamedCookie&lt;/code> for empty strings by @Delta456 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15092" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15092&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[rb] Fix BiDi tests errors by @aguspe in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15482" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15482&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[py] service: only shutdown if process not terminated by @PSandro in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15183" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15183&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Decouple EvaluateResult in Script module by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15493" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15493&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Decouple AuthCredentials in Network module by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15491" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15491&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Decouple WindowProxyProperties in Script module by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15490" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15490&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Decouple ChannelProperties in Script module by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15489" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15489&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Decouple ScreenshotOrigin in BrowsingContext module by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15488" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15488&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Decouple nested types in Locator by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15487" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15487&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[bazel] Rename &lt;code>remote&lt;/code> config to &lt;code>rbe&lt;/code> by @shs96c in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15496" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15496&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[js] add ErrorCode for &lt;code>DetachedShadowRootError&lt;/code> by @Delta456 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15455" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15455&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Remove the &lt;code>wgxpath&lt;/code> library by @shs96c in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15498" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15498&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Fix null warnings in &lt;code>RelativeBy&lt;/code> by sealing the type by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15379" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15379&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[bidi][java] Add test to add a cookie in a user context by @pujagani in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15312" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15312&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[JS] Remove js_dossiar references by @harsha509 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15508" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15508&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>chore(CONTRIBUTING.md): update bazel commands for JS by @Delta456 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15507" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15507&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Relocate selenium-webdriver to root directory by @harsha509 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15509" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15509&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[java] Add nullness for AppCacheStatus, Credential, and Either by @mk868 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15119" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15119&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[java] Add nullness for interactions by @mk868 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15118" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15118&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[rb] Allow symbols again to be passed on delete_cookie by @aguspe in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15519" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15519&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Simplify conversion to &lt;code>LocalValue&lt;/code> by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15441" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15441&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[js][bidi]: fix storage module instance checks and add user context cookie test by @navin772 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15467" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15467&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>chore(README.md): Update bazel test command for JS by @navin772 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15520" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15520&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Enable rust tests in RBE builds by @shs96c in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15516" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15516&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Address lingering AOT warnings by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15506" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15506&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Unignore GetClientWindows test for chromium by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15534" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15534&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Unify protected and internal Execute methods by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15233" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15233&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[py] Remove unused mocker arg in chrome options test by @cgoldberg in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15540" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15540&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Simplify &lt;code>PopupWindowFinder.Invoke&lt;/code> by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15549" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15549&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[grid] Expose register status via Node status response by @VietND96 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15448" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15448&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[py] Fix driver class name in test fixtures by @cgoldberg in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15550" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15550&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[build] update templates and auto-label issues by @titusfortner in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15542" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15542&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[JS] Add websocket port option in Firefox ServiceBuilder when &amp;lsquo;&amp;ndash;connect-existing&amp;rsquo; is not passed by @harsha509 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15557" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15557&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[java] enable safari for CookieImplementationTest by @Delta456 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15544" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15544&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Make ContinueWithAuthCommand closer to spec (breaking change) by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15545" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15545&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Avoid intermediate JsonDocument allocation to determine unordered discriminator by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15555" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15555&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[build] allow tests tagged exclusive-if-local to run on rbe by @titusfortner in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15483" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15483&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="new-contributors">New Contributors
&lt;/h3>&lt;ul>
&lt;li>@PSandro made their first contribution in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15183" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15183&lt;/a>&lt;/li>
&lt;/ul>
&lt;/details>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/compare/selenium-4.30.0...selenium-4.31.0" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/compare/selenium-4.30.0...selenium-4.31.0&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="selenium---nightly209730207">Selenium - Nightly(209730207)
&lt;/h2>&lt;p>created: 2025-04-01T09:56:59Z&lt;/p>
&lt;h3 id="commits">Commits
&lt;/h3>&lt;ul>
&lt;li>bea8f71: [build] update label references (titusfortner)&lt;/li>
&lt;li>3079db6: [dotnet][rb][java][js][py] Automated Browser Version Update (#15505) (Selenium CI Bot) &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15505" target="_blank" rel="noopener"
>#15505&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="selenium---nightly207649340">Selenium - Nightly(207649340)
&lt;/h2>&lt;p>created: 2025-03-22T19:46:50Z&lt;/p>
&lt;h3 id="commits-1">Commits
&lt;/h3>&lt;ul>
&lt;li>49fc4ef: Update mirror info (Sat Mar 22 00:20:52 UTC 2025) (Selenium CI Bot)&lt;/li>
&lt;li>3b5c013: [build] move git commit actions from rakefile tasks to workflow steps (titusfortner)&lt;/li>
&lt;li>d17f2e4: bump versions to nightly (titusfortner)&lt;/li>
&lt;li>0b5895b: [rb] put back the script method that was inadvertently deleted (titusfortner)&lt;/li>
&lt;li>e92ff01: [rb] add bidi tests to rbe (titusfortner)&lt;/li>
&lt;li>a072f1b: [build] rename skip-remote to skip-rbe (titusfortner)&lt;/li>
&lt;li>5962148: [rb] Fix BiDi tests errors (#15482) (Augustin Gottlieb) &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15482" target="_blank" rel="noopener"
>#15482&lt;/a>&lt;/li>
&lt;li>02ecb84: [rb] update changelog and bump version to 4.30.1 (titusfortner)&lt;/li>
&lt;li>7ce4ef4: [rb] bump version to nightly (titusfortner)&lt;/li>
&lt;li>6d93237: [build] improve how nightly version is referenced in rake tasks (titusfortner)&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="selenium---selenium-4300207273449">Selenium - Selenium 4.30.0(207273449)
&lt;/h2>&lt;p>created: 2025-03-20T19:40:23Z&lt;/p>
&lt;h3 id="detailed-changelogs-by-component-1">Detailed Changelogs by Component
&lt;/h3>&lt;p>&lt;img src="https://www.selenium.dev/images/programming/java.svg" width="20" height="20"> &lt;strong>&lt;a class="link" href="https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG" target="_blank" rel="noopener"
>Java&lt;/a>&lt;/strong>     |    &lt;img src="https://www.selenium.dev/images/programming/python.svg" width="20" height="20"> &lt;strong>&lt;a class="link" href="https://github.com/SeleniumHQ/selenium/blob/trunk/py/CHANGES" target="_blank" rel="noopener"
>Python&lt;/a>&lt;/strong>     |    &lt;img src="https://www.selenium.dev/images/programming/dotnet.svg" width="20" height="20"> &lt;strong>&lt;a class="link" href="https://github.com/SeleniumHQ/selenium/blob/trunk/dotnet/CHANGELOG" target="_blank" rel="noopener"
>DotNet&lt;/a>&lt;/strong>     |    &lt;img src="https://www.selenium.dev/images/programming/ruby.svg" width="20" height="20"> &lt;strong>&lt;a class="link" href="https://github.com/SeleniumHQ/selenium/blob/trunk/rb/CHANGES" target="_blank" rel="noopener"
>Ruby&lt;/a>&lt;/strong>     |    &lt;img src="https://www.selenium.dev/images/programming/javascript.svg" width="20" height="20"> &lt;strong>&lt;a class="link" href="https://github.com/SeleniumHQ/selenium/blob/trunk/javascript/node/selenium-webdriver/CHANGES.md" target="_blank" rel="noopener"
>JavaScript&lt;/a>&lt;/strong>&lt;/p>
&lt;br>
&lt;!-- Release notes generated using configuration in .github/release.yml at 509c7f17cc813e5fddebc18b1aa2d951edcdb441 -->
&lt;h3 id="whats-changed-1">What&amp;rsquo;s Changed
&lt;/h3>&lt;details>
&lt;summary>Click to see all the changes included in this release&lt;/summary>
&lt;ul>
&lt;li>
&lt;p>[dotnet] Fix dev environment to run tests on Windows/MacOS by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15303" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15303&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update AUTHORS by @cgoldberg in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15316" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15316&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[rb] Fix &amp;ldquo;no anonymous block parameter&amp;rdquo; in ruby 3.1 by @smortex in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15315" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15315&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Revisit ignored intergration tests for chrome/edge by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15324" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15324&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Increment &lt;code>WebDriver&lt;/code> towards nullability by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15228" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15228&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Do not warn when passing in null driver paths to driver service by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15328" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15328&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Add &lt;code>SystemClock&lt;/code> singleton by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15285" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15285&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Remove obsoleted members/types for 4.30 by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15342" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15342&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[py] expected_conditions: correct type annotation by @Delta456 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15337" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15337&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Parse response before deserialization by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15268" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15268&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Make internal console writer more flexible via taking TextWriter only by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15346" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15346&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Annotate nullability on most remaining types by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15257" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15257&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Annotate CDP as AOT-unsafe by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/14637" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/14637&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Annotate nullability on more of &lt;code>WebElement&lt;/code> by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15230" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15230&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Annotate nullable reference types on CDP-generated code by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15255" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15255&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Simplify and nullable annotate &lt;code>DriverFinder&lt;/code> by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15232" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15232&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Annotate nullability on &lt;code>WebDriver.SessionId&lt;/code> by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15350" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15350&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Enable nullability on remote file download APIs by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15351" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15351&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Annotate nullability on elements and &lt;code>WebDriver&lt;/code> by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15352" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15352&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Annotate nullability on capabilities types by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15353" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15353&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[BiDi][rb] Add set viewport for browsing context by @aguspe in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15290" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15290&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add support for handling user prompt by @aguspe in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15291" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15291&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Enable Nullable Reference Types by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15354" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15354&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[rb][BiDi] Add Browser context activate command by @aguspe in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15365" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15365&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[grid] Add traces for event stop session in Node by @VietND96 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15348" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15348&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[grid] Introduced new variable for server start timeout by @FloKNetcare in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15345" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15345&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] Trim away CDP when publishing AOT apps by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15217" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15217&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>modified delete cookie added code and test by @pallavigitwork in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15386" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15386&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Add SetFiles command in Input module by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15392" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15392&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Added UnhandledPromptBehavior for new session capability by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15391" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15391&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[rust] Selenium Manager support nightly Grid (#13384) by @bonigarcia in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15366" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15366&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Issue 12549 fix atoms generation lowdash by @ahalbrock in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15247" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15247&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[js][bidi]: fix chrome and firefox test for CI RBE by @navin772 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15405" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15405&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[py] Ignore devtools during linting by @cgoldberg in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15410" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15410&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[rb] Add target type param to devtools by @jpawlyn in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15416" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15416&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Encapsulate transport inside &lt;code>Broker&lt;/code> by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15423" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15423&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Align &lt;code>Scipt.LocalValue.Map&lt;/code> with spec, enable negative zero by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15395" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15395&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Make &lt;code>LocalValue&lt;/code> types not nested by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15428" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15428&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Migrate RemoteValue to separate types by @RenderMichael in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15426" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15426&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[py] Fix code formatting selenium_manager_tests.py by @cgoldberg in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15413" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15413&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[py] fix test discovery for pytest by @cgoldberg in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15415" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15415&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[py] Rename credentials test file so it gets run by @cgoldberg in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15419" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15419&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update Python development instructions in README.md by @cgoldberg in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15424" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15424&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Make &lt;code>PartitionDescriptor&lt;/code> as not nested by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15435" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15435&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Make &lt;code>UrlPattern&lt;/code> as not nested by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15434" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15434&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Make script &lt;code>Target&lt;/code> as not nested by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15436" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15436&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Make &lt;code>LogEntry&lt;/code> as not nested by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15432" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15432&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Make &lt;code>BytesValue&lt;/code> not nested by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15433" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15433&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Make input &lt;code>Actions&lt;/code> as not nested by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15437" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15437&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Make &lt;code>ProxyConfiguration&lt;/code> as not nested by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15438" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15438&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Make &lt;code>Locator&lt;/code> types as not nested by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15429" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15429&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Make &lt;code>ClipRectangle&lt;/code> as not nested by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15431" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15431&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Make &lt;code>RealmInfo&lt;/code> as not nested by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15444" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15444&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[dotnet] [bidi] Make input &lt;code>Origin&lt;/code> as not nested by @nvborisenko in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15445" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15445&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[py]: use &lt;code>By&lt;/code> class attributes instead of strings by @navin772 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15402" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15402&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[java][bidi]: use &lt;code>getBidiSessionStatus&lt;/code> method in tests by @navin772 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15403" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15403&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[js][bidi]: implement permissions module commands in JS by @navin772 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15304" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15304&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[bidi][java] Add Permissions Module commands by @pujagani in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15294" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15294&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ci] Update remote-image Dockerfile by @VietND96 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15460" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15460&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[py] fix doc for find_elements by @Delta456 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15411" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15411&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[py] improve socket resource management with proper shutdown sequence by @allrob23 in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15453" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15453&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[py] Update Python documentation (modernization) by @cgoldberg in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15459" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15459&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[py] Fix bare exception by @cgoldberg in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15465" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15465&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="new-contributors-1">New Contributors
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>@smortex made their first contribution in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15315" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15315&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@FloKNetcare made their first contribution in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15345" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15345&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@pallavigitwork made their first contribution in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15386" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15386&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@ahalbrock made their first contribution in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15247" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15247&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@jpawlyn made their first contribution in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15416" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15416&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@allrob23 made their first contribution in &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15453" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/pull/15453&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/details>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/compare/selenium-4.29.0...selenium-4.30.0" target="_blank" rel="noopener"
>https://github.com/SeleniumHQ/selenium/compare/selenium-4.29.0...selenium-4.30.0&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="selenium---nightly206120544">Selenium - Nightly(206120544)
&lt;/h2>&lt;p>created: 2025-03-16T11:15:18Z&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="selenium---nightly204619602">Selenium - Nightly(204619602)
&lt;/h2>&lt;p>created: 2025-03-09T17:27:51Z&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="selenium---nightly204560008">Selenium - Nightly(204560008)
&lt;/h2>&lt;p>created: 2025-03-08T17:34:03Z&lt;/p>
&lt;h3 id="commits-2">Commits
&lt;/h3>&lt;ul>
&lt;li>709df6d: modified delete cookie added code and test (#15386) (Pallavi) &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15386" target="_blank" rel="noopener"
>#15386&lt;/a>&lt;/li>
&lt;li>87347ca: [dotnet] [bidi] Order command properties in json to simplify logs reading (Nikolay Borisenko)&lt;/li>
&lt;li>86f5208: [dotnet] [bidi] Add SetFiles command in Input module (#15392) (Nikolay Borisenko) &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15392" target="_blank" rel="noopener"
>#15392&lt;/a>&lt;/li>
&lt;li>80feb18: [dotnet] [bidi] Added UnhandledPromptBehavior for new session capability (#15391) (Nikolay Borisenko) &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15391" target="_blank" rel="noopener"
>#15391&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="selenium---nightly203463917">Selenium - Nightly(203463917)
&lt;/h2>&lt;p>created: 2025-03-03T23:50:27Z&lt;/p>
&lt;h3 id="commits-3">Commits
&lt;/h3>&lt;ul>
&lt;li>e23c025: [rust] Remove check for old metadata file (Boni Garcia)&lt;/li>
&lt;li>3a6f47b: [BiDi][rb] Add set viewport for browsing context (#15290) (Augustin Gottlieb) &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15290" target="_blank" rel="noopener"
>#15290&lt;/a>&lt;/li>
&lt;li>014129f: Add support for handling user prompt (#15291) (Augustin Gottlieb) &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15291" target="_blank" rel="noopener"
>#15291&lt;/a>&lt;/li>
&lt;li>ea957a2: [rust] Check lock folder at the end of SM execution and clear it if required (Boni Garcia)&lt;/li>
&lt;li>f8fd5fe: [rust] Bump dependencies to latest stable versions (Boni Garcia)&lt;/li>
&lt;li>c29317c: [rust] Store reference to lock file to clear folder when necessary (Boni Garcia)&lt;/li>
&lt;li>9af3d6e: [rust] Read PROCESSOR_ARCHITECTURE env in Windows to determine architecture (Boni Garcia)&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;h2 id="selenium---nightly202432932">Selenium - Nightly(202432932)
&lt;/h2>&lt;p>created: 2025-02-25T22:18:09Z&lt;/p>
&lt;h3 id="commits-4">Commits
&lt;/h3>&lt;ul>
&lt;li>129da86: [rust] Include release 0.36.0 in the geckodriver mapping file (Boni Garcia)&lt;/li>
&lt;li>622f761: [dotnet] Increment &lt;code>WebDriver&lt;/code> towards nullability (#15228) (Michael Render) &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15228" target="_blank" rel="noopener"
>#15228&lt;/a>&lt;/li>
&lt;li>4134f70: [dotnet] Do not warn when passing in null driver paths to driver service (#15328) (Michael Render) &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15328" target="_blank" rel="noopener"
>#15328&lt;/a>&lt;/li>
&lt;li>0bc8c54: [dotnet] Add &lt;code>SystemClock&lt;/code> singleton (#15285) (Michael Render) &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15285" target="_blank" rel="noopener"
>#15285&lt;/a>&lt;/li>
&lt;li>505b594: [dotnet] Remove obsoleted members/types for 4.30 (#15342) (Nikolay Borisenko) &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/pull/15342" target="_blank" rel="noopener"
>#15342&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>========================================&lt;/p>
&lt;blockquote>
&lt;p>完整清单，请访问官方列表: &lt;a class="link" href="https://github.com/SeleniumHQ/selenium/releases" target="_blank" rel="noopener"
> Selenium 发布清单&lt;/a>&lt;/p>&lt;/blockquote></description></item><item><title>UIAutomator2 发布历史 (latest 10)</title><link>https://chengxiaqiucao.github.io/page/uiautomator2-10/</link><pubDate>Tue, 15 Apr 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/page/uiautomator2-10/</guid><description>&lt;h1 id="uiautomator2-发布历史-latest-10">UIAutomator2 发布历史 (latest 10)
&lt;/h1>&lt;hr>
&lt;h2 id="uiautomator2---329205485255">UIAutomator2 - 3.2.9(205485255)
&lt;/h2>&lt;p>created: 2025-03-13T06:57:38Z&lt;/p>
&lt;h3 id="whats-changed">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>📖 Adding English Documentation by @jhd3197 in &lt;a class="link" href="https://github.com/openatx/uiautomator2/pull/1064" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/pull/1064&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>hotfix for nanohttpd gzip leaks by @codeskyblue in &lt;a class="link" href="https://github.com/openatx/uiautomator2/pull/1081" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/pull/1081&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="new-contributors">New Contributors
&lt;/h3>&lt;ul>
&lt;li>@jhd3197 made their first contribution in &lt;a class="link" href="https://github.com/openatx/uiautomator2/pull/1064" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/pull/1064&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/openatx/uiautomator2/compare/3.2.8...3.2.9" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/compare/3.2.8...3.2.9&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="uiautomator2---328189193966">UIAutomator2 - 3.2.8(189193966)
&lt;/h2>&lt;p>created: 2024-12-05T14:26:41Z&lt;/p>
&lt;h3 id="whats-changed-1">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>fix back exist_ok by @codeskyblue in &lt;a class="link" href="https://github.com/openatx/uiautomator2/pull/1059" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/pull/1059&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/openatx/uiautomator2/compare/3.2.7...3.2.8" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/compare/3.2.7...3.2.8&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="uiautomator2---327189189423">UIAutomator2 - 3.2.7(189189423)
&lt;/h2>&lt;p>created: 2024-12-05T14:06:16Z&lt;/p>
&lt;h3 id="whats-changed-2">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>Expose param &lt;code>exist_ok&lt;/code> to &lt;code>_BaseClient&lt;/code> api &lt;code>pull&lt;/code> by @EnderTheCoder in &lt;a class="link" href="https://github.com/openatx/uiautomator2/pull/1058" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/pull/1058&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="new-contributors-1">New Contributors
&lt;/h3>&lt;ul>
&lt;li>@EnderTheCoder made their first contribution in &lt;a class="link" href="https://github.com/openatx/uiautomator2/pull/1058" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/pull/1058&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/openatx/uiautomator2/compare/3.2.6...3.2.7" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/compare/3.2.6...3.2.7&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="uiautomator2---325176522204">UIAutomator2 - 3.2.5(176522204)
&lt;/h2>&lt;p>created: 2024-09-24T02:58:02Z&lt;/p>
&lt;h3 id="whats-changed-3">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>fix send_keys, use ime when pasteClipboard failed by @codeskyblue in &lt;a class="link" href="https://github.com/openatx/uiautomator2/pull/1039" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/pull/1039&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/openatx/uiautomator2/compare/3.2.4...3.2.5" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/compare/3.2.4...3.2.5&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="uiautomator2---324174540839">UIAutomator2 - 3.2.4(174540839)
&lt;/h2>&lt;p>created: 2024-09-11T12:19:25Z&lt;/p>
&lt;h3 id="whats-changed-4">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>update send_keys and clear_text using 0.1.4 jar by @codeskyblue in &lt;a class="link" href="https://github.com/openatx/uiautomator2/pull/1036" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/pull/1036&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>send_keys and clear_text are no need ATX.apk now&lt;/p>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/openatx/uiautomator2/compare/3.2.3...3.2.4" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/compare/3.2.3...3.2.4&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="uiautomator2---323172983682">UIAutomator2 - 3.2.3(172983682)
&lt;/h2>&lt;p>created: 2024-09-02T06:11:05Z&lt;/p>
&lt;h3 id="whats-changed-5">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>update u2.jar to fix exist objInfo not working on pdd by @codeskyblue in &lt;a class="link" href="https://github.com/openatx/uiautomator2/pull/1033" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/pull/1033&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Adds XPath tester to XPATH.md by @cyrilbois in &lt;a class="link" href="https://github.com/openatx/uiautomator2/pull/1032" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/pull/1032&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Remove typo in README.md by @quxiaozha in &lt;a class="link" href="https://github.com/openatx/uiautomator2/pull/1026" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/pull/1026&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="new-contributors-2">New Contributors
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>@cyrilbois made their first contribution in &lt;a class="link" href="https://github.com/openatx/uiautomator2/pull/1032" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/pull/1032&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@quxiaozha made their first contribution in &lt;a class="link" href="https://github.com/openatx/uiautomator2/pull/1026" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/pull/1026&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/openatx/uiautomator2/compare/3.2.2...3.2.3" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/compare/3.2.2...3.2.3&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="uiautomator2---322169498147">UIAutomator2 - 3.2.2(169498147)
&lt;/h2>&lt;p>created: 2024-08-09T11:17:46Z&lt;/p>
&lt;h3 id="whats-changed-6">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>fix stackoverflow when dump by @codeskyblue in &lt;a class="link" href="https://github.com/openatx/uiautomator2/pull/1023" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/pull/1023&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>add fallback for screenshot by @codeskyblue in &lt;a class="link" href="https://github.com/openatx/uiautomator2/pull/1018" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/pull/1018&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/openatx/uiautomator2/compare/3.2.1...3.2.2" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/compare/3.2.1...3.2.2&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="uiautomator2---321166641424">UIAutomator2 - 3.2.1(166641424)
&lt;/h2>&lt;p>created: 2024-07-23T06:54:13Z&lt;/p>
&lt;h3 id="whats-changed-7">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>fix MockAdbProcess wait hangs bug by @codeskyblue in &lt;a class="link" href="https://github.com/openatx/uiautomator2/pull/1012" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/pull/1012&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/openatx/uiautomator2/compare/3.2.0...3.2.1" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/compare/3.2.0...3.2.1&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="uiautomator2---320165686137">UIAutomator2 - 3.2.0(165686137)
&lt;/h2>&lt;p>created: 2024-07-16T16:07:19Z&lt;/p>
&lt;h3 id="whats-changed-8">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>use u2.jar instead of test apk by @codeskyblue in &lt;a class="link" href="https://github.com/openatx/uiautomator2/pull/1004" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/pull/1004&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fix toast and clipboard&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>toast api changes.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## new&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">last_toast&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">clear_toast&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## old&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">toast&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_message&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">5.0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">toast&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">clear&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">toast&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;message&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">## removed&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/openatx/uiautomator2/compare/3.1.2...3.2.0" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/compare/3.1.2...3.2.0&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;h2 id="uiautomator2---312164377664">UIAutomator2 - 3.1.2(164377664)
&lt;/h2>&lt;p>created: 2024-07-08T10:06:17Z&lt;/p>
&lt;h3 id="whats-changed-9">What&amp;rsquo;s Changed
&lt;/h3>&lt;ul>
&lt;li>fix DeadSystemRuntimeException not in message, close #1001 by @codeskyblue in &lt;a class="link" href="https://github.com/openatx/uiautomator2/pull/1005" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/pull/1005&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Full Changelog&lt;/strong>: &lt;a class="link" href="https://github.com/openatx/uiautomator2/compare/3.1.1...3.1.2" target="_blank" rel="noopener"
>https://github.com/openatx/uiautomator2/compare/3.1.1...3.1.2&lt;/a>&lt;/p>
&lt;p>========================================&lt;/p>
&lt;blockquote>
&lt;p>完整清单，请访问官方列表: &lt;a class="link" href="https://github.com/openatx/uiautomator2/releases" target="_blank" rel="noopener"
> UIAutomator2 发布清单&lt;/a>&lt;/p>&lt;/blockquote></description></item><item><title>微软已发布Playwright Mcp</title><link>https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/</link><pubDate>Wed, 02 Apr 2025 16:38:33 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402.png" alt="Featured image of post 微软已发布Playwright Mcp" />&lt;h1 id="前言">前言
&lt;/h1>&lt;p>&lt;code>MCP协议&lt;/code>是由AI公司 Anthropic（claude的母公司）于2024年11月推出的一个针对AI能力的开放协议，旨在标准化大语言模型（LLM）与外部数据源、工具之间的交互接口。其核心设计目标：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>解耦与标准化&lt;/strong>：将LLM与外部系统的集成从定制化开发转变为基于统一协议的通用连接，类似硬件领域的USB-C接口。&lt;/li>
&lt;li>&lt;strong>去中心化&lt;/strong>：通过允许开发者自主构建MCP Server，分散AI能力，避免单一厂商垄断知识和服务。&lt;/li>
&lt;li>&lt;strong>安全可控&lt;/strong>：通过权限验证和本地化部署，确保数据隐私与操作安全。&lt;/li>
&lt;/ul>
&lt;p>而 &lt;code>MCP Server&lt;/code> 则是MCP的关键组件，提供如下三种功能：&lt;/p>
&lt;ul>
&lt;li>资源（Resources）：类似文件的数据，可以被客户端读取，如 API 响应或文件内容。&lt;/li>
&lt;li>工具（Tools）：可以被 LLM 调用的函数（需要用户批准）。&lt;/li>
&lt;li>提示（Prompts）：预先编写的模板，帮助用户完成特定任务。&lt;/li>
&lt;/ul>
&lt;p>通过这些能力，MCP Server可以为AI应用提供更加丰富的上下文操作私有数据或特定应用的能力，从而增强 LLM 的实用性。&lt;/p>
&lt;p>在上一篇文章 【】中，我们已经对 MCP Server有了基本认识，并且提供了一个基本的查询本地桌面的案例，并利用AI编辑器&lt;code>Cursor&lt;/code>实现了这个MCP server的调用。&lt;/p>
&lt;h1 id="微软官方推出playwright-mcp">微软官方推出Playwright-mcp
&lt;/h1>&lt;p>MCP Server目前的很多应用中，调度浏览器操作是一个极为高频的场景，基于Playwright这个新锐浏览器工具，也已经有第三方先行推出了MCP Server&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402.png"
width="1812"
height="972"
srcset="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402_hu_dcfee7661167b616.png 480w, https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402_hu_eb9eb089cb2c9e93.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="186"
data-flex-basis="447px"
>&lt;/p>
&lt;p>而现在，微软官方也终于推出了Playwright-mcp，可以和Vscode copilot无缝结合使用&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-1.png"
width="1727"
height="969"
srcset="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-1_hu_f83931781b693850.png 480w, https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-1_hu_f4937900ada6a48f.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="427px"
>&lt;/p>
&lt;h1 id="playwright-mcp-部署">Playwright-mcp 部署
&lt;/h1>&lt;p>因为Playwright-mcp刚刚推出，目前 vscode中对它的集成主要还是在vscode的先览版vscode insider中。所以我们可以从vscode官网先下载一个vscode insider
&lt;img src="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-2.png"
width="1051"
height="542"
srcset="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-2_hu_5de3b2f34b5084a9.png 480w, https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-2_hu_dfa42d4ead8ed82c.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="193"
data-flex-basis="465px"
>&lt;/p>
&lt;p>安装好vscode insider后，在github项目主页上，直接点击对应按钮即可进行安装&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-3.png"
width="1315"
height="891"
srcset="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-3_hu_5c4449d9135f39e8.png 480w, https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-3_hu_f010a4faa2d88b64.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="147"
data-flex-basis="354px"
>&lt;/p>
&lt;p>打开vscode 后，选择 install server，这时会自动配置好mcp server的配置文件，点击start，将mcp server运行起来，这样其实就完成了部署&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-4.png"
width="2167"
height="1282"
srcset="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-4_hu_10322492c1fa97d1.png 480w, https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-4_hu_bc963d7464a1b201.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="169"
data-flex-basis="405px"
>&lt;/p>
&lt;p>点击copilot对话框中，显示的tools按钮，可以看到目前集成的tools，主要对应playwright的15种主要操作行为&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-5.png"
width="1534"
height="1147"
srcset="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-5_hu_bade8d3df695395a.png 480w, https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-5_hu_8ce9e42f6fe87c4a.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;/p>
&lt;h1 id="用playwright-mcp无代码完成浏览器操作和验证">用playwright-mcp无代码完成浏览器操作和验证
&lt;/h1>&lt;p>下面我们就看看效果吧。&lt;/p>
&lt;p>打开copilot，输入指令：&lt;/p>
&lt;blockquote>
&lt;p>导航到&lt;a class="link" href="vscode-file://vscode-app/c:/Users/Administrator/AppData/Local/Programs/Microsoft%20VS%20Code%20Insiders/resources/app/out/vs/code/electron-sandbox/workbench/workbench.html" >https://www.saucedemo.com&lt;/a>, 用账号standard_user和密码secret_sauce登录，并确认登录成功，product页面正常显示&lt;/p>&lt;/blockquote>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-6.png"
width="2157"
height="1260"
srcset="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-6_hu_8fe494e7a59ad5b8.png 480w, https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-6_hu_254210cae61ea493.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="171"
data-flex-basis="410px"
>&lt;/p>
&lt;p>继续执行，得出结果，用例执行成功&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-7.png"
width="2126"
height="1155"
srcset="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-7_hu_21781221ab7518e2.png 480w, https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250402-7_hu_6c9cb4820d181e78.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="441px"
>&lt;/p>
&lt;p>可以看到，这里我们没有编写任何代码，就利用Playwright的mcp完成了对登录用例的执行。&lt;/p>
&lt;p>当然实际工作中，通过mcp server的集成，更多是为了我们方便地调用浏览器完成任务执行提供了更多便利！&lt;/p>
&lt;p>基于MCP-Server，相信还有更多、更丰富的实践可以帮助到我们！&lt;/p>
&lt;hr>
&lt;p>上一篇文章中，我们介绍了通过vscode insiders 集成微软官方的playwright mcp并执行测试的一个基本效果。&lt;/p>
&lt;p>有小伙伴提问是否能在 &lt;code>Cursor&lt;/code> 中使用？这里我也进行了尝试，答案是可以成功集成，但有点小坑。 这里就跟大家分享下配置过程，以及Cursor中集成mcp以后的强大能力。让 AI 帮助我们完成大部分基本的功能测试已经不再遥远&lt;/p>
&lt;h2 id="在cursor中启用playwright-mcp">在Cursor中启用playwright-mcp
&lt;/h2>&lt;h3 id="预置安装">预置安装
&lt;/h3>&lt;p>首先，当然要先安装mcp server以及对应的依赖，这里mcp和playwright都是基于nodejs的。所以通过下面命令先安装&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-batch" data-lang="batch">&lt;span class="line">&lt;span class="cl">npm install -g @playwright/mcp@latest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm install -g @playwright@latest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npx playwright install --with-deps
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="cursor配置">Cursor配置
&lt;/h3>&lt;p>完成安装后，进入 Cursor 的设置页面，在其MCP部分，添加 MCP server配置，参照Playwright官网的介绍，
添加mcp sever配置：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;mcpServers&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;playwright&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;npx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;args&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;@playwright/mcp@latest&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>但这时，cursor中的mcp server实际并不能正常运行，会显示 &lt;code>Clint closed&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/-20250404.png"
width="1915"
height="746"
srcset="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/-20250404_hu_39c9f769da6c86aa.png 480w, https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/-20250404_hu_e2be4efa3972eade.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="256"
data-flex-basis="616px"
>&lt;/p>
&lt;h3 id="windows系统安装要规避两个坑">windows系统安装，要规避两个坑
&lt;/h3>&lt;p>&lt;strong>第一个坑：npx 包加载路径应该加入搜索路径&lt;/strong>&lt;/p>
&lt;p>也就是要将全局安装的相关包，放到nodejs的搜索路径中。做法是在windows系统的环境变量中，把npm包目录加入path中，并放到nodejs之前&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250404.png"
width="719"
height="794"
srcset="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250404_hu_90aeece056371733.png 480w, https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250404_hu_1985853fae73d10.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="90"
data-flex-basis="217px"
>&lt;/p>
&lt;p>&lt;strong>第二个坑：修改mcp命令行调用命令&lt;/strong>&lt;/p>
&lt;p>cursor中调用npx，其实是通过命令行调用的，但windows系统下，直接通过命令行调用npx，cursor本身并不能拿到调用状态，所以这里要用 &lt;code>cmd /c&lt;/code> 命令调用, 获取命令句柄&lt;/p>
&lt;p>也就是上面的配置文件，修改成：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;mcpServers&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;playwright&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cmd /c npx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;args&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;@playwright/mcp@latest&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>修改以上配置后，重新加载cursor，这时会启动一个命令行窗口，其实就是playwright-mcp，不要关闭，然后可以看到 Cursor中mcp也正常启动了&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250403.png"
width="1327"
height="968"
srcset="https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250403_hu_376d11e59d74c973.png 480w, https://chengxiaqiucao.github.io/post/072-%E5%BE%AE%E8%BD%AF%E5%B7%B2%E5%8F%91%E5%B8%83playwright-mcp/Pasted-20250403_hu_ab054adcc69cab03.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="137"
data-flex-basis="329px"
>&lt;/p>
&lt;h2 id="让-playwright-mcp-代替我们执行测试">让 playwright-mcp 代替我们执行测试
&lt;/h2>&lt;p>我们在Cursor中输入一个基本的任务指令：&lt;/p>
&lt;blockquote>
&lt;p>访问www.saucedemo.com网站，使用problem_user登录，验证该网站完整流程并记录发现的问题&lt;/p>&lt;/blockquote>
&lt;p>以下是完整执行过程&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;span class="lnt">141
&lt;/span>&lt;span class="lnt">142
&lt;/span>&lt;span class="lnt">143
&lt;/span>&lt;span class="lnt">144
&lt;/span>&lt;span class="lnt">145
&lt;/span>&lt;span class="lnt">146
&lt;/span>&lt;span class="lnt">147
&lt;/span>&lt;span class="lnt">148
&lt;/span>&lt;span class="lnt">149
&lt;/span>&lt;span class="lnt">150
&lt;/span>&lt;span class="lnt">151
&lt;/span>&lt;span class="lnt">152
&lt;/span>&lt;span class="lnt">153
&lt;/span>&lt;span class="lnt">154
&lt;/span>&lt;span class="lnt">155
&lt;/span>&lt;span class="lnt">156
&lt;/span>&lt;span class="lnt">157
&lt;/span>&lt;span class="lnt">158
&lt;/span>&lt;span class="lnt">159
&lt;/span>&lt;span class="lnt">160
&lt;/span>&lt;span class="lnt">161
&lt;/span>&lt;span class="lnt">162
&lt;/span>&lt;span class="lnt">163
&lt;/span>&lt;span class="lnt">164
&lt;/span>&lt;span class="lnt">165
&lt;/span>&lt;span class="lnt">166
&lt;/span>&lt;span class="lnt">167
&lt;/span>&lt;span class="lnt">168
&lt;/span>&lt;span class="lnt">169
&lt;/span>&lt;span class="lnt">170
&lt;/span>&lt;span class="lnt">171
&lt;/span>&lt;span class="lnt">172
&lt;/span>&lt;span class="lnt">173
&lt;/span>&lt;span class="lnt">174
&lt;/span>&lt;span class="lnt">175
&lt;/span>&lt;span class="lnt">176
&lt;/span>&lt;span class="lnt">177
&lt;/span>&lt;span class="lnt">178
&lt;/span>&lt;span class="lnt">179
&lt;/span>&lt;span class="lnt">180
&lt;/span>&lt;span class="lnt">181
&lt;/span>&lt;span class="lnt">182
&lt;/span>&lt;span class="lnt">183
&lt;/span>&lt;span class="lnt">184
&lt;/span>&lt;span class="lnt">185
&lt;/span>&lt;span class="lnt">186
&lt;/span>&lt;span class="lnt">187
&lt;/span>&lt;span class="lnt">188
&lt;/span>&lt;span class="lnt">189
&lt;/span>&lt;span class="lnt">190
&lt;/span>&lt;span class="lnt">191
&lt;/span>&lt;span class="lnt">192
&lt;/span>&lt;span class="lnt">193
&lt;/span>&lt;span class="lnt">194
&lt;/span>&lt;span class="lnt">195
&lt;/span>&lt;span class="lnt">196
&lt;/span>&lt;span class="lnt">197
&lt;/span>&lt;span class="lnt">198
&lt;/span>&lt;span class="lnt">199
&lt;/span>&lt;span class="lnt">200
&lt;/span>&lt;span class="lnt">201
&lt;/span>&lt;span class="lnt">202
&lt;/span>&lt;span class="lnt">203
&lt;/span>&lt;span class="lnt">204
&lt;/span>&lt;span class="lnt">205
&lt;/span>&lt;span class="lnt">206
&lt;/span>&lt;span class="lnt">207
&lt;/span>&lt;span class="lnt">208
&lt;/span>&lt;span class="lnt">209
&lt;/span>&lt;span class="lnt">210
&lt;/span>&lt;span class="lnt">211
&lt;/span>&lt;span class="lnt">212
&lt;/span>&lt;span class="lnt">213
&lt;/span>&lt;span class="lnt">214
&lt;/span>&lt;span class="lnt">215
&lt;/span>&lt;span class="lnt">216
&lt;/span>&lt;span class="lnt">217
&lt;/span>&lt;span class="lnt">218
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">我将帮您访问 Sauce Demo 网站并使用 problem_user 账号进行完整测试流程验证。让我们开始吧。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">首先，让我访问网站：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_navigate
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">让我使用 problem_user 账号登录：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_type
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">现在输入密码：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_type
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">点击登录按钮：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_click
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">让我们开始测试并记录问题。首先我注意到以下问题：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1. 商品图片问题：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">所有商品的图片都显示相同的图片（狗的图片），这明显是一个bug，因为每个商品应该显示其独特的产品图片。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">让我尝试添加商品到购物车：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_click
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">让我点击购物车图标查看购物车：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_click
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">让我们返回商品列表并尝试使用排序功能：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_click
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">让我尝试使用排序功能：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_click
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_select_option
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">基于测试过程，我发现了以下问题：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1. 图片显示问题：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 所有商品的图片都显示为相同的狗图片，而不是各自的产品图片
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 这影响了用户对产品的视觉识别
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1. 购物车功能问题：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 点击商品图片或标题时，没有正确跳转到商品详情页，而是直接跳转到了一个固定的商品页面
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 这影响了用户浏览和选择商品的体验
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1. 排序功能问题：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 选择不同的排序选项（如按价格从低到高）后，商品列表顺序没有发生变化
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 排序功能完全失效
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1. 导航问题：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 点击商品时总是跳转到同一个商品页面，而不是所点击的具体商品
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 这严重影响了用户的购物体验
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1. 按钮状态问题：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 某些商品的&amp;#34;Add to cart&amp;#34;和&amp;#34;Remove&amp;#34;按钮状态显示不一致
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 这可能导致用户对购物车中的商品状态产生混淆
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">这些问题严重影响了网站的基本功能和用户体验。problem_user 账号确实展示了多个需要修复的问题，这些问题涵盖了UI显示、功能操作和用户体验等多个方面。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">是否需要我继续测试其他功能，比如结账流程？
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">请继续测试
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">好的，我将继续测试结账流程。首先让我们添加一些商品到购物车，然后进行结账：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_click
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">现在让我们点击购物车图标进入购物车页面：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_click
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">我发现点击购物车图标又出现了一个问题 - 它把我们带到了商品详情页而不是购物车页面。让我们尝试点击页面右上角的购物车图标：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_navigate
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">让我们继续结账流程，点击Checkout按钮：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_click
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">让我们填写个人信息：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_type
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_type
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_type
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">点击Continue继续：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_click
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">我发现了一个新的问题：虽然我们输入了姓氏，但系统显示&amp;#34;Last Name is required&amp;#34;的错误。这说明在输入字段上存在问题。让我们再次尝试输入姓氏：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_type
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">基于测试过程，我发现了以下新的问题：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1. 购物车导航问题：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 点击商品列表页面的购物车图标会错误地导航到商品详情页
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 必须手动输入购物车URL才能访问购物车页面
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1. 结账表单问题：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 姓氏（Last Name）输入框存在严重问题
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 即使输入了姓氏，系统仍然显示&amp;#34;Last Name is required&amp;#34;错误
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 这个问题阻止了用户完成结账流程
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1. 购物车商品显示问题：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 购物车中显示的商品数量与实际添加的商品数量不一致
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 一些未添加的商品也出现在购物车中
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">这些问题与之前发现的问题一起，严重影响了整个购物流程：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 用户无法正常浏览商品（图片问题）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 无法正确添加商品到购物车（购物车功能问题）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 无法使用排序功能（排序失效）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 无法正常访问购物车（导航问题）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 无法完成结账流程（表单验证问题）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">这些问题使得 problem_user 账号几乎无法完成正常的购物流程。每个主要功能都存在不同程度的问题，这可能是为了测试目的而特意设置的。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">是否需要我继续测试其他功能，比如菜单栏的功能？
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">完成测试，请退出登录并汇总发现的问题
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">好的，让我们先点击菜单按钮然后退出登录：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_click
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Called MCP toolbrowser_click
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">现在我来汇总使用 problem_user 账号测试发现的所有问题：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">### 1. 商品展示问题
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 所有商品图片显示为相同的狗图片，而不是各自的产品图片
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 这严重影响了用户对产品的视觉识别和购物体验
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">### 2. 导航问题
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 点击商品图片或标题时，总是跳转到固定的商品页面，而不是所点击的具体商品
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 点击购物车图标错误地导航到商品详情页，而不是购物车页面
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 必须手动输入购物车URL才能正确访问购物车页面
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">### 3. 商品排序功能问题
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 选择不同的排序选项（如按价格从低到高）后，商品列表顺序没有任何变化
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 排序功能完全失效，无法帮助用户按需要的方式浏览商品
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">### 4. 购物车功能问题
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 购物车中显示的商品与实际添加的商品不一致
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 一些未添加的商品也出现在购物车中
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- &amp;#34;Add to cart&amp;#34;和&amp;#34;Remove&amp;#34;按钮状态显示不一致，造成用户混淆
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">### 5. 结账流程问题
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 姓氏（Last Name）输入框存在严重问题
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 即使输入了姓氏，系统仍然显示&amp;#34;Last Name is required&amp;#34;错误
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 这个验证问题完全阻止了用户完成结账流程
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">### 6. 用户体验影响
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 以上问题的综合效果导致：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 用户无法正确浏览和选择商品
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 无法管理购物车内容
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 无法完成购物流程
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 整体购物体验严重受损
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">### 7. 功能可用性评估
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 基本功能几乎都存在问题
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 用户无法完成正常的购物流程
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 这个账号可能是专门用于测试目的，展示了各种可能的问题场景
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">这些问题涵盖了电子商务网站的核心功能，包括商品展示、导航、购物车管理和结账流程。每个环节都存在不同程度的问题，使得整个购物体验变得极其困难和令人沮丧。这些问题的存在可能是为了测试目的，帮助开发人员和测试人员理解各种可能的错误场景。
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>可以看到，通过 Cursor + Playwright-mcp ，AI 已经可以通过我们交代的基本指令，主动帮助我们去覆盖主要的功能测试场景并发现和记录问题。假以时日，完全可以很大程度上替代掉比较基础功能测试任务，而测试人员则可以更关注在高价值的深度问题挖掘上。当然，另一方面，基础功能测试人员，确实也要有相当的危机意识，技能提升和扩展边界刻不容缓。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/qrcode_for_gh_e12c318badb4_258%20%281%29.jpg"
loading="lazy"
>&lt;/p>
&lt;p>欢迎关注秋草的测试技能体系化进阶提升课程，公众号回复 &lt;code>大纲&lt;/code> 了解课程详细目录&lt;/p></description></item><item><title>Playwright新版本筛选功能</title><link>https://chengxiaqiucao.github.io/post/066-playwright%E6%96%B0%E7%89%88%E6%9C%AC%E7%AD%9B%E9%80%89%E5%8A%9F%E8%83%BD/</link><pubDate>Sun, 16 Mar 2025 13:32:58 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/066-playwright%E6%96%B0%E7%89%88%E6%9C%AC%E7%AD%9B%E9%80%89%E5%8A%9F%E8%83%BD/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/066-playwright%E6%96%B0%E7%89%88%E6%9C%AC%E7%AD%9B%E9%80%89%E5%8A%9F%E8%83%BD/playwright_logo.png" alt="Featured image of post Playwright新版本筛选功能" />&lt;hr>
&lt;h3 id="前言">前言
&lt;/h3>&lt;p>在进行软件测试，比如针对一个电商网站，你是否遇到过这些问题？&lt;/p>
&lt;ul>
&lt;li>&lt;strong>动态加载的商品列表&lt;/strong>：部分商品因缺货、促销结束或未登录状态被隐藏。&lt;/li>
&lt;li>&lt;strong>悬浮显示的促销标签&lt;/strong>：仅当用户鼠标悬停时才会展示优惠信息。&lt;/li>
&lt;li>&lt;strong>广告弹窗干扰&lt;/strong>：某些弹窗可能遮挡核心功能，但测试时需要确保主流程不受影响。&lt;/li>
&lt;/ul>
&lt;p>这些场景的共同点是：&lt;strong>页面元素可能存在于DOM中，但用户实际不可见&lt;/strong>， 比如设置CSS属性（&lt;code>display: none&lt;/code>、&lt;code>visibility: hidden&lt;/code>）。传统测试方法需要手动判断元素可见性，遍历或预先这对具体对象进行分支判断，比较复杂。&lt;/p>
&lt;hr>
&lt;h3 id="playwright-最新版本提供了一个简化方法">Playwright 最新版本提供了一个简化方法
&lt;/h3>&lt;p>在最新更新的 Playwright V1.5.1 版本更新中，针对&lt;code>locator.filter()&lt;/code>方法新增了&lt;code>visible&lt;/code>选项，可以极大简化这部分操作。（&lt;em>目前针对node.js有此更新，Python语言尚未支持&lt;/em>）&lt;/p>
&lt;p>其核心作用是：&lt;br>
&lt;strong>仅筛选页面上用户实际可见的元素&lt;/strong>，自动忽略因CSS（如&lt;code>display: none&lt;/code>）或布局原因隐藏的元素。&lt;/p>
&lt;p>&lt;strong>技术原理&lt;/strong>：&lt;br>
Playwright通过计算元素的布局边界、透明度、层叠上下文等属性，判断元素是否在视口内且对用户可见。这与真实用户视角完全一致，避免因操作隐藏元素导致测试失败。&lt;/p>
&lt;hr>
&lt;h3 id="场景实战过滤可见商品">场景实战：过滤可见商品
&lt;/h3>&lt;p>假设我们测试一个中文电商平台的**“限时秒杀”页面**，其HTML结构如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;!DOCTYPE html&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>限时秒杀&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;seckill-list&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- 可见商品 --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">data-testid&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;product-item&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;product&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>【爆款】无线蓝牙耳机&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;price&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>促销价: ¥199&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>立即抢购&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">data-testid&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;product-item&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;product&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>智能手环&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;price&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>促销价: ¥299&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>立即抢购&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- 隐藏商品（已抢光或未开始） --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">data-testid&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;product-item&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;product&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;display: none;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>家用投影仪&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;price&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>促销价: ¥899&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>已售罄&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">data-testid&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;product-item&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;product&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;opacity: 0;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>空气炸锅&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;price&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>促销价: ¥399&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>未开始&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="需求场景">&lt;strong>需求场景&lt;/strong>
&lt;/h4>&lt;p>用户访问“限时秒杀”页面时，&lt;strong>仅展示可抢购的商品&lt;/strong>（前两项），隐藏已售罄或未开始的商品。我们需要验证：&lt;/p>
&lt;ol>
&lt;li>页面中用户可见的商品数量是否正确。&lt;/li>
&lt;li>“立即抢购”按钮仅对可见商品生效。&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h3 id="新旧方案对比">&lt;strong>新旧方案对比&lt;/strong>
&lt;/h3>&lt;h4 id="旧方法手动遍历可见性检查">旧方法：手动遍历+可见性检查
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 旧方案示例
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">test&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;@playwright/test&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;验证可见商品数量&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">({&lt;/span> &lt;span class="nx">page&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">goto&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://mall.example.com/seckill&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">allProducts&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByTestId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;product-item&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">all&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">visibleCount&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">product&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">allProducts&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">await&lt;/span> &lt;span class="nx">product&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isVisible&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">visibleCount&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">visibleCount&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 断言可见商品为2个
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>痛点&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>需要手动遍历所有元素，代码冗余。&lt;/li>
&lt;li>若商品数量动态变化（如分页加载），维护成本高。&lt;/li>
&lt;/ul>
&lt;h4 id="新方案一行代码过滤可见元素">&lt;strong>新方案：一行代码过滤可见元素&lt;/strong>
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 新方案示例
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">test&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;@playwright/test&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;验证可见商品数量&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">({&lt;/span> &lt;span class="nx">page&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">goto&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://mall.example.com/seckill&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">visibleProducts&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByTestId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;product-item&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">filter&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">visible&lt;/span>: &lt;span class="kt">true&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 断言可见商品数量为2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">visibleProducts&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveCount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 断言所有可见商品均可点击“立即抢购”
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">visibleProducts&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;立即抢购&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toHaveCount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>优势&lt;/strong>：&lt;/p>
&lt;ol>
&lt;li>&lt;strong>代码简洁&lt;/strong>：无需循环，直接通过链式调用过滤。&lt;/li>
&lt;li>&lt;strong>实时匹配&lt;/strong>：自动响应页面动态变化（如AJAX加载新商品）。&lt;/li>
&lt;li>&lt;strong>精准断言&lt;/strong>：结合Playwright的软断言（Soft Assertions），可同时验证多个条件。&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h3 id="扩展应用电商测试中的常见场景">&lt;strong>扩展应用：电商测试中的常见场景&lt;/strong>
&lt;/h3>&lt;h4 id="场景1验证悬浮显示的促销标签">&lt;strong>场景1：验证悬浮显示的促销标签&lt;/strong>
&lt;/h4>&lt;p>某些商品的“限时折扣”标签仅在鼠标悬停时显示。通过&lt;code>visible: true&lt;/code>可确保仅操作实际可见的元素：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 鼠标悬停后，验证促销标签可见
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">productCard&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByTestId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;product-card&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">filter&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">visible&lt;/span>: &lt;span class="kt">true&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">first&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">await&lt;/span> &lt;span class="nx">productCard&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">hover&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">discountTag&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">productCard&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;限时5折&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">await&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">discountTag&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeVisible&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="场景2过滤弹窗干扰">&lt;strong>场景2：过滤弹窗干扰&lt;/strong>
&lt;/h4>&lt;p>若页面存在广告弹窗，可通过&lt;code>visible: true&lt;/code>跳过隐藏的弹窗元素：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 关闭可见的弹窗（忽略已隐藏的）
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">activePopup&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByTestId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;popup&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">filter&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">visible&lt;/span>: &lt;span class="kt">true&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">await&lt;/span> &lt;span class="nx">activePopup&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isVisible&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">await&lt;/span> &lt;span class="nx">activePopup&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;关闭&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="结语">结语
&lt;/h3>&lt;p>通过这个 &lt;code>Playwright&lt;/code> 更新的实用功能，可以较大简化我们在进行自动化测试时编写的复杂度，也可以看到，作为势头正劲的新一代web测试工具，Playwright的不断升级优化还是很贴合实际且社区活跃，值得重点关注！&lt;/p>
&lt;p>秋草也推出了一个 基于Pytest+Playwright的自动化框架实战课程，有兴趣的同学可关注：&lt;/p></description></item><item><title>Pytest_mock详解</title><link>https://chengxiaqiucao.github.io/post/057-pytest_mock%E8%AF%A6%E8%A7%A3/</link><pubDate>Sun, 23 Feb 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/057-pytest_mock%E8%AF%A6%E8%A7%A3/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/057-pytest_mock%E8%AF%A6%E8%A7%A3/pytest-mock.png" alt="Featured image of post Pytest_mock详解" />&lt;hr>
&lt;h1 id="使用-pytest-mock-进行-python-高级单元测试与模拟">使用 pytest-mock 进行 Python 高级单元测试与模拟
&lt;/h1>&lt;h2 id="一单元测试与模拟的意义">一、单元测试与模拟的意义
&lt;/h2>&lt;p>在软件开发中，单元测试用于验证代码逻辑的正确性。但实际项目中，代码常依赖外部服务（如数据库、API、文件系统）。直接测试这些依赖会导致：&lt;/p>
&lt;ol>
&lt;li>&lt;strong>测试速度变慢&lt;/strong>&lt;/li>
&lt;li>&lt;strong>测试结果不可控&lt;/strong>&lt;/li>
&lt;li>&lt;strong>产生副作用&lt;/strong>（如真实发送邮件）&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>模拟（Mocking）&lt;/strong> 技术通过创建虚拟对象替代真实依赖，使测试聚焦于当前单元的逻辑。&lt;/p>
&lt;hr>
&lt;h2 id="二环境安装">二、环境安装
&lt;/h2>&lt;p>使用 &lt;code>pytest&lt;/code> 和 &lt;code>pytest-mock&lt;/code> 插件：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pip install pytest pytest-mock
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="三基础用法示例">三、基础用法示例
&lt;/h2>&lt;h3 id="场景邮件发送服务">场景：邮件发送服务
&lt;/h3>&lt;p>假设我们有一个邮件发送类 &lt;code>EmailSender&lt;/code>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># email_sender.py&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">EmailSender&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">to&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">subject&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">body&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 真实发送邮件的逻辑&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">True&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>测试时不应实际发送邮件。使用 &lt;code>pytest-mock&lt;/code> 模拟 &lt;code>send&lt;/code> 方法：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># test_email_sender.py&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_send_email&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mocker&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mock_send&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mocker&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">patch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;email_sender.EmailSender.send&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sender&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">EmailSender&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sender&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;user@example.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Hello&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Test email&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mock_send&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">assert_called_once_with&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;user@example.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Hello&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Test email&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="n">result&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="kc">True&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>代码解析：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>mocker.patch&lt;/code> 替换了 &lt;code>EmailSender.send&lt;/code> 方法&lt;/li>
&lt;li>验证方法是否以正确参数被调用&lt;/li>
&lt;li>断言返回值为 &lt;code>True&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="四高级模拟技巧">四、高级模拟技巧
&lt;/h2>&lt;h3 id="1-模拟返回值">1. 模拟返回值
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_mock_return_value&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mocker&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mocker&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">patch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;module.Class.method&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">return_value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;mocked_response&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">instance&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="n">instance&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;mocked_response&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2-模拟抛出异常">2. 模拟抛出异常
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_mock_exception&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mocker&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mocker&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">patch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;module.Class.method&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">side_effect&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="ne">Exception&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;DB Error&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">instance&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">with&lt;/span> &lt;span class="n">pytest&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">raises&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="ne">Exception&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">match&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;DB Error&amp;#34;&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">instance&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-模拟连续调用">3. 模拟连续调用
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_multiple_returns&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mocker&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mock_method&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mocker&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">patch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;module.Class.method&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mock_method&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">side_effect&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">30&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">20&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">30&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="4-模拟属性与方法链">4. 模拟属性与方法链
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_chained_methods&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mocker&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mock_instance&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mocker&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">MagicMock&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mock_instance&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">method1&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">method2&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">method3&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">return_value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;final&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="n">mock_instance&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">method1&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">method2&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">method3&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;final&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mock_instance&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">method1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">assert_called_once&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="五模拟复杂场景">五、模拟复杂场景
&lt;/h2>&lt;h3 id="场景api-客户端测试">场景：API 客户端测试
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># api_client.py&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">requests&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">APIClient&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">get_user_data&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">user_id&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">requests&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;https://api.example.com/users/&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">user_id&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">response&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">json&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>测试时模拟 &lt;code>requests.get&lt;/code>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_api_client&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mocker&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mock_response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mocker&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">MagicMock&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mock_response&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">json&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">return_value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s2">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;John&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mock_get&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mocker&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">patch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;requests.get&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">return_value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">mock_response&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">APIClient&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">client&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_user_data&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mock_get&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">assert_called_once_with&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;https://api.example.com/users/1&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s2">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;John&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="六最佳实践与注意事项">六、最佳实践与注意事项
&lt;/h2>&lt;ol>
&lt;li>
&lt;p>&lt;strong>精确断言&lt;/strong>：不仅要验证是否调用，还要检查参数&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">mock_method&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">assert_called_with&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">arg1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">arg2&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">expected_value&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>使用 &lt;code>autospec&lt;/code>&lt;/strong>：保持模拟对象与原对象接口一致&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">mocker&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">patch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;module.Class&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">autospec&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>避免过度模拟&lt;/strong>：核心业务逻辑尽量使用真实对象&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>清理模拟&lt;/strong>：使用 &lt;code>mocker&lt;/code> Fixture 自动清理，避免测试污染&lt;/p>
&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h2 id="七总结">七、总结
&lt;/h2>&lt;p>通过 &lt;code>pytest-mock&lt;/code> 我们可以：&lt;/p>
&lt;ul>
&lt;li>✅ 隔离测试环境&lt;/li>
&lt;li>✅ 模拟各种边界条件&lt;/li>
&lt;li>✅ 验证对象交互行为&lt;/li>
&lt;li>✅ 提升测试执行速度&lt;/li>
&lt;/ul>
&lt;p>掌握模拟技术能显著提高测试覆盖率与代码质量。建议结合 &lt;a class="link" href="https://pytest-mock.readthedocs.io/" target="_blank" rel="noopener"
>官方文档&lt;/a> 深入学习更复杂的使用场景。&lt;/p>
&lt;hr></description></item><item><title>自动化好帮手_chrome浏览器的录制器</title><link>https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/</link><pubDate>Tue, 18 Feb 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218.png" alt="Featured image of post 自动化好帮手_chrome浏览器的录制器" />&lt;h2 id="前言">前言
&lt;/h2>&lt;p>入门自动化测试，录制回放通常是小白测试首先用到的功能。而录制回放工具也一直是各大Web自动化测试必然会着重提供的一块功能。&lt;/p>
&lt;p>早期WinRunner、QTP这样的工具，自动化测试可以说是围绕录制回放开展的。近年像Selenium也提供有录制工具 &lt;strong>Selenium IDE&lt;/strong>，Playwright也包含有 &lt;strong>codegen&lt;/strong> 这样的功能。&lt;/p>
&lt;p>而这些针对Web页面的自动化录制工具，其实本质都是通过在浏览器操作时记录操作行为完成的，说到底还是通过浏览器行为记录来实现。&lt;/p>
&lt;p>本文，我们要介绍的则是Chrome浏览器，官方提供的一个针对自动化测试录制的功能，也就是它的&lt;strong>Recorder&lt;/strong>。&lt;/p>
&lt;h2 id="chrome-recorder-用法">Chrome Recorder 用法
&lt;/h2>&lt;p>Chrome Recorder是 Chrome从 97 版本以后才提供的一个比较新的功能，很多同学可能还不太了解。但因为是浏览器自带的功能，无需额外安装其他工具，而且从操作记录的准确性和易用性上也能有更好的表现。&lt;/p>
&lt;h3 id="启用">启用
&lt;/h3>&lt;p>打开chrome浏览器的Dev tool， 从它的功能Tab页中，如果发现有 &lt;strong>记录器&lt;/strong> 这个tab，表示当前浏览器已经支持这个录制功能。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218.png"
width="2224"
height="1142"
srcset="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218_hu_80dc866d18e1332c.png 480w, https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218_hu_2f42702a6e656bca.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="194"
data-flex-basis="467px"
>&lt;/p>
&lt;p>进入 &lt;strong>记录器&lt;/strong>，点击 &lt;code>创建新录制&lt;/code> 即可开启一个脚本录制&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-1.png"
width="805"
height="880"
srcset="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-1_hu_b68b4bf9bbc09331.png 480w, https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-1_hu_ecb09354aaf054cb.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="91"
data-flex-basis="219px"
>&lt;/p>
&lt;p>进行一些录制设置，包括当前录制的命名，还有优先使用的元素识别手段，这里 &lt;code>选择器属性&lt;/code>, 通常是根据自动化测试的最佳时间，项目一般会为页面元素，包含一个用于测试的属性（通常如 &lt;code>date-testid&lt;/code>），比如我们这里示例的 SauceDemo.com 这个网站，也包含一个测试id属性，这里是 &lt;code>data-test&lt;/code>，所以这里可以进行指定。 然后点击 &lt;code>开始录制&lt;/code> 就可以启动录制了&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-2.png"
width="1900"
height="922"
srcset="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-2_hu_7b31a428321bff7e.png 480w, https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-2_hu_4984f70638f90867.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="206"
data-flex-basis="494px"
>&lt;/p>
&lt;h3 id="录制">录制
&lt;/h3>&lt;p>录制过程中，我们只需要正常进行页面操作，录制器就会自动对我们的操作进行记录，如果录制过程中，我们需要添加一些校验点，可以在录制记录树中选择 &lt;code>添加断言&lt;/code>，默认是&lt;code>等待元素&lt;/code> 这个校验。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-3.png"
width="1892"
height="924"
srcset="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-3_hu_e6f7542a1b98995b.png 480w, https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-3_hu_762b0c012fe40c27.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="204"
data-flex-basis="491px"
>&lt;/p>
&lt;p>选择selectors这里的选择器，然后到页面中点击我们希望校验出现的元素，就会自动把对应的元素属性添加为校验点，这里有一个比较好的地方，就是 recorder 会自动添加多种元素的描述方式，实际回放是，会按照顺序依次进行匹配，为录制的脚本适配提供了更好的灵活性。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-4.png"
width="1885"
height="895"
srcset="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-4_hu_25a191228a702845.png 480w, https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-4_hu_d8c4b0e71e2603c9.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="210"
data-flex-basis="505px"
>&lt;/p>
&lt;p>在操作记录树的右侧，我们还可以点击 &lt;code>显示代码&lt;/code>, 会把操作记录自动体现为自动化测试脚本，这里目前支持的脚本类型主要还是 Google 自家的puppeteer，但从官方介绍上也提到，更多工具类型也在计划补充中。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-5.png"
width="819"
height="802"
srcset="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-5_hu_b11cff1502450bbd.png 480w, https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-5_hu_bfed07ad5bbe8e76.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="102"
data-flex-basis="245px"
>&lt;/p>
&lt;p>点击&lt;code>结束录制&lt;/code>，就可以完成一个简单脚本的生成了。&lt;/p>
&lt;h3 id="回放">回放
&lt;/h3>&lt;p>完成录制后，当然也可以在这里进行回放，点击 &lt;code>重放&lt;/code> 进行回放测试。&lt;/p>
&lt;p>这里在&lt;code>重放设置&lt;/code>中，我们还可以模拟指定回放测试时的网络条件，如 &lt;code>3G&lt;/code>， &lt;code>低速4G&lt;/code>等。回放过程也可以通过性能面板，生成运行过程中的前端交互性能报表（会生成到&lt;code>性能&lt;/code>页面中）&lt;/p>
&lt;p>当然也可以通过&lt;code>导出&lt;/code>功能，将录制的内容直接导出为puppeteer脚本，通过puppeteer来完成自动化执行。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-6.png"
width="1241"
height="890"
srcset="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-6_hu_5b4596dae1fc0d0b.png 480w, https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-6_hu_9cdb24e76aebd8e4.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="139"
data-flex-basis="334px"
>&lt;/p>
&lt;h3 id="脚本编辑">脚本编辑
&lt;/h3>&lt;p>除了通过录制生成步骤外，我们也可以手工在相应步骤的前后，添加和编辑步骤&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-8.png"
width="1068"
height="708"
srcset="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-8_hu_adf67a3f7e71049c.png 480w, https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-8_hu_785833f842084839.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="150"
data-flex-basis="362px"
>&lt;/p>
&lt;p>指定 操作的类型&lt;code>type&lt;/code>，可以看到，这里会包含页面操作时各种操作事件，再通过元素选择器和相关属性的设置，也可以手动地完成步骤行为的编辑&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-7.png"
width="1051"
height="838"
srcset="https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-7_hu_700a38c59b4484f4.png 480w, https://chengxiaqiucao.github.io/post/050-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A5%BD%E5%B8%AE%E6%89%8B_chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BD%95%E5%88%B6%E5%99%A8/Pasted-20250218-7_hu_b7abec2b7cd8025e.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="125"
data-flex-basis="301px"
>&lt;/p>
&lt;h2 id="结语">结语
&lt;/h2>&lt;p>可以看到，通过recorder这个chrome自带的录制器，我们已经可以非常方便和灵活地完成web页面自动化脚本的录制生成。相比Selenium IDE和Playwright codegen，因为是chrome本身内置，灵活性和准确性更好。不足之处，主要是目前对于测试脚本的支持，主要还是 google 的puppeteer，对于不使用puppeteer作为主要工具的团队，可能还需要有puppeteer转换到其他工具脚本的工作。&lt;/p></description></item><item><title>我的pytest+playwright实战课程上线了</title><link>https://chengxiaqiucao.github.io/post/051-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0pytest+playwright%E6%A1%86%E6%9E%B6/</link><pubDate>Sun, 19 Jan 2025 11:07:57 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/051-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0pytest+playwright%E6%A1%86%E6%9E%B6/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/051-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0pytest+playwright%E6%A1%86%E6%9E%B6/Pasted-20250120-1.png" alt="Featured image of post 我的pytest+playwright实战课程上线了" />&lt;h2 id="前言">前言
&lt;/h2>&lt;p>很久没有更新博客，是因为在梳理制作Playwright测试框架实战相关的课程内容。现在课程已经完结，开个帖子介绍下这门课程（硬广, 哈哈）&lt;/p>
&lt;p>课程放在CSDN学习频道， 欢迎关注~&lt;/p>
&lt;p>&lt;a class="link" href="https://edu.csdn.net/course/detail/39983" target="_blank" rel="noopener"
>PyTest+PlayWright自动化测试框架实战&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/051-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0pytest&amp;#43;playwright%E6%A1%86%E6%9E%B6/Pasted-20250120-1.png"
width="1082"
height="425"
srcset="https://chengxiaqiucao.github.io/post/051-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0pytest&amp;#43;playwright%E6%A1%86%E6%9E%B6/Pasted-20250120-1_hu_377038cf9452478a.png 480w, https://chengxiaqiucao.github.io/post/051-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0pytest&amp;#43;playwright%E6%A1%86%E6%9E%B6/Pasted-20250120-1_hu_9c8f3d16bd66b6ba.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="254"
data-flex-basis="611px"
>&lt;/p>
&lt;h2 id="为什么是playwright">为什么是Playwright？
&lt;/h2>&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/051-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0pytest&amp;#43;playwright%E6%A1%86%E6%9E%B6/Pasted-20250120-2.png"
width="1775"
height="761"
srcset="https://chengxiaqiucao.github.io/post/051-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0pytest&amp;#43;playwright%E6%A1%86%E6%9E%B6/Pasted-20250120-2_hu_8864768a4c1cfaa3.png 480w, https://chengxiaqiucao.github.io/post/051-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0pytest&amp;#43;playwright%E6%A1%86%E6%9E%B6/Pasted-20250120-2_hu_4be3aebdb6fef9a2.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="233"
data-flex-basis="559px"
>&lt;/p>
&lt;p>&lt;strong>Playwright&lt;/strong>，相比一些老牌的工具，它的诞生时间并不长，2020年才发布了第一个正式版本，当然在这之前已经有beta版推出。正因为工具比较新，所以也就有了后发优势。
而且Playwright出自微软，背靠大厂，各方面支持力度也很强，所以目前在web自动化测试工具中，上升的势头非常强劲，普遍被认为是能代替传统的web自动化霸主Selenium的新生代自动化测试工具。&lt;/p>
&lt;p>当然，这个工具能受到欢迎，除了因为它是大厂出品，自然也离不开其自身的一些显著的明显优点。&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Playwright的开发团队，是来自另一款工具puppeteer（Google基于chrome推出的web自动化工具）的核心成员。可以说Playwright是建立在puppeteer基础上的。而puppeteer，本身一度被认为是后selenium时代的web自动化三驾马车之一，所以Playwright可以说是站在巨人肩膀上，它不仅兼容了puppeteer的很多优点，还优化了puppeteer本身的一些不足，更加完善。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>puppeteer有一个很大的约束就是它只支持chrome浏览器，而playwright则内建了对多种主流浏览器的支持，除了chrome、edge，也支持firefox、safari，能满足web自动化的主流浏览器覆盖&lt;/p>
&lt;/li>
&lt;li>
&lt;p>playwright支持不同的编程语言实现，除了像puppeteer原先支持的node.js之外，也可以支持java、python, 当然还有微软自己的.net。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Palywright还支持更多的一些扩充高级功能。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="官网对playwright优势的介绍">官网对playwright优势的介绍
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>多浏览器、跨平台、多语言、以及对移动端web的支持。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>弹性框架，能主动规避很多导致UI自动化不够稳定的问题。包括自动等待、动态校验、过程跟踪这样一些特性&lt;/p>
&lt;/li>
&lt;li>
&lt;p>更匹配现代浏览器的架构，是进程级的隔离，使用上线文的概念区分不同的测试场景，且互不干扰。还有像强化对Frame、shadow dom这样一些比较特殊的前端自动化处理&lt;/p>
&lt;/li>
&lt;li>
&lt;p>更充分的隔离以及更快的执行速度，Playwright的上下文机制可以保证浏览器进程基本的隔离以及毫秒级的创建速度。执行速度的优势也得益于playwright基于websocket协议这种长连接、全双工、双向通信的通信协议。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>各种辅助工具，包括代码的自动化生成、录制，页面元素的定位辅助以及强大的信息跟踪工具。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="工作原理">工作原理
&lt;/h4>&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/051-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0pytest&amp;#43;playwright%E6%A1%86%E6%9E%B6/Pasted-20250120-3.png"
width="1274"
height="603"
srcset="https://chengxiaqiucao.github.io/post/051-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0pytest&amp;#43;playwright%E6%A1%86%E6%9E%B6/Pasted-20250120-3_hu_a3d677c42194ff2e.png 480w, https://chengxiaqiucao.github.io/post/051-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0pytest&amp;#43;playwright%E6%A1%86%E6%9E%B6/Pasted-20250120-3_hu_72deb87d71b36323.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="211"
data-flex-basis="507px"
>&lt;/p>
&lt;p>Playwright是基于Puppeteer之上的优化产物，它的实现原理可以说是puppeteer跟Selenium优点的综合。Playwright内建了一个基于Node.js实现的server模块，这个模块和基于各种不同语言的客户端程序之间，通过websocket协议来进行连接，通信，可以发挥websocket长连接、双向工作的优势。&lt;/p>
&lt;p>然后再通过CDP协议对chromium内核的浏览器进行控制和自动化驱动，这里Playwright也支持firefox和webkit（其实是Playwright本身实现了针对这两款浏览器的CDP协议，这里叫CDP plus协议）。&lt;/p>
&lt;p>还有个区别，Playwright其实是把浏览器版本内建在工具之中，这样就屏蔽了因浏览器版本不同导致的差异性。&lt;/p>
&lt;h2 id="测试框架在自动化测试工具体系中处于什么位置">测试框架在自动化测试工具体系中处于什么位置？
&lt;/h2>&lt;p>我们说到自动化，经常提到测试脚本、自动化工具、框架、平台，那么这些不同的概念到底有什么不一样，我们要介绍的&lt;strong>框架&lt;/strong>，在整个自动化测试体系中，实际是处于什么位置呢？&lt;/p>
&lt;p>可以用下面这个分层图来概括：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/051-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0pytest&amp;#43;playwright%E6%A1%86%E6%9E%B6/Pasted-20250120-4.png"
width="1155"
height="912"
srcset="https://chengxiaqiucao.github.io/post/051-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0pytest&amp;#43;playwright%E6%A1%86%E6%9E%B6/Pasted-20250120-4_hu_4b97bebd0a8d68ce.png 480w, https://chengxiaqiucao.github.io/post/051-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0pytest&amp;#43;playwright%E6%A1%86%E6%9E%B6/Pasted-20250120-4_hu_f57338f39227d14e.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="126"
data-flex-basis="303px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>脚本层面&lt;/strong>。 更多是可以通过一些测试脚本，来完成一些自动化测试任务或测试辅助工具。包括我们使用各种编程语言编写出来的测试代码，或者操作系统的一些shell、批处理脚本等，都属于脚本层面。脚本是自动化测试测试逻辑的直接体现。包括很多自动化测试录制回放工具，把手工操作，转换为测试脚本，完成的都是这个层面的工作。是自动化测试最基础的部分。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>工具层面&lt;/strong>。 这一层完成的是对脚本的驱动，脚本具体怎么驱动程序执行，怎么进行测试动作和结果的判断？ 这些是自动化测试工具要完成的工作。不同类型的测试通常有不同的工具。我们经常说到的Selenium， Appium，Postman，QTP、Jmeter等等，包括Playwright，主要都可以理解为测试工具。可以做Web、移动应用，接口，性能等等不同类型的自动化测试。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>框架层面&lt;/strong>，它解决的是自动化测试的组织，把一整套自动化测试用例组织起来。包括用例的选择，执行过程的控制，结果的汇总呈现等。框架层面，最主要的是会支持不同的测试工具，可以对不同类型的自动化测试进行整合。比较常见的测试框架，比如Pytest、Junit、Robotframework等，都属于优秀的自动化测试框架。 像Junit、Pytest，开始是面向单元测试的测试框架，PyTest是借鉴Junit发展而来，但并不是说他们的应用范围就是单元测试，集成测试、系统测试也同样应用。就像自动化测试不属于某一个具体的测试阶段一样，我们也不要把某个测试工具或测试框架和测试的阶段混淆，这是两个不同维度的概念。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>平台层面&lt;/strong>。自动化测试平台是在更高层面来组织自动化测试。要实现测试任务的调度、测试环境的管理，测试数据、测试脚本等测试资产的管理和分配，包括和其他的研发流程实现互通，比如bug的管理、代码管理、文档管理、配置管理等与各种其他研发工具的互通和整合。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="课程大纲">课程大纲
&lt;/h2>&lt;p>我的这门课程主要是结合Pytest和Playwright工具的系统介绍，学习如何搭建起一个可落地使用的自动化测试框架，包括和持续集成系统的集成。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/051-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0pytest&amp;#43;playwright%E6%A1%86%E6%9E%B6/Pasted-20250120.png"
width="1650"
height="3161"
srcset="https://chengxiaqiucao.github.io/post/051-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0pytest&amp;#43;playwright%E6%A1%86%E6%9E%B6/Pasted-20250120_hu_2cb77b476320e752.png 480w, https://chengxiaqiucao.github.io/post/051-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0pytest&amp;#43;playwright%E6%A1%86%E6%9E%B6/Pasted-20250120_hu_fe8f1a4feecf086e.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="52"
data-flex-basis="125px"
>&lt;/p>
&lt;p>感兴趣的小伙伴，可以关注哈，链接如下：&lt;/p>
&lt;p>&lt;a class="link" href="https://edu.csdn.net/course/detail/39983" target="_blank" rel="noopener"
>PyTest+PlayWright自动化测试框架实战&lt;/a>&lt;/p>
&lt;p>目前上新期，八折优惠哦~~&lt;/p></description></item><item><title>自动化测试工具Puppeteer简介</title><link>https://chengxiaqiucao.github.io/post/028-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7puppeteer%E7%AE%80%E4%BB%8B/</link><pubDate>Mon, 30 Sep 2024 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/028-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7puppeteer%E7%AE%80%E4%BB%8B/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/028-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7puppeteer%E7%AE%80%E4%BB%8B/puppeteer.png" alt="Featured image of post 自动化测试工具Puppeteer简介" />&lt;h2 id="前言">前言
&lt;/h2>&lt;p>自动化测试发展到如今，各种自动化测试工具层出不穷。Selenium 无疑是其中的佼佼者，从 2016 年至今，全球流行自动化测试工具排行榜中，Selenium 一直占据着最流行工具的头把交椅。selenium 基于 webdriver 协议，以其免费、开源和强大的功能和扩展性，同时因其创立者著名咨询公司 ThoughtWorks 公司的力推，在行业得到了广泛的应用。&lt;/p>
&lt;p>但在 ThoughtWorks 公司数年前发布的技术雷达（全球技术趋势的分析指南），在 E2E （端到端测试）领域中，指出了 后 Selenium 时代的一些后起之秀，其中就重点提及了Puppeteer。&lt;/p>
&lt;blockquote>
&lt;p>We keep receiving positive feedback on &amp;ldquo;post-Selenium&amp;rdquo; web UI testing tools such as Cypress, TestCafe and Puppeteer.&lt;/p>
&lt;p>&amp;hellip;&lt;/p>
&lt;p>We have good experience using &amp;ldquo;post-Selenium&amp;rdquo; web UI testing tools such as Cypress, TestCafe and Puppeteer.&lt;/p>
&lt;p>&amp;hellip;&lt;/p>&lt;/blockquote>
&lt;p>虽然 Selenium 是 TW 公司自家产品，但是随着前端技术的发展， Selenium 也呈现出对浏览器依赖度高、对单页面类应用掌控能力不足、基于 WebDriver 协议的通信效率不高等缺点，新一代的测试工具也逐渐进入行业视野。本文我们就一起来了解一下三驾马车中的第一个： &lt;strong>Puppeteer&lt;/strong>&lt;/p>
&lt;h2 id="puppeteer-简介">Puppeteer 简介
&lt;/h2>&lt;p>在介绍 Puppeteer 之前，我们先了解一个背景：headless，也就是无头浏览器。很早之前，在前端测试和爬虫领域就存在无头浏览器的需求，也就是不需要浏览器的界面，纯代码环境下实现浏览器内核操作。特别是 UI 自动化测试以及希望静默完成浏览操作的场景下非常有用。当时最流行的开源 headless 是 PhantomJS，但在 google 开源的 Puppeteer 出现之后，目前 PhantomJS 已经处于终止状态，可以说 Puppeteer 是现在应用最为广泛的 headless。&lt;/p>
&lt;p>那么 Puppeteer 就是 headless 吗？官方对 Puppeteer 有一个简单的定义：&lt;/p>
&lt;blockquote>
&lt;p>Puppeteer is a Node library which provides a high-level API to control Chrome or Chromium over the DevTools Protocol. Puppeteer runs headless by default, but can be configured to run full (non-headless) Chrome or Chromium.&lt;/p>&lt;/blockquote>
&lt;p>可以看出，Puppeteer 实际上是一个基于CDP协议来控制 Chrome 或 Chromium 的 Node.js 的库，一般用作无头模式，但也能工作在标准模式下。&lt;/p>
&lt;ul>
&lt;li>Puppeteer 是 Node.js 库，需在 Node 环境下运行代码&lt;/li>
&lt;li>基于 Chrome Devtools protocol&lt;/li>
&lt;li>仅可控制 Chrome 或 Chromium&lt;/li>
&lt;li>可配置运行模式&lt;/li>
&lt;/ul>
&lt;h2 id="puppeteer-架构">Puppeteer 架构
&lt;/h2>&lt;p>如图是 Puppeteer 的官方架构：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/028-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7puppeteer%E7%AE%80%E4%BB%8B/Pasted-20240929.png"
width="881"
height="789"
srcset="https://chengxiaqiucao.github.io/post/028-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7puppeteer%E7%AE%80%E4%BB%8B/Pasted-20240929_hu_c7d8359359ec7a19.png 480w, https://chengxiaqiucao.github.io/post/028-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7puppeteer%E7%AE%80%E4%BB%8B/Pasted-20240929_hu_78b5a8f7dab5be47.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="111"
data-flex-basis="267px"
>&lt;/p>
&lt;p>说明：&lt;/p>
&lt;ul>
&lt;li>Puppeteer 使用 DevTools Protocol 与浏览器 Browser 进行通信。&lt;/li>
&lt;li>Browser 浏览器实例可以包含多个浏览器上下文 BrowserContext。&lt;/li>
&lt;li>BrowserContext 用于保持浏览器 session，一个浏览器上下文可以包含多个页面。&lt;/li>
&lt;li>Page 一个 Page 最起码包含一个 frame，即 main frame，允许存在其他的 frame，这些frame 可以用 [iframe] 创建。&lt;/li>
&lt;li>Frame 一个 Frame 最起码有一个 Javascript 执行上下文环境，即默认的执行上下文环境。Frame 允许存在额外附加的上下文环境&lt;/li>
&lt;li>Worker 存在唯一的上下文环境，并可与 WebWorkers相互协作。&lt;/li>
&lt;/ul>
&lt;h2 id="puppeteer-的安装">Puppeteer 的安装
&lt;/h2>&lt;p>因为 Puppeteer 实际是一个 Node 库，所以安装非常简单：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&amp;gt; npm install puppeteer
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在安装时会同时安装 chromium，但因为众所周知的原因，国内会下载失败。所以建议使用国内源安装即可&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&amp;gt; npm install -g cnpm --registry&lt;span class="o">=&lt;/span>https://registry.npm.taobao.org
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt; cnpm install puppeteer
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>安装后可以使用以下命令检查下安装的版本，确认安装正确&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&amp;gt; npm ls puppeteer
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="hello-world">Hello World
&lt;/h2>&lt;p>通过一个简单的例子看下 Puppeteer 的基本用法。&lt;/p>
&lt;p>因为 Puppeteer 是通过 CDP 协议直接控制浏览器，所以可以实现很多浏览器层面的直接操作，比如下面这段代码，我们控制浏览器 (正常模式) 在访问我的博客网站时弹出一个对话框：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">puppeteer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;puppeteer&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">HelloWorld&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">HelloWorld&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">browser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">puppeteer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">launch&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">headless&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">page&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">browser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">newPage&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">goto&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://chengxiaqiucao.github.io/&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">evaluate&lt;/span>&lt;span class="p">(()=&amp;gt;&lt;/span>&lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello world!&amp;#39;&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">browser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">close&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>具体的 js 语法如 async，await 以及箭头函数等的用法，这里不多介绍了，大家可以先查阅下 js 相关文档。&lt;/p>
&lt;p>通过 node.js 执行这个 js 文件，即可运行。&lt;/p>
&lt;p>&lt;code>node pupp_sample.js&lt;/code>&lt;/p>
&lt;p>执行效果：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/028-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7puppeteer%E7%AE%80%E4%BB%8B/Pasted-20240930.png"
width="1184"
height="1019"
srcset="https://chengxiaqiucao.github.io/post/028-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7puppeteer%E7%AE%80%E4%BB%8B/Pasted-20240930_hu_830318373418e6bf.png 480w, https://chengxiaqiucao.github.io/post/028-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7puppeteer%E7%AE%80%E4%BB%8B/Pasted-20240930_hu_27af755f461ce365.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="116"
data-flex-basis="278px"
>&lt;/p>
&lt;h2 id="puppeteer-的主要特性">Puppeteer 的主要特性
&lt;/h2>&lt;p>前文是一个 Puppeteer 的简单示例。我们可以看到 puppeteer 的基本用法。其实 Puppeteer 作为一个强大的 headless，有很多功能，择要总结如下：&lt;/p>
&lt;h3 id="设置浏览器启动参数">设置浏览器启动参数
&lt;/h3>&lt;p>在启动浏览器的方法中，我们通过设置一些参数来配置浏览器，常用的参数有：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>headless: true/false 设置是否启动无头模式&lt;/p>
&lt;/li>
&lt;li>
&lt;p>devtools: true/false 是否同时启动 devtool&lt;/p>
&lt;/li>
&lt;li>
&lt;p>slowMo：毫秒数。运行在 slow 模式下，每步骤操作间隔&lt;/p>
&lt;/li>
&lt;li>
&lt;p>timeout: 毫秒数，设置启动超时时间，默认值 30000，即 30 秒&lt;/p>
&lt;/li>
&lt;li>
&lt;p>executablePath: 可以使用已安装的 chrome 浏览器替换默认的 chromium 浏览器，此处设置浏览器执行文件路径&lt;/p>
&lt;/li>
&lt;li>
&lt;p>args：设置 chrome 浏览器支持的配置参数。
支持的详细参数参见：&lt;a class="link" href="https://peter.sh/experiments/chromium-command-line-switches/" target="_blank" rel="noopener"
>chrome浏览器参数&lt;/a>。
比如 &lt;code>args: [&amp;quot;--start-maximized&amp;quot;]&lt;/code> 可以设置启动浏览器默认最大化。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>还用上文的代码，修改一下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">browser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">puppeteer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">launch&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">headless&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">devtools&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">slowMo&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">1000&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">args&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;--start-maximized&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">page&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">browser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">newPage&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">goto&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://chengxiaqiucao.github.io/&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">browser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">close&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>执行后会运行在 slow 模式下，默认开启了 devtool 并且自动进行了最大化。&lt;/p>
&lt;h3 id="模拟设备显示">模拟设备显示
&lt;/h3>&lt;p>Puppeteer 还支持设置模拟移动设备界面。通过 &lt;code>page.emulate()&lt;/code> 方法可以模拟一些主流的移动设备界面。具体支持的设备清单可以参见 &lt;a class="link" href="https://pptr.dev/api/puppeteer.knowndevices/" target="_blank" rel="noopener"
>官方提供的清单&lt;/a>&lt;/p>
&lt;p>用法如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">puppeteer&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;puppeteer&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">KnownDevices&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;puppeteer&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">iphone15&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">iphone15&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">iPhone&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">KnownDevices&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;iPhone 15 Pro&amp;#39;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    &lt;span class="kr">const&lt;/span> &lt;span class="nx">browser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">puppeteer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">launch&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">        &lt;span class="nx">headless&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">        &lt;span class="nx">devtools&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    &lt;span class="kr">const&lt;/span> &lt;span class="nx">pages&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">browser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pages&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    &lt;span class="kr">const&lt;/span> &lt;span class="nx">page&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">pages&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">emulate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">iPhone&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">goto&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://chengxiaqiucao.github.io/&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>执行效果：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/028-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7puppeteer%E7%AE%80%E4%BB%8B/Pasted-20240930-1.png"
width="1548"
height="1124"
srcset="https://chengxiaqiucao.github.io/post/028-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7puppeteer%E7%AE%80%E4%BB%8B/Pasted-20240930-1_hu_90b4a6ce3db6e82b.png 480w, https://chengxiaqiucao.github.io/post/028-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7puppeteer%E7%AE%80%E4%BB%8B/Pasted-20240930-1_hu_f9cd17fdbf24b6c6.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="137"
data-flex-basis="330px"
>&lt;/p>
&lt;p>除了模拟终端设备的方法。还可以通过 Page.setViewport 来设置分辨率，比如如下语句设置页面采用 1920 * 1080 分辨率&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setViewport&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">width&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1920&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">height&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1080&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="元素定位">元素定位
&lt;/h3>&lt;p>作为一款可进行自动化测试的工具，Puppeteer 自然也需要能够识别页面中的相关元素。 Puppeteer 中可通过 &lt;code>page.$(selector)&lt;/code> 和 &lt;code>page.$$(selector)&lt;/code> 来获取元素。selector 参数使用Css Selector语法来进行元素定位。css selector 的语法可以参见：&lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors" target="_blank" rel="noopener"
>css selector&lt;/a>。如定位博客页面种中的归档栏目：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#main-menu &amp;gt; li:nth-child(2) &amp;gt; a&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>一般在 chrome 中获取元素的对应 selector 描述，可以打开 chrome dev tools，定位到元素后，右键拷贝即可。&lt;/p>
&lt;p>除了使用 selector ，也可以通过 xpath 路径进行识别: &lt;code>page.$x(expression)&lt;/code>, 如&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$x&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;//*[@id=&amp;#34;main-menu&amp;#34;]/li[2]/a&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="页面操作及键盘输入">页面操作及键盘输入
&lt;/h3>&lt;p>自动化测试中最常用的操作自然是驱动页面执行相关的操作。在 Puppeteer 中可以使用相关已封装的方法完成对应操作。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 获取焦点
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">selector&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//点击元素
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">selector&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">tap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">selector&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">//手机端
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//输入内容
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">selector&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;输入内容&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//直接通过键盘输入
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">keyboard&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;输入内容&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">keyboard&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">press&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;KeyA&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="获取元素属性">获取元素属性
&lt;/h3>&lt;p>有时候我们会需要获取页面上元素的属性以进行后续操作，可以使用 &lt;code>page.$eval(selector,pagefunction)&lt;/code> 实现，如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//获取链接地址
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">preloadHref&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$eval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;link[rel=preload]&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">el&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">el&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">href&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="截图">截图
&lt;/h3>&lt;p>Puppeteer 可以通过 &lt;code>page.screenshot()&lt;/code> 方法实现页面截图, 有如下一些非常有用的参数：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>path：指定截图后的文件保存路径&lt;/p>
&lt;/li>
&lt;li>
&lt;p>type：指定保存的文件类型，jpg或png&lt;/p>
&lt;/li>
&lt;li>
&lt;p>quality：图片质量，0-100&lt;/p>
&lt;/li>
&lt;li>
&lt;p>fullpage：是否保存完整的页面&lt;/p>
&lt;/li>
&lt;li>
&lt;p>clip：指定截图区域 {x,y,width,height}&lt;/p>
&lt;/li>
&lt;li>
&lt;p>omitBackground：去除白色背景&lt;/p>
&lt;/li>
&lt;li>
&lt;p>encoding：图片编码，base64 或 binary&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>代码示例：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">browser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">puppeteer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">launch&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">headless&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">pages&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">browser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pages&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">page&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">pages&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">goto&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://chengxiaqiucao.github.io/&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">screenshot&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;screenshot.png&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">fullpage&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">browser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">close&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="保存-pdf">保存 PDF
&lt;/h3>&lt;p>Puppeteer 还有一个功能是可以直接将页面保存为 PDF 文件：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">browser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">puppeteer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">launch&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">headless&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">pages&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">browser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pages&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">page&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">pages&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">goto&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://chengxiaqiucao.github.io/&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pdf&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;blogList.pdf&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">format&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;A4&amp;#39;&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">browser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">close&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="网络请求拦截">网络请求拦截
&lt;/h3>&lt;p>Puppeteer 可以对页面的网络请求进行拦截处理。如下例会拦截 博客网站的头像图片加载：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">browser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">puppeteer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">launch&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">headless&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">pages&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">browser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pages&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">page&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">pages&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setRequestInterception&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;request&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">request&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">        &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">includes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;automnGrass&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">            &lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">abort&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">        &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">            &lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">continue&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">    &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">goto&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://chengxiaqiucao.github.io/&amp;#39;&lt;/span>&lt;span class="p">,{&lt;/span>&lt;span class="nx">timeout&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">100000&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">browser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">close&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>效果如图：
&lt;img src="https://chengxiaqiucao.github.io/post/028-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7puppeteer%E7%AE%80%E4%BB%8B/Pasted-20240930-2.png"
width="666"
height="579"
srcset="https://chengxiaqiucao.github.io/post/028-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7puppeteer%E7%AE%80%E4%BB%8B/Pasted-20240930-2_hu_98274b399ff6c4e9.png 480w, https://chengxiaqiucao.github.io/post/028-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7puppeteer%E7%AE%80%E4%BB%8B/Pasted-20240930-2_hu_90ce7675a044281e.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="115"
data-flex-basis="276px"
>&lt;/p>
&lt;h3 id="性能指标录制">性能指标录制
&lt;/h3>&lt;p>Puppeteer 另一个非常有用的特性是可以录制下性能跟踪指标，供共享进行性能分析。&lt;/p>
&lt;p>使用非常简单，在需要记录性能指标的操作前后，用 &lt;code>page.tracing.start()&lt;/code> 和 &lt;code>page.tracing.stop()&lt;/code>标记&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">browser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">puppeteer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">launch&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">headless&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">pages&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">browser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pages&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">page&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">pages&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">tracing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">start&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;trace.json&amp;#39;&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">goto&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://chengxiaqiucao.github.io/&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">tracing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stop&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">browser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">close&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>将保存的 trace.json 文件上传到 chrome dev tools 的 performance 栏下，即可进行对应的性能分析。如图：
&lt;img src="https://chengxiaqiucao.github.io/post/028-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7puppeteer%E7%AE%80%E4%BB%8B/Pasted-20240930-3.png"
width="1328"
height="697"
srcset="https://chengxiaqiucao.github.io/post/028-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7puppeteer%E7%AE%80%E4%BB%8B/Pasted-20240930-3_hu_e1d43be1dda79660.png 480w, https://chengxiaqiucao.github.io/post/028-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7puppeteer%E7%AE%80%E4%BB%8B/Pasted-20240930-3_hu_2b1d6e7cb979c9df.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="190"
data-flex-basis="457px"
>&lt;/p>
&lt;h2 id="puppeteer-结合-jest-自动化测试实例">Puppeteer 结合 Jest 自动化测试实例
&lt;/h2>&lt;p>现在我们来结合一个具体的 UI 自动化测试案例来看看 Puppeteer 的使用。&lt;/p>
&lt;p>测试需求如下：&lt;/p>
&lt;blockquote>
&lt;p>Case 1:&lt;/p>
&lt;ul>
&lt;li>打开 秋草观&amp;quot;测&amp;quot;台&lt;/li>
&lt;li>确认站点加载正确&lt;/li>
&lt;/ul>
&lt;p>Case2:&lt;/p>
&lt;ul>
&lt;li>定位归档页面&lt;/li>
&lt;li>进入归档栏目&lt;/li>
&lt;/ul>
&lt;p>Case3:&lt;/p>
&lt;ul>
&lt;li>获取当前页面的文章清单并输出到控制台&lt;/li>
&lt;/ul>&lt;/blockquote>
&lt;p>Puppeteer 是一个 node 的无头浏览器控制库，本身并没有包含测试框架功能，所以一般我们会借助其他测试框架来配合进行测试调度、执行、断言。这里以前端测试中常用的框架 Jest 为例，来看看如何用 Puppeteer 完成上述自动化需求。&lt;/p>
&lt;p>Jest 的安装和基本使用不是本文重点，这里不再进行详细说明，大家可以自行搜索学习一下，这里简单说明；&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&amp;gt; npm install jest
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>要使用 Jest，需要在 项目目录下配置 package.json，包含：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="err">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;jest&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>默认会自动识别以 &lt;code>.test.js&lt;/code> 结尾的脚本作为测试脚本。通过 &lt;code>npm run test&lt;/code> 驱动执行即可。&lt;/p>
&lt;p>以下为具体实现代码，关键处已添加注释，不再另行赘述。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">puppeteer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;puppeteer&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">browser&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">pages&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//Jest 默认超时时间为 5s, 太短。修改为 60s，
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">jest&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">60000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 测试 Setup，总体准备动作
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">beforeAll&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 关闭浏览器无头模式，并运行在 slow 模式下
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// 每个页面的默认 viewport 设置 1024 * 768
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">browser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">puppeteer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">launch&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">headless&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">slowMo&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">defaultViewport&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">width&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1024&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">height&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">768&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//打开新页面
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">page&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">browser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">newPage&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//设置页面默认超时 60S
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setDefaultTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">60000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 测试 Teardown，总体清理动作
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">afterAll&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">browser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">close&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//每个用例的 setup 准备操作
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//todo
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//每个用例的 Teardown 清理操作
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">afterEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//todo
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Case1：进入博客主页&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">()=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">goto&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://chengxiaqiucao.github.io/&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//验证页面正确加载
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;秋 草 观 “测” 台&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Case2：访问归档栏目&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">waitForSelector&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#main-menu &amp;gt; li:nth-child(2) &amp;gt; a&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#main-menu &amp;gt; li:nth-child(2) &amp;gt; a&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//等待加载完成
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">waitForFunction&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">        &lt;span class="k">return&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">readyState&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;complete&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">      &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Case3：获取文章清单&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//css selector 定位到 测试 栏目并打开
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">ArticleTitles&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$$eval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;h2.article-title&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">els&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nb">Array&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">els&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">map&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">el&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">el&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">textContent&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ArticleTitles&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>执行输出：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">PS C:&lt;span class="se">\&amp;gt;&lt;/span> npm run &lt;span class="nb">test&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt; &lt;span class="nb">test&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt; jest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> console.log
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;大话Https协议&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;软件分支策略和集成模式梳理&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Git工作原理和常用指令&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Pytest中自动指定可引用fixture&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;用SeleniumBase制作产品Demo&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;适合用来自动化测试练手的项目&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;用Typer快速开发python命令行应用&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;PostmanV11更新便览&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Selenium Manager用法详解&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;理解敏捷宣言背后的文化逻辑&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;如何及时掌握各种常用框架的最新变化？&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;软件测试的目的到底是什么？&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Pytest中fixture的范围&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Pytest使用Fixture进行参数化及中文乱码问题&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Win11操作小技巧二则&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Hugo+Github搭建博客小记&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;AI测试之TestGPT&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;提 Bug 的艺术&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Postman高级篇&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Postman自动化篇&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Postman进阶篇&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Postman基础篇&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at Object.log &lt;span class="o">(&lt;/span>pupp.test.js:60:13&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> PASS ./pupp.test.js &lt;span class="o">(&lt;/span>14.525 s&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> √ Case1：进入博客主页 &lt;span class="o">(&lt;/span>&lt;span class="m">5420&lt;/span> ms&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> √ Case2：访问归档栏目 &lt;span class="o">(&lt;/span>&lt;span class="m">4011&lt;/span> ms&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> √ Case3：获取文章清单 &lt;span class="o">(&lt;/span>&lt;span class="m">2464&lt;/span> ms&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Test Suites: &lt;span class="m">1&lt;/span> passed, &lt;span class="m">1&lt;/span> total
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Tests: &lt;span class="m">3&lt;/span> passed, &lt;span class="m">3&lt;/span> total
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Snapshots: &lt;span class="m">0&lt;/span> total
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Time: 14.578 s, estimated &lt;span class="m">15&lt;/span> s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Ran all &lt;span class="nb">test&lt;/span> suites.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="结语">结语
&lt;/h2>&lt;p>以上就是 关于Puppeteer 的基本用法介绍。可以看到 Puppeteer 作为 chrome 官方出品的浏览器控制库，功能强大，可以从浏览器底层完成很多控制操作。无论是 UI 自动化还是作为爬虫，都大有用武之地。直接基于 Node.js 环境运行，安装运行简便。对于针对浏览器前端的 E2E 测试来说，Puppeteer 是一个上佳的选择。&lt;/p>
&lt;p>不过 Puppeteer 作为一个控制库，在自动化测试本身的框架构成上比较单一，一般需要和其他框架配合使用。&lt;/p>
&lt;hr>
&lt;p>关注 城下秋草， 测试技术不迷路~~&lt;/p></description></item><item><title>Pytest中自动指定可引用fixture</title><link>https://chengxiaqiucao.github.io/post/017-pytest%E4%B8%AD%E8%87%AA%E5%8A%A8%E6%8C%87%E5%AE%9A%E5%8F%AF%E5%BC%95%E7%94%A8fixture/</link><pubDate>Tue, 24 Sep 2024 13:16:16 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/017-pytest%E4%B8%AD%E8%87%AA%E5%8A%A8%E6%8C%87%E5%AE%9A%E5%8F%AF%E5%BC%95%E7%94%A8fixture/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/017-pytest%E4%B8%AD%E8%87%AA%E5%8A%A8%E6%8C%87%E5%AE%9A%E5%8F%AF%E5%BC%95%E7%94%A8fixture/pytest.png" alt="Featured image of post Pytest中自动指定可引用fixture" />&lt;p>在我们使用 Pytest 框架进行自动化测试时，强大的 fixture 夹具为框架的灵活应用提供了极大的便利。比如我们可以利用 fixture 的&lt;code>autouse&lt;/code>属性，使它在测试方法的不同范围层级上自动生效。但如果要引用fixture的返回，我们通常还是要明确指定，稍显麻烦&lt;/p>
&lt;h2 id="autouse指定fixture但还是需要显式携带为参数才可调用">autouse指定fixture，但还是需要显式携带为参数才可调用
&lt;/h2>&lt;p>以&lt;code>Selenium&lt;/code> 自动化时最常用的&lt;code>webdriver&lt;/code>为例， 实现自动化时，因为&lt;code>webdriver&lt;/code> 对象通常会在整个执行期间都生效，而且会频繁地进行调用。&lt;/p>
&lt;p>通常的做法是可以在 &lt;code>conftest.py&lt;/code> 文件中编写一个session层级的通用&lt;code>driver&lt;/code>夹具，设置 &lt;code>autouse&lt;/code>为启用：&lt;/p>
&lt;p>conftest.py&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@pytest.fixture&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scope&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;session&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">autouse&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">driver&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">option&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">webdriver&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ChromeOptions&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">driver&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">webdriver&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Chrome&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">options&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">option&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">driver&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">implicitly_wait&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">driver&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">webdriver&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Chrome&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">yield&lt;/span> &lt;span class="n">driver&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后我们在另一个测试文件中，编写测试类和测试方法时，就可以直接引用这个driver夹具&lt;/p>
&lt;p>test_auto_driver.py&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">TestDriver&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">Test_open_blog&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">driver&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">driver&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;https://chengxiaqiucao.github.io/&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="n">driver&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">title&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;秋 草 观 “测” 台&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>但如果整个测试工程比较大，类似的测试类、测试方法比较多的时候，每定义一次测试方法都要指定这个通用fixture，才能引用driver对象，是不是总感觉不太优雅？&lt;/p>
&lt;h2 id="pytest内置fixture-request">Pytest内置Fixture： Request
&lt;/h2>&lt;p>其实大家学习过通过Fixture来参数化的方法的话，应该知道通过Fixture进行参数化，是通过pytest的一个内部fixture &lt;code>request&lt;/code>来完成的。 &lt;code>request&lt;/code>应该是pytest中最为重要的一个内置夹具了。而利用这个fixture，我们其实可以实现隐式地将一些通用fixture默认地传递给各个测试类&lt;/p>
&lt;h3 id="request简介">request简介
&lt;/h3>&lt;p>通过官方文档的介绍：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/017-pytest%E4%B8%AD%E8%87%AA%E5%8A%A8%E6%8C%87%E5%AE%9A%E5%8F%AF%E5%BC%95%E7%94%A8fixture/Pasted-20240924-3.png"
width="1213"
height="1095"
srcset="https://chengxiaqiucao.github.io/post/017-pytest%E4%B8%AD%E8%87%AA%E5%8A%A8%E6%8C%87%E5%AE%9A%E5%8F%AF%E5%BC%95%E7%94%A8fixture/Pasted-20240924-3_hu_aa5f1cd9761ceafd.png 480w, https://chengxiaqiucao.github.io/post/017-pytest%E4%B8%AD%E8%87%AA%E5%8A%A8%E6%8C%87%E5%AE%9A%E5%8F%AF%E5%BC%95%E7%94%A8fixture/Pasted-20240924-3_hu_b31f5cd2ca5d515.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="110"
data-flex-basis="265px"
>&lt;/p>
&lt;blockquote>
&lt;p>&lt;code>request&lt;/code> 是一个用于提供当前测试方法上下文信息，以及通过&lt;code>param&lt;/code>参数实现参数化的一个内置夹具。&lt;/p>&lt;/blockquote>
&lt;p>利用request，我们可以在运行过程中获取当前fixture的诸多上下文信息。比如夹具名称、路径、当前的session、模块、类信息等。&lt;/p>
&lt;p>下图是引用fixture时，断点得到的request对象属性&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/017-pytest%E4%B8%AD%E8%87%AA%E5%8A%A8%E6%8C%87%E5%AE%9A%E5%8F%AF%E5%BC%95%E7%94%A8fixture/Pasted-20240924.png"
width="1355"
height="691"
srcset="https://chengxiaqiucao.github.io/post/017-pytest%E4%B8%AD%E8%87%AA%E5%8A%A8%E6%8C%87%E5%AE%9A%E5%8F%AF%E5%BC%95%E7%94%A8fixture/Pasted-20240924_hu_2ee7ab2b93f4c91b.png 480w, https://chengxiaqiucao.github.io/post/017-pytest%E4%B8%AD%E8%87%AA%E5%8A%A8%E6%8C%87%E5%AE%9A%E5%8F%AF%E5%BC%95%E7%94%A8fixture/Pasted-20240924_hu_b588ca3f4a739db8.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="196"
data-flex-basis="470px"
>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/017-pytest%E4%B8%AD%E8%87%AA%E5%8A%A8%E6%8C%87%E5%AE%9A%E5%8F%AF%E5%BC%95%E7%94%A8fixture/Pasted-20240924-1.png"
width="1319"
height="852"
srcset="https://chengxiaqiucao.github.io/post/017-pytest%E4%B8%AD%E8%87%AA%E5%8A%A8%E6%8C%87%E5%AE%9A%E5%8F%AF%E5%BC%95%E7%94%A8fixture/Pasted-20240924-1_hu_de92f0068af4a231.png 480w, https://chengxiaqiucao.github.io/post/017-pytest%E4%B8%AD%E8%87%AA%E5%8A%A8%E6%8C%87%E5%AE%9A%E5%8F%AF%E5%BC%95%E7%94%A8fixture/Pasted-20240924-1_hu_ce13ff45ec2fa7a.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="154"
data-flex-basis="371px"
>&lt;/p>
&lt;p>那上例中作为一个在session级别生效的通用的fixture，我们可以通过它的session属性，获取当前session中的所有类，再将driver对象赋值给相关类属性，这样我们在定义测试类时，就可以无需另外指定fixture，直接通过类属性根据需要引用即可。&lt;/p>
&lt;h2 id="实现fixture自动赋值到类属性">实现fixture自动赋值到类属性
&lt;/h2>&lt;p>所以修改上面案例的代码如下：&lt;/p>
&lt;p>conftest.py&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@pytest.fixture&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scope&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;session&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">autouse&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">driver&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> 自动应用fixture，并设置到调用的类属性中
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> :param request: pytest内置fixture，用于获取fixture的上下文
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> :return:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> &amp;#34;&amp;#34;&amp;#34;&lt;/span> &lt;span class="n">driver&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">webdriver&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Chrome&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">session&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">node&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">item&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">session&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">items&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">cls&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">item&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getparent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pytest&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">setattr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">cls&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">obj&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;driver&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">driver&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">yield&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">finally&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">driver&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">quit&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这里我们将driver对象添加为类属性，而fixture本身不再yield任何对象返回&lt;/p>
&lt;p>相应的，测试脚本中，直接通过&lt;code>self.driver&lt;/code> 易用类属性即可&lt;/p>
&lt;p>test_auto_driver.py&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">TestDriver&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">Test_open_blog&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">driver&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">driver&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;https://chengxiaqiucao.github.io/&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">driver&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">title&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;秋 草 观 “测” 台&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>执行效果, 用例同样正确完成执行。
&lt;img src="https://chengxiaqiucao.github.io/post/017-pytest%E4%B8%AD%E8%87%AA%E5%8A%A8%E6%8C%87%E5%AE%9A%E5%8F%AF%E5%BC%95%E7%94%A8fixture/Pasted-20240924-2.png"
width="1945"
height="651"
srcset="https://chengxiaqiucao.github.io/post/017-pytest%E4%B8%AD%E8%87%AA%E5%8A%A8%E6%8C%87%E5%AE%9A%E5%8F%AF%E5%BC%95%E7%94%A8fixture/Pasted-20240924-2_hu_8791a67de0cd1d45.png 480w, https://chengxiaqiucao.github.io/post/017-pytest%E4%B8%AD%E8%87%AA%E5%8A%A8%E6%8C%87%E5%AE%9A%E5%8F%AF%E5%BC%95%E7%94%A8fixture/Pasted-20240924-2_hu_74a33ecf2f3b37cf.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="298"
data-flex-basis="717px"
>&lt;/p>
&lt;p>以上~~&lt;/p></description></item><item><title>用SeleniumBase制作产品Demo</title><link>https://chengxiaqiucao.github.io/post/019-%E7%94%A8seleniumbase%E5%88%B6%E4%BD%9C%E4%BA%A7%E5%93%81demo/</link><pubDate>Mon, 23 Sep 2024 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/019-%E7%94%A8seleniumbase%E5%88%B6%E4%BD%9C%E4%BA%A7%E5%93%81demo/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/019-%E7%94%A8seleniumbase%E5%88%B6%E4%BD%9C%E4%BA%A7%E5%93%81demo/seleniumBase.png" alt="Featured image of post 用SeleniumBase制作产品Demo" />&lt;p>Selenium作为目前最为流程的开源Web自动化测试框架，已经发展了20年。功能强大，它的webdriver协议也已经成为自动化测试领域的一个事实标准。而基于Selenium这个框架，又诞生出很多基于它封装的拓展框架。比如本文我们介绍的SeleniumBase&lt;/p>
&lt;h2 id="seleniumbase是什么">SeleniumBase是什么？
&lt;/h2>&lt;p>SeleniumBase是一个基于Selenium框架基础上，进一步进行了脚本增强的Python库。
在Selenium原有的功能基础上，简化了自动化脚本的编写和调用方式，并且和&lt;code>pytest&lt;/code>框架进行了深度集成。最主要的是它提供了多种不同的脚本模式, 包括脚本录制、运行慢放、运行中Debug，以及我们本文要介绍的演示功能。&lt;/p>
&lt;p>虽然SeleniumBase十分强大，但底层自动化的实现逻辑上依然沿用Selenium的主要特性。所以这里我们不特别介绍SeleniumBase在自动化脚本编写上的封装。但这个库有一个非常棒的地方是它通过JS的注入让自动化运行过程更加直观和便于展示。&lt;/p>
&lt;p>比如我们下面看到的演示制作&lt;/p>
&lt;h2 id="通过自动化脚本完成演示的优点">通过自动化脚本完成演示的优点
&lt;/h2>&lt;p>作为测试工程师，特别是随着现在敏捷研发的流行，迭代结束通常都有个迭代回顾和演示环节。而作为测试工程师，很多迭代中的功能演示这个工作是由我们来完成的。&lt;/p>
&lt;p>包括有时在向客户、领导介绍产品功能时，通过实际的产品操作来说明功能也必不可少。&lt;/p>
&lt;p>但实际操作中，如果能提前将一些需要说明的重点，在自动化测试执行的同时展示出来，效果就非常好，并且还能避免一些临时的误操作。&lt;/p>
&lt;p>所以SeleniumBase的这个功能就能在这里发挥优势了&lt;/p>
&lt;h2 id="用seleniumbase制作产品演示流程">用SeleniumBase制作产品演示流程
&lt;/h2>&lt;p>先看一下用SeleniumBase完成的我的博客网站的中一个开源更新信息的演示&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/019-%E7%94%A8seleniumbase%E5%88%B6%E4%BD%9C%E4%BA%A7%E5%93%81demo/demo.gif"
width="1677"
height="968"
srcset="https://chengxiaqiucao.github.io/post/019-%E7%94%A8seleniumbase%E5%88%B6%E4%BD%9C%E4%BA%A7%E5%93%81demo/demo_hu_2e4c9c956c45faf4.gif 480w, https://chengxiaqiucao.github.io/post/019-%E7%94%A8seleniumbase%E5%88%B6%E4%BD%9C%E4%BA%A7%E5%93%81demo/demo_hu_6cff5250efc55fe.gif 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="173"
data-flex-basis="415px"
>&lt;/p>
&lt;p>其实它的原理也比较简单，就是通过它封装的&lt;code>BaseCase&lt;/code>类，在对应的操作步骤执行同时，注入封装好的Js来突出执行的元素，给出一些指引提示。&lt;/p>
&lt;p>这里对应的基类中的&lt;code>create_introjs_tour()&lt;/code>方法，创建演示导引。这里它还有不同的js主题选择，非常强大。&lt;/p>
&lt;p>然后就是&lt;code>add_tour_step()&lt;/code>添加步骤，&lt;code>play_tour() &lt;/code>执行步骤.&lt;/p>
&lt;p>对应的演示生成代码：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">seleniumbase&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">BaseCase&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">BaseCase&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="vm">__name__&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="vm">__file__&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">MyTourClass&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BaseCase&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">test_blog_tour&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;https://chengxiaqiucao.github.io/&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">wait_for_element&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[class=&amp;#34;site-logo&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_introjs_colors&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;#f34565&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;#c55409&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">create_introjs_tour&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">#&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add_tour_step&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Selenium Base制作Demo演示&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">title&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;城下秋草的Demo&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add_tour_step&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;查看热门开源项目&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;#main-menu &amp;gt; li:nth-child(6) &amp;gt; a&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">play_tour&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">highlight_click&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#main-menu &amp;gt; li:nth-child(6) &amp;gt; a&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">wait_for_element&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[class=&amp;#34;article-title&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">create_introjs_tour&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add_tour_step&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;选择Selenium项目查看&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;#seleniumpageselenium-10 &amp;gt; a&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">play_tour&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">highlight_click&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#seleniumpageselenium-10 &amp;gt; a&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ad_block&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">wait_for_element&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[class=&amp;#34;section-title&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">create_introjs_tour&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add_tour_step&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;返回主页&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;[class=&amp;#34;site-logo&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">play_tour&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">highlight_click&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[class=&amp;#34;site-logo&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">wait_for_element&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[title=&amp;#34;搜索&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">create_introjs_tour&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add_tour_step&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;3秒停顿后继续...&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add_tour_step&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;开始下一个演示:&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">play_tour&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">interval&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>而实际演示的注入Js，我们还可以通过&lt;code>self.export_tour&lt;/code>这个语句导出对应的js脚本，便于后续直接使用。&lt;/p>
&lt;p>类似的还有他的Demo模式，其实和演示导引模式比较类似，只是更多时自动把自动化执行步骤放慢并高亮，突出验证点。&lt;/p>
&lt;p>以上就是关于SeleniumBase库这个帅气功能的分享~&lt;/p></description></item><item><title>适合用来自动化测试练手的项目</title><link>https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/</link><pubDate>Fri, 20 Sep 2024 15:24:19 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/autotest.png" alt="Featured image of post 适合用来自动化测试练手的项目" />&lt;p>很多初学自动化测试的朋友，看过很多教程，但是苦恼于没有合适的项目用来进行练习，这里就分享下笔者收集的一些不错的练习项目&lt;/p>
&lt;h2 id="demoqa">DemoQA
&lt;/h2>&lt;p>&lt;a class="link" href="https://demoqa.com/" target="_blank" rel="noopener"
>DemoQA&lt;/a> 是一个专门的用于练习如Selenium这样的web自动化测试的练习网站。
&lt;img src="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-1.png"
width="1167"
height="911"
srcset="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-1_hu_d00c536000d2404c.png 480w, https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-1_hu_b1d19370c823aca4.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="128"
data-flex-basis="307px"
>
针对Web自动化学习过程中的各种常用元素、控件都有覆盖，可以比较全面地学习对页面的处理
&lt;img src="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-2.png"
width="897"
height="902"
srcset="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-2_hu_1a420dda353305cd.png 480w, https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-2_hu_ef7636641737213d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="99"
data-flex-basis="238px"
>&lt;/p>
&lt;h2 id="the-internet">The-internet
&lt;/h2>&lt;p>&lt;a class="link" href="https://the-internet.herokuapp.com/" target="_blank" rel="noopener"
>The-Internet&lt;/a> 也是一个面向初学者的专门用于自动化测试练习的项目，和DemoQA比较类似。场景上可以用来互补。 除了在线使用，也可以通过它的github项目下载源码自行部署（基于Ruby）。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-3.png"
width="1206"
height="1027"
srcset="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-3_hu_925815a97cfa75a7.png 480w, https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-3_hu_d6481bfef1476532.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="117"
data-flex-basis="281px"
>&lt;/p>
&lt;h2 id="saucelab-app">SauceLab App
&lt;/h2>&lt;p>SauceLab 是一个测试服务提供商，&lt;a class="link" href="https://www.saucedemo.com/" target="_blank" rel="noopener"
>SauceDemo&lt;/a> 这个站点是它提供于自动化测试练习的一个项目&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-4.png"
width="1880"
height="1016"
srcset="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-4_hu_2b0da96eb003fd6d.png 480w, https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-4_hu_84ccea4bd437b47c.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="185"
data-flex-basis="444px"
>&lt;/p>
&lt;p>这个项目除了Web版本之外，还提供有移动版本my-demo-app，可以用于Android/IOS应用自动化测试的练习, 可以通过SauceLab的github项目获取。&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/saucelabs/my-demo-app-android" target="_blank" rel="noopener"
>https://github.com/saucelabs/my-demo-app-android&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/saucelabs/my-demo-app-ios" target="_blank" rel="noopener"
>https://github.com/saucelabs/my-demo-app-ios&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-5.png"
width="679"
height="1174"
srcset="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-5_hu_3f82577def79080e.png 480w, https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-5_hu_1846164a43f7007c.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="57"
data-flex-basis="138px"
>&lt;/p>
&lt;h2 id="sahi-test">Sahi Test
&lt;/h2>&lt;p>&lt;a class="link" href="https://sahitest.com/demo/" target="_blank" rel="noopener"
>Sahi Test&lt;/a> 是一个测试博主自建的用于自动化测试练习的一个项目，包含了非常丰富的场景&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-6.png"
width="1820"
height="845"
srcset="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-6_hu_6bf30c285f35cdec.png 480w, https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-6_hu_b91fd3ca9d6e79df.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="215"
data-flex-basis="516px"
>&lt;/p>
&lt;h2 id="guru99-demo">GURU99 Demo
&lt;/h2>&lt;p>&lt;a class="link" href="https://demo.guru99.com/" target="_blank" rel="noopener"
>Demo Guru99&lt;/a> 是Guru99 网站集成的用于自动化测试练习的多个项目集成，包括保险、银行、电信以及传统自动化测试工具QTP自带的Tour项目&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-7.png"
width="1635"
height="932"
srcset="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-7_hu_b009fb8b587793ae.png 480w, https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-7_hu_20a507952dd2105c.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="175"
data-flex-basis="421px"
>
&lt;img src="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-8.png"
width="852"
height="1022"
srcset="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-8_hu_99d676a1a8768614.png 480w, https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-8_hu_6b9b08d44f49b651.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="83"
data-flex-basis="200px"
>&lt;/p>
&lt;h2 id="jpetstore">JpetStore
&lt;/h2>&lt;p>&lt;strong>JpetStore&lt;/strong>是由mybatis 提供的一个宠物商店应用。项目地址：&lt;a class="link" href="https://github.com/mybatis/jpetstore-6" target="_blank" rel="noopener"
>https://github.com/mybatis/jpetstore-6&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-10.png"
width="1663"
height="662"
srcset="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-10_hu_b54a7aca6673f337.png 480w, https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-10_hu_b8e079f59b13f24d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="251"
data-flex-basis="602px"
>&lt;/p>
&lt;h2 id="opencart">OpenCart
&lt;/h2>&lt;p>除了上面这些专门提供给自动化测试练习的项目外，我们练习时也可以找一些功能更齐全的开源免费站点来使用。&lt;/p>
&lt;p>比如&lt;a class="link" href="https://demo.opencart.com/" target="_blank" rel="noopener"
>OpenCart&lt;/a> 就是一个开源的电商网站，可以基于它的Demo站点来练习&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920.png"
width="1645"
height="1263"
srcset="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920_hu_9ba455079ded470e.png 480w, https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920_hu_b423566870b3ac3b.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="130"
data-flex-basis="312px"
>&lt;/p>
&lt;h2 id="orangehrm">OrangeHRM
&lt;/h2>&lt;p>&lt;a class="link" href="https://opensource-demo.orangehrmlive.com/web/index.php/auth/login" target="_blank" rel="noopener"
>OrangeHRM&lt;/a> 是一个功能强大的开源人事管理系统，作为自动化测试的练习网站同样是一个很好的选择&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-9.png"
width="1876"
height="1007"
srcset="https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-9_hu_c93cf9c294115298.png 480w, https://chengxiaqiucao.github.io/post/012-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%94%B6%E9%9B%86/Pasted-20240920-9_hu_a1500e2f181e3e47.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="186"
data-flex-basis="447px"
>&lt;/p>
&lt;p>以上就是笔者收集整理的一些常用的可以用于自动化测试练习的网站。当然，开源网站上其实有大量比较成熟的web应用，我们完全可以在本地完成搭建以后再进行练习。 大家如果有其他比较好的练习项目推荐，欢迎评论补充哦~~&lt;/p></description></item><item><title>PostmanV11更新便览</title><link>https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/</link><pubDate>Thu, 12 Sep 2024 14:57:14 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/v11-Launch-Blog.jpg" alt="Featured image of post PostmanV11更新便览" />&lt;h1 id="postman迎来v11大版本更新">Postman迎来V11大版本更新
&lt;/h1>&lt;p>Postman作为接口测试中，被广泛应用的一款主流工具，以其丰富的功能，灵活方便的使用方式，广受欢迎。最新发布的V11版本则在向协作平台转型的过程中一路狂奔，增加大量全新的协作支持。下面我们就一起来看看都有哪些变化吧&lt;/p>
&lt;h2 id="协作增强---comments评论入口更便捷">协作增强 - Comments评论入口更便捷
&lt;/h2>&lt;p>作为一个协作平台，在之前的版本中，Postman已经提供了评论功能。可以通过右侧边栏打开评论窗口，针对不同的接口添加评论，这样对于团队协作来开发调试同一个接口时，可以实现团队的交互
&lt;img src="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-1.png"
width="1316"
height="527"
srcset="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-1_hu_c73c9b33277ab3cf.png 480w, https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-1_hu_e4ba433319cb8cc0.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="249"
data-flex-basis="599px"
>&lt;/p>
&lt;p>但这里的评论是针对接口层面的，但实际大家在协作时，往往更多是要针对具体的消息体，消息参数、包括接口脚本进行针对性的讨论，所以新版本的改进，就是在这些地方增加了评论入口，便于针对不同的对象直接添加评论，并进行关联&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915.png"
width="984"
height="405"
srcset="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915_hu_46180f5c8b0a67c7.png 480w, https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915_hu_d7139f8185d763cd.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="242"
data-flex-basis="583px"
>
&lt;img src="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-2.png"
width="920"
height="343"
srcset="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-2_hu_cf53a6656ddb2f93.png 480w, https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-2_hu_963ed4a842cdccdf.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="268"
data-flex-basis="643px"
>
&lt;img src="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-3.png"
width="840"
height="275"
srcset="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-3_hu_dca23e2feec078f1.png 480w, https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-3_hu_168abb5e6c17d0ac.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="305"
data-flex-basis="733px"
>
而评论窗口中也会现实具体评论关联的相关元素，便于团队成员针对具体的对象完成探讨
&lt;img src="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-4.png"
width="667"
height="877"
srcset="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-4_hu_f1c6e6d8638a6ae5.png 480w, https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-4_hu_c6fbb8d7cf605ff6.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="76"
data-flex-basis="182px"
>&lt;/p>
&lt;h2 id="代码复用引入package-library">代码复用，引入package library
&lt;/h2>&lt;p>另一个更新，是关于代码复用。Postman支持灵活的脚本功能，但是之前的版本，当我们想在不同的接口中，使用同一段脚本时，一般还是拷贝粘贴。为了解决这个问题，类似于JMeter中的测试片段，Postman这个版本中引入了一个新的功能模块，&lt;code>Package Library&lt;/code>，也就是可以把经常复用的脚本、函数保存为package，然后在任何需要使用的地方，引入这个packag而进行使用即可&lt;/p>
&lt;p>在Scripts（目前版本将原先的&lt;code>PreRequest&lt;/code>和&lt;code>Tests&lt;/code>脚本统一放到了&lt;code>scripts&lt;/code> tab页下了）中，原先右侧的代码辅助栏中增加了这个新入口
&lt;img src="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915153627.png"
width="1241"
height="631"
srcset="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915153627_hu_6d0e3ce068e615ed.png 480w, https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915153627_hu_8d2477380403dce0.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="196"
data-flex-basis="472px"
>
在这个模块中，可以主动地将需要需要复用的代码添加为Package
&lt;img src="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-5.png"
width="1318"
height="752"
srcset="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-5_hu_9ebc7cfe042395ce.png 480w, https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-5_hu_5609aaa3d0c95616.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="175"
data-flex-basis="420px"
>
或者也可以从已有代码中，选中需要复用的代码，添加到package中
&lt;img src="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-6.png"
width="1235"
height="357"
srcset="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-6_hu_98aeb37afc654c0b.png 480w, https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-6_hu_126d1be145f4efe7.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="345"
data-flex-basis="830px"
>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-7.png"
width="1271"
height="448"
srcset="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-7_hu_46cfca6cedf7446f.png 480w, https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-7_hu_ecc734183ddcb021.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="283"
data-flex-basis="680px"
>
使用的话，直接在package 搜索框中检索需要复用的代码package，就会自动插入对应的代码，实现复用&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="n">checkStatOk&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pm&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;@qiucao-testing/check_stat_ok&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="官方的vscode支持插件">官方的VSCode支持插件
&lt;/h2>&lt;p>另一个更新是这个版本官方正式推出了VsCode的官方插件。从插件中心，搜索安装以后，需要登录Postman账号，然后就可以在VsCode直接使用Postman完成接口调测了。和桌面端的功能基本类似。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-8.png"
width="1919"
height="989"
srcset="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-8_hu_4dffbc2e2d6f36f3.png 480w, https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-8_hu_81984fcdca49eb59.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="194"
data-flex-basis="465px"
>&lt;/p>
&lt;h2 id="workspace-update接口变更的分享">Workspace update，接口变更的分享
&lt;/h2>&lt;p>Postman在向协作平台转变的过程中，它的Workspace是核心概念。而对于团队协作来说，针对接口共同开发，团队成员能及时获知大家共同协作的这个空间中的相关变化非常关键。&lt;/p>
&lt;p>而新版本中提供的workspace update功能，其实比较类似代码管理中的commit 记录，可以记录空间中的接口变化、便于回溯历史，并及时知会到团队成员。&lt;/p>
&lt;p>当然这个update目前&lt;strong>只针对团队空间以及公共空间有效&lt;/strong>。
&lt;img src="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-9.png"
width="1226"
height="758"
srcset="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-9_hu_dfc46c7044277135.png 480w, https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-9_hu_a59d1ff67bf7e1c8.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="161"
data-flex-basis="388px"
>&lt;/p>
&lt;h2 id="postbot-接口ai机器人">PostBot， 接口AI机器人
&lt;/h2>&lt;p>新版中另一个比较重磅的更新是极大增强了Postman助手机器人的AI能力。&lt;/p>
&lt;p>比如可以通过postbot帮助我们生成一些对应的校验脚本
&lt;img src="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/postbot.gif"
width="1322"
height="744"
srcset="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/postbot_hu_7a827a91e511eb4c.gif 480w, https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/postbot_hu_c5c0b32173658232.gif 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;p>或者，也可以针对collecion，通过呼出postbot，通过它提供的&lt;code>generate tests&lt;/code>功能自动帮助我们生成一系列针对接口定义的测试用例，非常的方便，极大节省了接口自动化用例的开发成本
&lt;img src="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-10.png"
width="1466"
height="983"
srcset="https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-10_hu_58d04116445e9c90.png 480w, https://chengxiaqiucao.github.io/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/Pasted-20240915-10_hu_26fc9adfd6484e66.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="149"
data-flex-basis="357px"
>&lt;/p>
&lt;p>随着AI的能力增强和测试工具和AI的集成，通过AI来辅助测试人员提升测试效率和提高产出已经越来越成为明显趋势。&lt;/p>
&lt;hr>
&lt;p>以上就是关于Postman最新发布版本相关新功能的分享。 欢迎关注~&lt;/p></description></item><item><title>Selenium Manager用法详解</title><link>https://chengxiaqiucao.github.io/post/013-selenium-manager/</link><pubDate>Sat, 07 Sep 2024 18:03:04 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/013-selenium-manager/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/013-selenium-manager/Se-m.png" alt="Featured image of post Selenium Manager用法详解" />&lt;p>Selenium诞生于2004年，以其开源、功能全面长期以来长期排名Web 自动化测试工具领域的Top1，是目前最主流的Web自动化测试工具，而Selenium的核心Webdriver 更是作为W3C的通行标准，被各类工具广泛参照。可以说是目前web自动化测试的事实标准。&lt;/p>
&lt;h2 id="selenium-4带来的变化">Selenium 4带来的变化
&lt;/h2>&lt;p>Selenium本身经过多年的演进，目前已经发布到V4.24版本。 虽然目前网上还广泛流传V3版本相关的用法和资料，但Selenium 4 其实是一个非常大的更新版本。它的几个核心组件都进行的极大程度的重构。&lt;/p>
&lt;ul>
&lt;li>WebDriver 从原先的Json Wire Protocol 切换为了W3C的标准定义&lt;/li>
&lt;li>Selenium IDE 完成重构和功能优化&lt;/li>
&lt;li>Selenium Grid 完成重构，支持更灵活的云服务架构&lt;/li>
&lt;/ul>
&lt;p>此外Selenium 4中还引入了一个很重要的工具，也就是本篇我们要重点来介绍的Selenium Manager（实际是V4.6才引入，到V4.12 功能才基本完备&lt;/p>
&lt;h2 id="原先的浏览器驱动方式带来的问题">原先的浏览器驱动方式带来的问题
&lt;/h2>&lt;p>要了解Selenium Manager，我们还是要先了解下Selenium的工作原理。&lt;/p>
&lt;h3 id="selenium工作原理">Selenium工作原理
&lt;/h3>&lt;p>下图是官网给的Selenium本地运行的基本架构。
&lt;img src="https://chengxiaqiucao.github.io/post/013-selenium-manager/Pasted-20240908.png"
width="895"
height="426"
srcset="https://chengxiaqiucao.github.io/post/013-selenium-manager/Pasted-20240908_hu_67d2139d6f95dc8e.png 480w, https://chengxiaqiucao.github.io/post/013-selenium-manager/Pasted-20240908_hu_24c48f0d0b3dfa92.png 1024w"
loading="lazy"
alt="Selenium工作原理"
class="gallery-image"
data-flex-grow="210"
data-flex-basis="504px"
>&lt;/p>
&lt;p>可以看到，Selenium实际上完成自动化，是通过webdriver协议驱动不同类型的浏览器（Chrome、Firefox、IE、Edge、Safari等）完成指定的动作，以此达到自动化执行的目的。&lt;/p>
&lt;p>而驱动浏览器的关键，是和浏览器对应的浏览器Driver驱动，比如Chrome对应的ChromeDriver， FireFox对应的GecoDriver等。&lt;/p>
&lt;p>而Selenium本身，则是基于WebDriver协议和浏览器Driver完成交互。&lt;/p>
&lt;h3 id="导致的问题">导致的问题
&lt;/h3>&lt;p>这个架构和工作原理虽然清晰，但是有一个问题，就是浏览器的版本是不断更新的。而&lt;strong>浏览器驱动版本需要和浏览器版本匹配&lt;/strong>，不匹配的驱动和浏览器版本，共同工作可能存在各种预期外的异常，所以Selenium要正常工作，再用Selenium库完成编码前，首先就是要保证浏览器驱动和浏览器版本的部署和匹配。&lt;/p>
&lt;p>但浏览器版本和对应的驱动，通常都是由浏览器厂商维护的。&lt;/p>
&lt;p>所以这里的自动化测试环境准备就会变得比较复杂，要安装对应被测版本的浏览器，同时还要找到对应这个版本的驱动，再把相关路径配置给Selenium，然后Selenium才能完成正常的驱动。&lt;/p>
&lt;p>此外，浏览器的版本，一般还有&lt;strong>自动更新功能&lt;/strong>，可能在用户没感知的情况，其实版本已经变化了，但此时驱动版本并不会同步更新，所以也&lt;strong>导致驱动和浏览器版本不匹配&lt;/strong>的潜在问题。&lt;/p>
&lt;p>这个问题，其实长期没有得到很好地解决，Selenium 3和Selenium 4的早期版本，我们部署Selenium 自动化环境，浏览器版本和驱动版本的获取和匹配一直是一个比较麻烦的工作，也因此劝退了不少自动化测试小白。&lt;/p>
&lt;h3 id="chrome对驱动问题的应对">Chrome对驱动问题的应对
&lt;/h3>&lt;p>既然这个问题由来已久，浏览器厂商其实也意识到驱动和浏览器版本不匹配，给自动化测试带来的困扰。&lt;/p>
&lt;p>以Chrome为例，我们去到 &lt;a class="link" href="https://developer.chrome.com/docs/chromedriver/downloads" target="_blank" rel="noopener"
>ChromeDriver官方下载&lt;/a> 网址的话，会看到这样的页面&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/013-selenium-manager/Pasted-20240910.png"
width="1414"
height="850"
srcset="https://chengxiaqiucao.github.io/post/013-selenium-manager/Pasted-20240910_hu_99a015979c895c61.png 480w, https://chengxiaqiucao.github.io/post/013-selenium-manager/Pasted-20240910_hu_1752da553fa19ff2.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="399px"
>&lt;/p>
&lt;p>可以看到，这里对Chrome Driver的下载只提供到了114版本，而最新的Chrome其实已经到了128版本。
对于115版本以后，Chrome浏览器其实调整了driver的发布策略，也就是Chrome driver会跟随 Chrome for Testing 版本同步发布。严格保证driver和浏览器版本的同步匹配。&lt;/p>
&lt;p>那这里为什么有一个Chrome for Testing版本呢？&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/013-selenium-manager/Pasted-20240910-1.png"
width="1325"
height="1054"
srcset="https://chengxiaqiucao.github.io/post/013-selenium-manager/Pasted-20240910-1_hu_8aca57dd3ae6ffd5.png 480w, https://chengxiaqiucao.github.io/post/013-selenium-manager/Pasted-20240910-1_hu_7555cd5fbe7ad730.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="125"
data-flex-basis="301px"
>
我们之前提到，浏览器版本，会有自动更新，如果进行自动更新，driver版本不会同步更新，所以导致dirver和浏览器的不匹配。&lt;/p>
&lt;p>所以Chrome for Testing与正式版本的主要区别，其实就是 &lt;strong>for Testing版本是不会进行自动更新&lt;/strong>的。&lt;/p>
&lt;p>这样，再加上版本号和浏览器版本的共用，就能很方便地保证浏览器和驱动的一致。&lt;/p>
&lt;h3 id="selenium应对驱动匹配问题的解决方案">Selenium应对驱动匹配问题的解决方案
&lt;/h3>&lt;p>那上面是浏览器对驱动匹配问题给出的解决方法，但其实还是没有完全解决浏览器、Driver需要分别获取和指定的问题。那么Selenium官方对这个问题的解决方案，就是Selenium Manager。它其实是一个包含在Selenium库中，无需额外安装的可执行程序。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/013-selenium-manager/Pasted-20240910-2.png"
width="569"
height="685"
srcset="https://chengxiaqiucao.github.io/post/013-selenium-manager/Pasted-20240910-2_hu_b973f3c21ba7130e.png 480w, https://chengxiaqiucao.github.io/post/013-selenium-manager/Pasted-20240910-2_hu_4e91fb5ba571ea38.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="83"
data-flex-basis="199px"
>&lt;/p>
&lt;p>我们目前使用Selenium V4来执行一个简单的自动化测试脚本的话:&lt;/p>
&lt;p>比如通过百度，搜索&lt;code>城下秋草 测试&lt;/code>, 代码如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">selenium&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">webdriver&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">selenium.webdriver.common.by&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">By&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">time&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">sleep&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_baidu_search&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">option&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">webdriver&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ChromeOptions&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">option&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">browser_version&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;117&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">driver&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">webdriver&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Chrome&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">options&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">option&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">driver&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;https://www.baidu.com&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">driver&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">find_element&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">By&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ID&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;kw&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">send_keys&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;城下秋草 测试&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">driver&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">find_element&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">By&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ID&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;su&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">click&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">driver&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>只要安装了Selenium库，执行的时候，就可以正常地驱动, 并不需要特别地去获取驱动和配置。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/013-selenium-manager/run.gif"
width="1554"
height="935"
srcset="https://chengxiaqiucao.github.io/post/013-selenium-manager/run_hu_af9dd9ccf17addd3.gif 480w, https://chengxiaqiucao.github.io/post/013-selenium-manager/run_hu_18b3de2fd3398769.gif 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="398px"
>&lt;/p>
&lt;h2 id="selenium-4-启动自动化执行源码分析">Selenium 4 启动自动化执行源码分析
&lt;/h2>&lt;p>这里我们从Selenium的Python源码来分析下它的启动过程：&lt;/p>
&lt;p>&lt;code>driver = webdriver.Chrome(options=option) &lt;/code>&lt;/p>
&lt;p>这行代码其实会调用Slenium库中Chromium基础浏览器的webdriver初始化代码，位置在&lt;code>.venv/Lib/site-packages/selenium/webdriver/chromium/webdriver.py&lt;/code>&lt;/p>
&lt;p>初始化时，可以看到，会通过DriverFinder方法来获取浏览器和Driver的路径&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">finder&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">DriverFinder&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">service&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">options&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="n">finder&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_browser_path&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">options&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">binary_location&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">finder&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_browser_path&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">options&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">browser_version&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">None&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">service&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">finder&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_driver_path&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">service&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>而获取路径的方法，其实就是调用了SeleniumManager模块的binary_paths方法&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">get_browser_path&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_binary_paths&lt;/span>&lt;span class="p">()[&lt;/span>&lt;span class="s2">&amp;#34;browser_path&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">get_driver_path&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_binary_paths&lt;/span>&lt;span class="p">()[&lt;/span>&lt;span class="s2">&amp;#34;driver_path&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">_binary_paths&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="nb">dict&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_paths&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;driver_path&amp;#34;&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_paths&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">output&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">SeleniumManager&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">binary_paths&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_to_args&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_paths&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>而SeleniumManager模块，则会执行SeleniumManager的二进制程序，根据相关参数，获取浏览器和驱动版本。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">_run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">List&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="nb">dict&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;Executes the Selenium Manager Binary.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> :Args: - args: the components of the command being executed. :Returns: The log string containing the driver location. &amp;#34;&amp;#34;&amp;#34;&lt;/span> &lt;span class="n">command&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34; &amp;#34;&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Executing process: &lt;/span>&lt;span class="si">%s&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">command&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">platform&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;win32&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">completed_proc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">subprocess&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">capture_output&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">creationflags&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">subprocess&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">CREATE_NO_WINDOW&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">completed_proc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">subprocess&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">capture_output&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">stdout&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">completed_proc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stdout&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">decode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;utf-8&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rstrip&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">stderr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">completed_proc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stderr&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">decode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;utf-8&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rstrip&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">output&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">json&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loads&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">stdout&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="n">stdout&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s2">&amp;#34;logs&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span> &lt;span class="s2">&amp;#34;result&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">except&lt;/span> &lt;span class="ne">Exception&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">err&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">raise&lt;/span> &lt;span class="n">WebDriverException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;Unsuccessful command executed: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">command&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kn">from&lt;/span> &lt;span class="nn">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SeleniumManager&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_process_logs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">output&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;logs&amp;#34;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">output&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;result&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">completed_proc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">returncode&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">raise&lt;/span> &lt;span class="n">WebDriverException&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;Unsuccessful command executed: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">command&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">; code: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">completed_proc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">returncode&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">stderr&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">result&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>所以，目前的Selenium 4版本执行时，会通过SeleniumManager程序来确定需要的浏览器和对应的driver版本。&lt;/p>
&lt;h2 id="selenium-manager-命令行程序">Selenium Manager 命令行程序
&lt;/h2>&lt;p>而通过SeleniumManager，根据我们配置的浏览器类型和版本，它可以自动的匹配相关的driver版本，并自行联网，获取相关驱动和浏览器版本的文件，供Selenium调用。
比如上例中，我们指定了浏览器版本为 &lt;code>117&lt;/code>, 执行以后，在用户目录的 &lt;code>.cache\selenium&lt;/code>目录下其实就会保存下载的浏览器和对应的驱动版本。下图是当前执行更新的117 版本的驱动。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/013-selenium-manager/Pasted-20240910-3.png"
width="1135"
height="395"
srcset="https://chengxiaqiucao.github.io/post/013-selenium-manager/Pasted-20240910-3_hu_e3b82242381f862f.png 480w, https://chengxiaqiucao.github.io/post/013-selenium-manager/Pasted-20240910-3_hu_d437668ab8fc231f.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="287"
data-flex-basis="689px"
>&lt;/p>
&lt;p>这里Selenium调用的是Selenium-manager这个命令行程序&lt;/p>
&lt;p>我们可以直接执行这个程序，加上&lt;code>--help&lt;/code>看一下支持的参数&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">selenium&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">manager&lt;/span> &lt;span class="mf">0.4&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">24&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Selenium&lt;/span> &lt;span class="n">Manager&lt;/span> &lt;span class="n">is&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="n">CLI&lt;/span> &lt;span class="k">tool&lt;/span> &lt;span class="n">that&lt;/span> &lt;span class="n">automatically&lt;/span> &lt;span class="n">manages&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">browser&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">driver&lt;/span> &lt;span class="n">infrastructure&lt;/span> &lt;span class="n">required&lt;/span> &lt;span class="n">by&lt;/span> &lt;span class="n">Selenium&lt;/span>&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Usage&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">selenium&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">manager&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">OPTIONS&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Options&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">browser&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">BROWSER&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Browser&lt;/span> &lt;span class="n">name&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">chrome&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">firefox&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">edge&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">iexplorer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">safari&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">safaritp&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="ow">or&lt;/span> &lt;span class="n">webview2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">driver&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">DRIVER&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Driver&lt;/span> &lt;span class="n">name&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">chromedriver&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">geckodriver&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">msedgedriver&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">IEDriverServer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="ow">or&lt;/span> &lt;span class="n">safaridriver&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">grid&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">GRID_VERSION&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Selenium&lt;/span> &lt;span class="n">Grid&lt;/span>&lt;span class="o">.&lt;/span> &lt;span class="n">If&lt;/span> &lt;span class="n">version&lt;/span> &lt;span class="n">is&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">provided&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">latest&lt;/span> &lt;span class="n">version&lt;/span> &lt;span class="n">is&lt;/span> &lt;span class="n">downloaded&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">driver&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">version&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">DRIVER_VERSION&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Driver&lt;/span> &lt;span class="n">version&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">106.0&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">5249.61&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.31&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">etc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">browser&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">version&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">BROWSER_VERSION&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Major&lt;/span> &lt;span class="n">browser&lt;/span> &lt;span class="n">version&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">105&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">106&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">etc&lt;/span>&lt;span class="o">.&lt;/span> &lt;span class="n">Also&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">beta&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dev&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">canary&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="ow">or&lt;/span> &lt;span class="n">nightly&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="n">esr&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="ow">in&lt;/span> &lt;span class="n">Firefox&lt;/span>&lt;span class="o">-&lt;/span> &lt;span class="n">are&lt;/span> &lt;span class="n">accepted&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">browser&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">path&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">BROWSER_PATH&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Browser&lt;/span> &lt;span class="n">path&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">absolute&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">browser&lt;/span> &lt;span class="n">version&lt;/span> &lt;span class="n">detection&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">bin&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">google&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">chrome&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;/Applications/Google Chrome.app/Contents/MacOS/Google Chrome&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;C:\Program Files\Google\Chrome\Application\chrome.exe&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">driver&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mirror&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">url&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">DRIVER_MIRROR_URL&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Mirror&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">driver&lt;/span> &lt;span class="n">repositories&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">https&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">//&lt;/span>&lt;span class="n">registry&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">npmmirror&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">com&lt;/span>&lt;span class="o">/-/&lt;/span>&lt;span class="n">binary&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">chromedriver&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">browser&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mirror&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">url&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">BROWSER_MIRROR_URL&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Mirror&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">browser&lt;/span> &lt;span class="n">repositories&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">output&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">OUTPUT&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Output&lt;/span> &lt;span class="n">type&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">LOGGER&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">using&lt;/span> &lt;span class="n">INFO&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">WARN&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">etc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">JSON&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">custom&lt;/span> &lt;span class="n">JSON&lt;/span> &lt;span class="n">notation&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">SHELL&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Unix&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">like&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="ow">or&lt;/span> &lt;span class="n">MIXED&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">INFO&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">WARN&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">DEBUG&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">etc&lt;/span>&lt;span class="o">.&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">stderr&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="n">minimal&lt;/span> &lt;span class="n">JSON&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">stdout&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">default&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">LOGGER&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">os&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="ne">OS&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Operating&lt;/span> &lt;span class="n">system&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">windows&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">linux&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="ow">or&lt;/span> &lt;span class="n">macos&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">arch&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">ARCH&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span> &lt;span class="n">architecture&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">x32&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">x64&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="ow">or&lt;/span> &lt;span class="n">arm64&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">proxy&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">PROXY&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">HTTP&lt;/span> &lt;span class="n">proxy&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">network&lt;/span> &lt;span class="n">connection&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">https&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">//&lt;/span>&lt;span class="n">myproxy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">net&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">8080&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">timeout&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">TIMEOUT&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Timeout&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">network&lt;/span> &lt;span class="n">requests&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="ow">in&lt;/span> &lt;span class="n">seconds&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">default&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">300&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">ttl&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">TTL&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">TTL&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">live&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">discovered&lt;/span> &lt;span class="n">versions&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">online&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">of&lt;/span> &lt;span class="n">drivers&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="n">browsers&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">default&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">3600&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">cache&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">path&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">CACHE_PATH&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Local&lt;/span> &lt;span class="n">folder&lt;/span> &lt;span class="n">used&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">store&lt;/span> &lt;span class="n">downloaded&lt;/span> &lt;span class="n">assets&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">drivers&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="n">browsers&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">local&lt;/span> &lt;span class="n">metadata&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="n">configuration&lt;/span> &lt;span class="n">file&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">default&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="o">~/.&lt;/span>&lt;span class="n">cache&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">selenium&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">clear&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cache&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Clear&lt;/span> &lt;span class="n">cache&lt;/span> &lt;span class="n">folder&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">~/.&lt;/span>&lt;span class="n">cache&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">selenium&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">clear&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">metadata&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Clear&lt;/span> &lt;span class="n">metadata&lt;/span> &lt;span class="n">file&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">~/.&lt;/span>&lt;span class="n">cache&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">selenium&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">selenium&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">manager&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">json&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">debug&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Display&lt;/span> &lt;span class="n">DEBUG&lt;/span> &lt;span class="n">messages&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">trace&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Display&lt;/span> &lt;span class="n">TRACE&lt;/span> &lt;span class="n">messages&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">level&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">LOG_LEVEL&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Level&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">output&lt;/span> &lt;span class="n">messages&lt;/span>&lt;span class="o">.&lt;/span> &lt;span class="n">The&lt;/span> &lt;span class="n">possible&lt;/span> &lt;span class="n">values&lt;/span> &lt;span class="n">are&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">info&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">trace&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">warn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">offline&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Offline&lt;/span> &lt;span class="n">mode&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">disabling&lt;/span> &lt;span class="n">network&lt;/span> &lt;span class="n">requests&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="n">downloads&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">force&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">browser&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">download&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Force&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">download&lt;/span> &lt;span class="n">browser&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">even&lt;/span> &lt;span class="n">when&lt;/span> &lt;span class="n">browser&lt;/span> &lt;span class="n">is&lt;/span> &lt;span class="n">already&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">system&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">avoid&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">browser&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">download&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Avoid&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">download&lt;/span> &lt;span class="n">browser&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">even&lt;/span> &lt;span class="n">when&lt;/span> &lt;span class="n">browser&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">version&lt;/span> &lt;span class="n">is&lt;/span> &lt;span class="n">specified&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">language&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">binding&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">LANGUAGE_BINDING&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Selenium&lt;/span> &lt;span class="n">language&lt;/span> &lt;span class="n">bindings&lt;/span> &lt;span class="n">that&lt;/span> &lt;span class="n">invokes&lt;/span> &lt;span class="n">Selenium&lt;/span> &lt;span class="n">Manager&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Java&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">JavaScript&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Python&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">DotNet&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Ruby&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">avoid&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">stats&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Avoid&lt;/span> &lt;span class="n">sends&lt;/span> &lt;span class="n">usage&lt;/span> &lt;span class="n">statistics&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">plausible&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">io&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">h&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">help&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Print&lt;/span> &lt;span class="n">help&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">V&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">version&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Print&lt;/span> &lt;span class="n">version&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>我们可以执行看一下这里输出信息，其实selenium在执行时就是调用的这个命令行程序&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">selenium&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">manager&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">exe&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">browser&lt;/span> &lt;span class="n">firefox&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">debug&lt;/span> &lt;span class="c1">#debug参数显示详细输出&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="n">T13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">35&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">56.007&lt;/span>&lt;span class="n">Z&lt;/span> &lt;span class="n">DEBUG&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">geckodriver&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">found&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 首先在系统Path路径中根据指定的浏览器判断是否存在驱动&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="n">T13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">35&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">56.010&lt;/span>&lt;span class="n">Z&lt;/span> &lt;span class="n">DEBUG&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">firefox&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">found&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 同样根据Path路径中是否包含firefox浏览器安装路径&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="n">T13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">35&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">56.010&lt;/span>&lt;span class="n">Z&lt;/span> &lt;span class="n">DEBUG&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Running&lt;/span> &lt;span class="n">command&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">REG&lt;/span> &lt;span class="n">QUERY&lt;/span> &lt;span class="n">HKCU&lt;/span>\&lt;span class="n">Software&lt;/span>\&lt;span class="n">Mozilla&lt;/span>\&lt;span class="n">Mozilla&lt;/span> &lt;span class="n">Firefox&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="n">CurrentVersion&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="n">T13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">35&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">56.034&lt;/span>&lt;span class="n">Z&lt;/span> &lt;span class="n">DEBUG&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Output&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="n">T13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">35&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">56.036&lt;/span>&lt;span class="n">Z&lt;/span> &lt;span class="n">DEBUG&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">firefox&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">found&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">system&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 通过注册表查找firefox浏览器安装路径&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="n">T13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">35&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">56.037&lt;/span>&lt;span class="n">Z&lt;/span> &lt;span class="n">DEBUG&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Required&lt;/span> &lt;span class="n">browser&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">firefox&lt;/span> &lt;span class="mf">130.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">--&lt;/span> &lt;span class="err">未指定浏览器版本，根据联网信息获取最新版本&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="n">T13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">35&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">56.037&lt;/span>&lt;span class="n">Z&lt;/span> &lt;span class="n">DEBUG&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Downloading&lt;/span> &lt;span class="n">firefox&lt;/span> &lt;span class="mf">130.0&lt;/span> &lt;span class="n">from&lt;/span> &lt;span class="n">https&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">//&lt;/span>&lt;span class="n">ftp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">mozilla&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">org&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pub&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">firefox&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">releases&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mf">130.0&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">win64&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">en&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">US&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Firefox&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="n">Setup&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="mf">20130.0&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">exe&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 从官网下载&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="n">T13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">13.320&lt;/span>&lt;span class="n">Z&lt;/span> &lt;span class="n">DEBUG&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">firefox&lt;/span> &lt;span class="mf">130.0&lt;/span> &lt;span class="n">is&lt;/span> &lt;span class="n">available&lt;/span> &lt;span class="n">at&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="p">:&lt;/span>\&lt;span class="n">Users&lt;/span>\&lt;span class="n">Administrator&lt;/span>\&lt;span class="o">.&lt;/span>&lt;span class="n">cache&lt;/span>\&lt;span class="n">selenium&lt;/span>\&lt;span class="n">firefox&lt;/span>\&lt;span class="n">win64&lt;/span>\&lt;span class="mf">130.0&lt;/span>\&lt;span class="n">firefox&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">exe&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 完成下载&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="n">T13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">14.367&lt;/span>&lt;span class="n">Z&lt;/span> &lt;span class="n">DEBUG&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Valid&lt;/span> &lt;span class="n">geckodriver&lt;/span> &lt;span class="n">versions&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">firefox&lt;/span> &lt;span class="mi">130&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;0.35.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;0.34.0&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 获取可用driver 版本&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="n">T13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">14.369&lt;/span>&lt;span class="n">Z&lt;/span> &lt;span class="n">DEBUG&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Required&lt;/span> &lt;span class="n">driver&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">geckodriver&lt;/span> &lt;span class="mf">0.35&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="n">T13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">14.372&lt;/span>&lt;span class="n">Z&lt;/span> &lt;span class="n">DEBUG&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Downloading&lt;/span> &lt;span class="n">geckodriver&lt;/span> &lt;span class="mf">0.35&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">0&lt;/span> &lt;span class="n">from&lt;/span> &lt;span class="n">https&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">//&lt;/span>&lt;span class="n">github&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">com&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">mozilla&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">geckodriver&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">releases&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">download&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">v0&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">35.0&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">geckodriver&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">v0&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">35.0&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">win64&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zip&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 下载对应driver&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="n">T13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">18.238&lt;/span>&lt;span class="n">Z&lt;/span> &lt;span class="n">INFO&lt;/span> &lt;span class="p">]&lt;/span> &lt;span class="n">Driver&lt;/span> &lt;span class="n">path&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="p">:&lt;/span>\&lt;span class="n">Users&lt;/span>\&lt;span class="n">Administrator&lt;/span>\&lt;span class="o">.&lt;/span>&lt;span class="n">cache&lt;/span>\&lt;span class="n">selenium&lt;/span>\&lt;span class="n">geckodriver&lt;/span>\&lt;span class="n">win64&lt;/span>\&lt;span class="mf">0.35&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">0&lt;/span>\&lt;span class="n">geckodriver&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">exe&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="n">T13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">18.239&lt;/span>&lt;span class="n">Z&lt;/span> &lt;span class="n">INFO&lt;/span> &lt;span class="p">]&lt;/span> &lt;span class="n">Browser&lt;/span> &lt;span class="n">path&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="p">:&lt;/span>\&lt;span class="n">Users&lt;/span>\&lt;span class="n">Administrator&lt;/span>\&lt;span class="o">.&lt;/span>&lt;span class="n">cache&lt;/span>\&lt;span class="n">selenium&lt;/span>\&lt;span class="n">firefox&lt;/span>\&lt;span class="n">win64&lt;/span>\&lt;span class="mf">130.0&lt;/span>\&lt;span class="n">firefox&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">exe&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 输出browser和driver路径，其实selenium调用时的返回值就是这个信息&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>而除了Browser和Driver外，Selenium-manager其实还支持grid版本的下载。通过&lt;code>--grid&lt;/code> 参数就可以直接下载grid的最新版本。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">selenium&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">manager&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">exe&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">grid&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">debug&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="n">T13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">47&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">41.793&lt;/span>&lt;span class="n">Z&lt;/span> &lt;span class="n">DEBUG&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Sending&lt;/span> &lt;span class="n">stats&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">Plausible&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Props&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">browser&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;grid&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">browser_version&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;windows&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">arch&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;amd64&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">lang&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">selenium_version&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;4.24&amp;#34;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="n">T13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">47&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">41.795&lt;/span>&lt;span class="n">Z&lt;/span> &lt;span class="n">DEBUG&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">grid&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">found&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">system&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="n">T13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">47&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">43.667&lt;/span>&lt;span class="n">Z&lt;/span> &lt;span class="n">DEBUG&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Required&lt;/span> &lt;span class="n">driver&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">selenium&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">server&lt;/span> &lt;span class="mf">4.24&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="n">T13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">47&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">43.669&lt;/span>&lt;span class="n">Z&lt;/span> &lt;span class="n">DEBUG&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Downloading&lt;/span> &lt;span class="n">selenium&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">server&lt;/span> &lt;span class="mf">4.24&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">0&lt;/span> &lt;span class="n">from&lt;/span> &lt;span class="n">https&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">//&lt;/span>&lt;span class="n">github&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">com&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">SeleniumHQ&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">selenium&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">releases&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">download&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">selenium&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">4.24&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">selenium&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">server&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">4.24&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">0.j&lt;/span>&lt;span class="n">ar&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2024&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="n">T13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">47&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">51.547&lt;/span>&lt;span class="n">Z&lt;/span> &lt;span class="n">INFO&lt;/span> &lt;span class="p">]&lt;/span> &lt;span class="n">Driver&lt;/span> &lt;span class="n">path&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="p">:&lt;/span>\&lt;span class="n">Users&lt;/span>\&lt;span class="n">Administrator&lt;/span>\&lt;span class="o">.&lt;/span>&lt;span class="n">cache&lt;/span>\&lt;span class="n">selenium&lt;/span>\&lt;span class="n">grid&lt;/span>\&lt;span class="mf">4.24&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">0&lt;/span>\&lt;span class="n">selenium&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">server&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">4.24&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">0.j&lt;/span>&lt;span class="n">ar&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>通过以上介绍，可以看出，通过引入Selenium-manager，Selenium在环境准备时已经可以非常灵活地实现对浏览器、驱动包括grid server等资源的自动获取和配置，极大提升了使用Selenium的便利性。&lt;/p></description></item><item><title>如何及时掌握各种常用框架的最新变化？</title><link>https://chengxiaqiucao.github.io/post/011-%E5%A6%82%E4%BD%95%E5%8F%8A%E6%97%B6%E6%8E%8C%E6%8F%A1%E5%90%84%E7%A7%8D%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6%E7%9A%84%E6%9C%80%E6%96%B0%E5%8F%98%E5%8C%96/</link><pubDate>Sat, 31 Aug 2024 14:27:02 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/011-%E5%A6%82%E4%BD%95%E5%8F%8A%E6%97%B6%E6%8E%8C%E6%8F%A1%E5%90%84%E7%A7%8D%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6%E7%9A%84%E6%9C%80%E6%96%B0%E5%8F%98%E5%8C%96/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/011-%E5%A6%82%E4%BD%95%E5%8F%8A%E6%97%B6%E6%8E%8C%E6%8F%A1%E5%90%84%E7%A7%8D%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6%E7%9A%84%E6%9C%80%E6%96%B0%E5%8F%98%E5%8C%96/Pasted-20240831-1.png" alt="Featured image of post 如何及时掌握各种常用框架的最新变化？" />&lt;p>现今我们的自动化测试、测试工具、各种框架其实会依赖很多知名的开源框架，比如Pytest、Junit，Selenium、Appium、JMeter等等都是应用非常广泛的开源框架。而正因为用户广泛，社区繁荣，所以这些开源项目本身的更新迭代也是极为频繁的，不定期地会引入一些新功能，同时也会对一些历史版本中的原有功能进行调整或者废弃。&lt;/p>
&lt;p>这些频繁更新，在推动开源项目不断发展的同时，也为我们使用这些项目带来了一些困扰，就是不知道什么时候可能原来用的功能在新版本中就发生了变化，为我们及时应用新版本带来不少挑战。&lt;/p>
&lt;p>针对这个问题，通常的做法，其实就是去查看项目的发布记录，了解每个版本发布的主要变化，也了解相关项目本身的发展趋势。&lt;/p>
&lt;p>而测试工作牵涉到的各种主流开源项目又比较多，所以这里就有了自动收集各种主流版本发布记录并集中汇总的想法。&lt;/p>
&lt;p>下面就是我利用Github接口自动收集一些主流测试相关开源项目的版本更新记录，转化为网页放到&lt;a class="link" href="https://chengxiaqiucao.github.io/" target="_blank" rel="noopener"
>个人博客&lt;/a> 上的呈现效果，对于我们一站掌握各种主流开源框架的变更趋势带来一些便利。&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>主页&lt;/strong>：
&lt;img src="https://chengxiaqiucao.github.io/post/011-%E5%A6%82%E4%BD%95%E5%8F%8A%E6%97%B6%E6%8E%8C%E6%8F%A1%E5%90%84%E7%A7%8D%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6%E7%9A%84%E6%9C%80%E6%96%B0%E5%8F%98%E5%8C%96/Pasted-20240831.png"
width="2240"
height="1147"
srcset="https://chengxiaqiucao.github.io/post/011-%E5%A6%82%E4%BD%95%E5%8F%8A%E6%97%B6%E6%8E%8C%E6%8F%A1%E5%90%84%E7%A7%8D%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6%E7%9A%84%E6%9C%80%E6%96%B0%E5%8F%98%E5%8C%96/Pasted-20240831_hu_b365e5ca5e2b43b6.png 480w, https://chengxiaqiucao.github.io/post/011-%E5%A6%82%E4%BD%95%E5%8F%8A%E6%97%B6%E6%8E%8C%E6%8F%A1%E5%90%84%E7%A7%8D%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6%E7%9A%84%E6%9C%80%E6%96%B0%E5%8F%98%E5%8C%96/Pasted-20240831_hu_46805b295aa0bfc9.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="195"
data-flex-basis="468px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>项目更新记录详情（目前保留最近10次更新）&lt;/strong>
&lt;img src="https://chengxiaqiucao.github.io/post/011-%E5%A6%82%E4%BD%95%E5%8F%8A%E6%97%B6%E6%8E%8C%E6%8F%A1%E5%90%84%E7%A7%8D%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6%E7%9A%84%E6%9C%80%E6%96%B0%E5%8F%98%E5%8C%96/Pasted-20240831-1.png"
width="2240"
height="1147"
srcset="https://chengxiaqiucao.github.io/post/011-%E5%A6%82%E4%BD%95%E5%8F%8A%E6%97%B6%E6%8E%8C%E6%8F%A1%E5%90%84%E7%A7%8D%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6%E7%9A%84%E6%9C%80%E6%96%B0%E5%8F%98%E5%8C%96/Pasted-20240831-1_hu_be680823225e30ff.png 480w, https://chengxiaqiucao.github.io/post/011-%E5%A6%82%E4%BD%95%E5%8F%8A%E6%97%B6%E6%8E%8C%E6%8F%A1%E5%90%84%E7%A7%8D%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6%E7%9A%84%E6%9C%80%E6%96%B0%E5%8F%98%E5%8C%96/Pasted-20240831-1_hu_8fad71d14ff80d81.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="195"
data-flex-basis="468px"
>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>核心方法其实就是下面这段，通过预定义的项目清单，获取对应项目的历史发布记录。分享如下&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">update_release_list&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> 获取项目release清单并更新以保持清单列表文件
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> :return:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> &amp;#34;&amp;#34;&amp;#34;&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">project&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">projects&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">project&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">baseUrl&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="sa">f&lt;/span>&lt;span class="s1">&amp;#39;/repos/&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">project&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;repo&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">/releases&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">res&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">requests&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">url&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">headers&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">headers&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 获取项目总页数 &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pages&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">APIs&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">github_page_count&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">total&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pages&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;last&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="s1">&amp;#39;last&amp;#39;&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">pages&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 已保存的release清单，作为当前清单基准 &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">exists&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">release_dir&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="sa">f&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">.json&amp;#39;&lt;/span>&lt;span class="p">)):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">old_list&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">release_dir&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="sa">f&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">.json&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="s2">&amp;#34;r&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">encoding&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;utf-8&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">file&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">old_list&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">json&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">load&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">release_list&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">old_list&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 去除原清单中的状态字段, 用于比对 &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">old_list&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[{&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">v&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">v&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">items&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="s1">&amp;#39;status&amp;#39;&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">d&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">old_list&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 首页已获取，生成清单，默认状态False(未获取detail) &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">headers&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;content-type&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;json&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="nb">isinstance&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">json&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="nb">list&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">release&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">json&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">record&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">release&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">release&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;date&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">release&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;created_at&amp;#39;&lt;/span>&lt;span class="p">]}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">record&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">old_list&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">record&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;status&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">release_list&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">record&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s1">&amp;#39;got release &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">release&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">-&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">release&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">, 1-&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">total&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s1">&amp;#39;release &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">release&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">-&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">release&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1"> exist!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 获取后续页面清单 &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="s1">&amp;#39;last&amp;#39;&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">pages&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="s1">&amp;#39;next&amp;#39;&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">pages&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pages&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;next&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">total&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">page_url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">url&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="sa">f&lt;/span>&lt;span class="s1">&amp;#39;?page=&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">res&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">requests&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">page_url&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">headers&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">headers&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">headers&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;content-type&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;json&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="nb">isinstance&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">json&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="nb">list&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">release&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">json&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">record&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">release&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">release&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;date&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">release&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;created_at&amp;#39;&lt;/span>&lt;span class="p">]}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">record&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">old_list&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">record&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;status&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">release_list&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">record&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s1">&amp;#39;got release &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">release&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">-&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">release&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">, &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">-&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">total&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s1">&amp;#39;release &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">release&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">-&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">release&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1"> exist!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 按id排序 &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">release_list&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">lambda&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">reverse&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 更新清单文件 &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">release_dir&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="sa">f&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">.json&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="s2">&amp;#34;w&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">encoding&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;utf-8&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">file&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">file&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">json&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">dumps&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">release_list&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>再结合具体release的id获取详情信息，组装md文档直接用hugo生成页面文件就可以了.&lt;/p></description></item><item><title>Pytest中fixture的范围</title><link>https://chengxiaqiucao.github.io/post/018-pytest%E4%B8%ADfixture%E7%9A%84%E8%8C%83%E5%9B%B4/</link><pubDate>Wed, 28 Aug 2024 20:33:52 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/018-pytest%E4%B8%ADfixture%E7%9A%84%E8%8C%83%E5%9B%B4/</guid><description>&lt;p>pytest作为Python技术栈下最主流的测试框架，功能极为强大和灵活。其中Fixture夹具是它的核心。而且pytest中对Fixture的作用范围也做了不同区分，能为我们利用fixture带来很好地灵活性。&lt;/p>
&lt;p>下面我们就来了解下这里不同scope的作用&lt;/p>
&lt;h2 id="fixture的scope定义">fixture的scope定义
&lt;/h2>&lt;p>首先根据官网的说明，Pytest中fixture的作用范围支持5种设定，分别是&lt;code>function&lt;/code>(默认值), &lt;code>classs&lt;/code>, &lt;code>module&lt;/code>, &lt;code>package&lt;/code>, &lt;code>session&lt;/code>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: center">&lt;strong>作用范围&lt;/strong>&lt;/th>
&lt;th style="text-align: left">&lt;strong>说明&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: center">&lt;strong>function&lt;/strong>&lt;/td>
&lt;td style="text-align: left">默认值，对每个测试方法（函数）生效，生命周期在测试方法级别&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">&lt;strong>class&lt;/strong>&lt;/td>
&lt;td style="text-align: left">对测试类生效，生命周期在测试类级别&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">&lt;strong>module&lt;/strong>&lt;/td>
&lt;td style="text-align: left">对测试模块生效，生命周期在模块（文件）级别&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">&lt;strong>package&lt;/strong>&lt;/td>
&lt;td style="text-align: left">对测试包生效，生命周期在测试包（目录）级别&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">&lt;strong>session&lt;/strong>&lt;/td>
&lt;td style="text-align: left">对测试会话生效，生命周期在会话（一次pytest运行）级别&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>下面结合代码来说明，假设目前有这样的代码结构&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/018-pytest%E4%B8%ADfixture%E7%9A%84%E8%8C%83%E5%9B%B4/Pasted-20240901.png"
width="421"
height="401"
srcset="https://chengxiaqiucao.github.io/post/018-pytest%E4%B8%ADfixture%E7%9A%84%E8%8C%83%E5%9B%B4/Pasted-20240901_hu_8a3c9ede1d3d44ec.png 480w, https://chengxiaqiucao.github.io/post/018-pytest%E4%B8%ADfixture%E7%9A%84%E8%8C%83%E5%9B%B4/Pasted-20240901_hu_ac4e7b7b7a6300b8.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="104"
data-flex-basis="251px"
>&lt;/p>
&lt;p>&lt;code>run_params&lt;/code>是被测方法&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">deal_params&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;input :&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">tuple&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">list&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s2">&amp;#34;_&amp;#34;&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">raise&lt;/span> &lt;span class="ne">TypeError&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>test_ch_param&lt;/code>, &lt;code>test_fixture_scope&lt;/code>中分别定义了参数化和在测试类中的不同测试方法&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">pytest&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@pytest.mark.parametrize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;param&amp;#34;&lt;/span>&lt;span class="p">,[&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;城下秋草&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;软件测试&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;示例&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;代码&amp;#34;&lt;/span>&lt;span class="p">)])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_params_mark&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">deal_params&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">pytest&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">TestFixtureScope1&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">test_int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="n">deal_params&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">20&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">test_str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="n">deal_params&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;秋草&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;秋草秋草秋草&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">TestFixtureScope2&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">test_list&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="n">deal_params&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s2">&amp;#34;城下&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;秋草&amp;#34;&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;城下_秋草&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">test_dict&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">with&lt;/span> &lt;span class="n">pytest&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">raises&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="ne">TypeError&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">deal_params&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="s2">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;秋草&amp;#34;&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在公共方法文件&lt;code>conftest.py&lt;/code>中定义fixture: &lt;code>prepare&lt;/code>， 设置了&lt;code>autouse=True&lt;/code>，即会根据fixture的设置范围自动应用&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@pytest.fixture&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">autouse&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">scope&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;function&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">prepare&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;-----some setup actions.....&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">yield&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;-----some teardown actions!!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这里我们分别调整&lt;code>prepare&lt;/code>的scope为不同取值，然后得到对应的输出&lt;/p>
&lt;h3 id="function">function
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="go">(.venv) C:\Chengxiaqiucao
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">pytest
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">======================================== test session starts =========================================
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">collected 8 items
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[10] -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">100
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[城下秋草] -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :城下秋草
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">城下秋草城下秋草城下秋草
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[软件测试] -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :软件测试
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">软件测试软件测试软件测试
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[param3] -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :(&amp;#39;示例&amp;#39;, &amp;#39;代码&amp;#39;)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">示例_代码
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope1::test_int -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope1::test_str -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :秋草
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope2::test_list -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :[&amp;#39;城下&amp;#39;, &amp;#39;秋草&amp;#39;]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope2::test_dict -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :{&amp;#39;name&amp;#39;: &amp;#39;秋草&amp;#39;}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">========================================= 8 passed in 0.27s ==========================================
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>fixture运行了8次&lt;/p>
&lt;h3 id="class">class
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="go">(.venv) C:\Chengxiaqiucao
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">pytest
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">======================================== test session starts =========================================
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">collected 8 items
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[10] -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">100
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[城下秋草] -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :城下秋草
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">城下秋草城下秋草城下秋草
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[软件测试] -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :软件测试
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">软件测试软件测试软件测试
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[param3] -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :(&amp;#39;示例&amp;#39;, &amp;#39;代码&amp;#39;)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">示例_代码
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope1::test_int -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope1::test_str input :秋草
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope2::test_list -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :[&amp;#39;城下&amp;#39;, &amp;#39;秋草&amp;#39;]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope2::test_dict input :{&amp;#39;name&amp;#39;: &amp;#39;秋草&amp;#39;}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">========================================= 8 passed in 0.27s ==========================================
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>test_ch_param&lt;/code>中的测试方法，因为直接定义在文件中，也属于类级别，所以每次赋值参数，fixture也被调用。 而 &lt;code>test_fixture_scope&lt;/code>中明确定义了两个测试类，所以运行了2次&lt;/p>
&lt;h3 id="module">module
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="go">(.venv) C:\Chengxiaqiucao
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">pytest
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">======================================== test session starts =========================================
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">collected 8 items
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[10] -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">100
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[城下秋草] input :城下秋草
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">城下秋草城下秋草城下秋草
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[软件测试] input :软件测试
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">软件测试软件测试软件测试
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[param3] input :(&amp;#39;示例&amp;#39;, &amp;#39;代码&amp;#39;)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">示例_代码
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope1::test_int -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope1::test_str input :秋草
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope2::test_list input :[&amp;#39;城下&amp;#39;, &amp;#39;秋草&amp;#39;]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope2::test_dict input :{&amp;#39;name&amp;#39;: &amp;#39;秋草&amp;#39;}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">========================================= 8 passed in 0.27s ==========================================
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>修改为module范围后，可以看到，每个模块文件调用了一次fixture&lt;/p>
&lt;h3 id="package">package
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="go">(.venv) C:\Chengxiaqiucao
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">pytest
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">======================================== test session starts =========================================
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">collected 8 items
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[10] -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">100
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[城下秋草] input :城下秋草
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">城下秋草城下秋草城下秋草
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[软件测试] input :软件测试
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">软件测试软件测试软件测试
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[param3] input :(&amp;#39;示例&amp;#39;, &amp;#39;代码&amp;#39;)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">示例_代码
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope1::test_int input :2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope1::test_str input :秋草
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope2::test_list input :[&amp;#39;城下&amp;#39;, &amp;#39;秋草&amp;#39;]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope2::test_dict input :{&amp;#39;name&amp;#39;: &amp;#39;秋草&amp;#39;}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">========================================= 8 passed in 0.27s ==========================================
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>修改为package， 这是因为两个测试文件位于同一个package内， 所以运行了一次&lt;/p>
&lt;h3 id="session">session
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="go">(.venv) C:\Chengxiaqiucao
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">pytest
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">======================================== test session starts =========================================
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">collected 8 items
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[10] -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">100
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[城下秋草] input :城下秋草
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">城下秋草城下秋草城下秋草
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[软件测试] input :软件测试
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">软件测试软件测试软件测试
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[param3] input :(&amp;#39;示例&amp;#39;, &amp;#39;代码&amp;#39;)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">示例_代码
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope1::test_int input :2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope1::test_str input :秋草
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope2::test_list input :[&amp;#39;城下&amp;#39;, &amp;#39;秋草&amp;#39;]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope2::test_dict input :{&amp;#39;name&amp;#39;: &amp;#39;秋草&amp;#39;}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">========================================= 8 passed in 0.27s ==========================================
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>最后，当设置为session时，也就是运行pytest的一次执行会话，才会触发一次fixture调用&lt;/p>
&lt;p>所以可以看到，我们通过fixture的不同scope定义，可以根据需要，来确定我们编写的fixture夹具的作用范围。有很好的灵活性&lt;/p>
&lt;h2 id="复杂fixture的scope灵活定义">复杂fixture的scope灵活定义
&lt;/h2>&lt;p>有时在实际使用的时候，特别是我们的一些fixture初始化工作比较复杂但同时在不同作用范围下都可能会用到，这时如果仅仅因为针对不同的作用范围，就要编写多个不同的fixture，代码就显得比较冗余。这时可以怎么处理呢？ 其实可以利用上下文contextmanager来灵活实现&lt;/p>
&lt;p>比如我们再编写一个fixture的基本代码上下文:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@contextmanager&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">fixture_base&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;~~~~~base fixture setup actions.....&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">yield&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;~~~~~base fixture teardown actions!!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后针对不同的fixture，我们就可以根据不同的scope来定义不同的fixture并调用这里的context实现。 比如我们再定义一个scope为package的fixture&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@pytest.fixture&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">autouse&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">False&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">scope&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;package&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">fixture_module&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> 对于复杂的fixture但希望灵活处理scope，可以将公共代码放到一个contextmanager中，
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> 再针对不同scope定义相关对应fixture
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> &amp;#34;&amp;#34;&amp;#34;&lt;/span> &lt;span class="k">with&lt;/span> &lt;span class="n">fixture_base&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">yield&lt;/span> &lt;span class="n">result&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>👍👍这个方法来自pytest的社区总结，&lt;a class="link" href="https://github.com/pytest-dev/pytest/issues/3425" target="_blank" rel="noopener"
>原始问题链接&lt;/a>&lt;/p>
&lt;h2 id="不同scope的执行顺序">不同scope的执行顺序
&lt;/h2>&lt;p>上面例子中我们其实看到package和session的执行效果，因为测试方法都在同一个package中，所以效果上没什么差异。但其实不同scope也是有执行顺序的&lt;/p>
&lt;p>顺序总结如下：&lt;/p>
&lt;p>&lt;code>session&lt;/code> &amp;gt; &lt;code>package&lt;/code> &amp;gt; &lt;code>module&lt;/code> &amp;gt; &lt;code>class&lt;/code> &amp;gt; &lt;code>function&lt;/code>&lt;/p>
&lt;p>这里增加到两个fixture以后，执行的结果：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="go">(.venv) C:\Chengxiaqiucao
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">pytest
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">======================================== test session starts =========================================
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">collected 8 items
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[10] -----some setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">~~~~~base fixture setup actions.....
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">input :10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">100
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[城下秋草] input :城下秋草
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">城下秋草城下秋草城下秋草
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[软件测试] input :软件测试
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">软件测试软件测试软件测试
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_ch_parm.py::test_params_mark[param3] input :(&amp;#39;示例&amp;#39;, &amp;#39;代码&amp;#39;)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">示例_代码
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope1::test_int input :2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope1::test_str input :秋草
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope2::test_list input :[&amp;#39;城下&amp;#39;, &amp;#39;秋草&amp;#39;]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">BlogDemo/testDemo/test_fixture_scope.py::TestFixtureScope2::test_dict input :{&amp;#39;name&amp;#39;: &amp;#39;秋草&amp;#39;}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">PASSED~~~~~base fixture teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">-----some teardown actions!!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">========================================= 8 passed in 0.27s ==========================================
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>可以看到 &lt;code>session&lt;/code> 比 &lt;code>package&lt;/code> 更早执行，同时更晚被销毁。&lt;/p>
&lt;p>那么以上就是关于pytest scope作用范围的总结&lt;/p>
&lt;hr>
&lt;p>推广下我的测试课程，感兴趣的小伙伴可以通过以下链接了解下哦&lt;/p>
&lt;p>❤️❤️❤️❤️ &lt;a class="link" href="https://coding.imooc.com/class/chapter/885.html#Anchor" target="_blank" rel="noopener"
>城下秋草的测试职业进阶提升课&lt;/a> ❤️❤️❤️❤️&lt;/p></description></item><item><title>Pytest使用Fixture进行参数化及中文乱码问题</title><link>https://chengxiaqiucao.github.io/post/016-pytest%E5%8F%82%E6%95%B0%E5%8C%96%E6%97%B6%E7%9A%84%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98/</link><pubDate>Sat, 24 Aug 2024 00:11:46 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/016-pytest%E5%8F%82%E6%95%B0%E5%8C%96%E6%97%B6%E7%9A%84%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/016-pytest%E5%8F%82%E6%95%B0%E5%8C%96%E6%97%B6%E7%9A%84%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98/Pasted-20240824.png" alt="Featured image of post Pytest使用Fixture进行参数化及中文乱码问题" />&lt;p>我们知道，Pytest是Python技术栈下进行自动化测试的主流测试框架。支持灵活的测试发现、执行策略，强大的Fixture夹具和丰富的插件支持。&lt;/p>
&lt;p>除了通过pytest的parametrize标签进行参数化外，我们通过fixture的param参数也可以比较方便地实现参数化测试的功能&lt;/p>
&lt;h2 id="fixture参数化实现">fixture参数化实现
&lt;/h2>&lt;p>假设我们有如下一段待测代码，根据传入参数的不同类型得到不同的输出&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">deal_params&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;输入了:&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">tuple&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">list&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s2">&amp;#34;_&amp;#34;&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">raise&lt;/span> &lt;span class="ne">TypeError&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后我们编写对应的测试代码，首先定义fixture，设定params参数列表， 再通过fixture本身的request获取param. 比如这里定义几个参数。当然此外我们还定义了fixture的前置和后置动作。测试方法就是调用被测函数执行。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@pytest.fixture&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">params&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;城下秋草&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;软件测试&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;示例&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;代码&amp;#34;&lt;/span>&lt;span class="p">)])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">fix_env&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">yield&lt;/span> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">param&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_params&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fix_env&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">deal_params&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fix_env&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>运行得到如下输出：
&lt;img src="https://chengxiaqiucao.github.io/post/016-pytest%E5%8F%82%E6%95%B0%E5%8C%96%E6%97%B6%E7%9A%84%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98/Pasted-20240824.png"
width="1662"
height="651"
srcset="https://chengxiaqiucao.github.io/post/016-pytest%E5%8F%82%E6%95%B0%E5%8C%96%E6%97%B6%E7%9A%84%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98/Pasted-20240824_hu_b3f7c4f763755d74.png 480w, https://chengxiaqiucao.github.io/post/016-pytest%E5%8F%82%E6%95%B0%E5%8C%96%E6%97%B6%E7%9A%84%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98/Pasted-20240824_hu_cd86833d9f435279.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="255"
data-flex-basis="612px"
>
可以看到，虽然参数化成功运行，但这里有个问题，就是输出的结果中，用例ID这里，显示的是乱码.
根据pytest的ID生成规则，如果是字符或数字，会显示传入的参数本身（当然也可以利用ids参数重新指定参数的对应ID），如果是元组、列表或字典，则会显示fixture的name+参数序号，比如这里的&lt;code>fix_env3&lt;/code>&lt;/p>
&lt;p>那这里的字符是中文，显示成了unicode转义前的编码，所以还是中文转换有问题。也就是Pytest对于fixture参数的处理，默认会使用Ascii编码来进行显示，而对于中文，我们是希望用unicode编码显示。&lt;/p>
&lt;h3 id="中文乱码解决方案一">中文乱码解决方案一
&lt;/h3>&lt;p>所以，这里解决这个问题的第一个方法是可以利用Pytest的fixture集中配置文件&lt;code>conftest.py&lt;/code>， 在其中利用Pytest的hook机制，修改用例收集方法中生成用例ID的部分. 对应代码：&lt;/p>
&lt;p>用例文件的同级conftest.py中定义：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">pytest_collection_modifyitems&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">items&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># item表示收集到的测试用例，对他进行重新编码处理&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">item&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">items&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">item&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">item&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">encode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;utf-8&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">decode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;unicode-escape&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">item&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_nodeid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">item&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_nodeid&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">encode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;utf-8&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">decode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;unicode-escape&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>再次执行，可以看到已经正常显示了中文
&lt;img src="https://chengxiaqiucao.github.io/post/016-pytest%E5%8F%82%E6%95%B0%E5%8C%96%E6%97%B6%E7%9A%84%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98/Pasted-20240824-1.png"
width="1489"
height="637"
srcset="https://chengxiaqiucao.github.io/post/016-pytest%E5%8F%82%E6%95%B0%E5%8C%96%E6%97%B6%E7%9A%84%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98/Pasted-20240824-1_hu_dbc7eaf59afca481.png 480w, https://chengxiaqiucao.github.io/post/016-pytest%E5%8F%82%E6%95%B0%E5%8C%96%E6%97%B6%E7%9A%84%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98/Pasted-20240824-1_hu_240c886563d2159f.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="233"
data-flex-basis="561px"
>&lt;/p>
&lt;h3 id="中文乱码解决方案二">中文乱码解决方案二
&lt;/h3>&lt;p>除了通过修改hook来对用例ID进行重新编码处理外，其实Pytest本身也提供了一个配置参数。只是这个配置并不是官方推荐的解决方法。在某些操作系统上的特定情形下，使用这个配置，可能会导致一些异常bug。但笔者在windows和Ubuntu上测试是没有问题的。&lt;/p>
&lt;p>这里对应的配置是：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="na">disable_test_id_escaping_and_forfeit_all_rights_to_community_support&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">True&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>从这个超长的配置名称也可以看出，就是禁用testID的转义但同时放弃了社区支持 😂😂&lt;/p>
&lt;p>在pytest.ini中加上这个配置，不使用上面hook的话，也能得到中文正常显示的效果。&lt;/p>
&lt;hr>
&lt;p>以上就是关于Pytest中参数化中文显示时，可能遇到的乱码问题的解决方案。&lt;/p>
&lt;p>我的测试职业进阶提升课程正在慕课网火热推广中，感兴趣的小伙伴可以以下链接了解下哦&lt;/p>
&lt;p>❤️❤️❤️❤️ &lt;a class="link" href="https://coding.imooc.com/class/chapter/885.html#Anchor" target="_blank" rel="noopener"
>城下秋草的测试职业进阶提升课&lt;/a> ❤️❤️❤️❤️&lt;/p>
&lt;hr></description></item><item><title>AI测试之TestGPT</title><link>https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/</link><pubDate>Sat, 21 Oct 2023 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_203935.png" alt="Featured image of post AI测试之TestGPT" />&lt;p>如今最火热的技术莫非OpenAI的ChatGPT莫属，AI技术也在很多方面得到广泛应用。今天我们来聊的TestGPT就是一个软件测试领域当红的应用。&lt;/p>
&lt;h3 id="testgpt是什么">TestGPT是什么？
&lt;/h3>&lt;p>TestGPT是一家总部位于以色列特拉维夫的初创公司 CodiumAI Ltd.，发布的一款用于测试领域的人工智能模型（AI model），由 OpenAI 的 GPT-4 大型语言模型驱动。&lt;/p>
&lt;p>官网地址： &lt;a class="link" href="http://www.codium.AI" target="_blank" rel="noopener"
>www.codium.ai&lt;/a>&lt;/p>
&lt;p>从官网的介绍可以看出，它是一个旨在协助开发人员测试他们的代码，为开发人员提供自动生成的软件测试套件建议，从而加快编码和错误扫描的AI工具。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_203935.png"
width="1833"
height="877"
srcset="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_203935_hu_1cc7fb0cda2e11bc.png 480w, https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_203935_hu_ad7cccdf764a6dbf.png 1024w"
loading="lazy"
alt="image"
class="gallery-image"
data-flex-grow="209"
data-flex-basis="501px"
>&lt;/p>
&lt;h3 id="如何使用">如何使用？
&lt;/h3>&lt;p>目前TestGPT提供了针对VsCode和JetBrains的插件支持
&lt;img src="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_205338.png"
width="321"
height="307"
srcset="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_205338_hu_d13898428298dda8.png 480w, https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_205338_hu_6f268981ab1066c7.png 1024w"
loading="lazy"
alt="image"
class="gallery-image"
data-flex-grow="104"
data-flex-basis="250px"
>&lt;/p>
&lt;p>以VsCode为例，在vsCode的插件中心搜索CodiumAI即可安装&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_205457.png"
width="1419"
height="1065"
srcset="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_205457_hu_59cf199073c22372.png 480w, https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_205457_hu_441554f848e20d9d.png 1024w"
loading="lazy"
alt="image"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="319px"
>&lt;/p>
&lt;p>安装后可以Github账户直接登录连接。&lt;/p>
&lt;p>下面我们来用一段有问题的python排序算法代码来看看它是如何使用的。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">insert_sort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lists&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 插入排序&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lists&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">count&lt;/span>&lt;span class="p">):&lt;/span> &lt;span class="c1">#range区间有误，这里是bug，应为(1, count)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">lists&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">lists&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lists&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">lists&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lists&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">key&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">j&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">lists&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>切换到CodiumAI插件，连接后可以看到代码部分已经有了生成测试的入口&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_210014.png"
width="1131"
height="662"
srcset="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_210014_hu_7a4640a8833e2414.png 480w, https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_210014_hu_61ef1b5e0873bea8.png 1024w"
loading="lazy"
alt="image"
class="gallery-image"
data-flex-grow="170"
data-flex-basis="410px"
>&lt;/p>
&lt;p>尝试生成下看看效果，稍等片刻，就可以看到AI的成果了&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_210406.png"
width="996"
height="92"
srcset="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_210406_hu_3f266d52b9bef103.png 480w, https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_210406_hu_6d01cccac75f5045.png 1024w"
loading="lazy"
alt="image"
class="gallery-image"
data-flex-grow="1082"
data-flex-basis="2598px"
>&lt;/p>
&lt;p>AI的辅助界面有三部分，分别是：&lt;/p>
&lt;ul>
&lt;li>Test Suite 测试用例&lt;/li>
&lt;li>Code Analysis 代码分析&lt;/li>
&lt;li>Code Suggestions 代码修改建议&lt;/li>
&lt;/ul>
&lt;p>在用例配置部分可以做测试的基本配置&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_210858.png"
width="989"
height="355"
srcset="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_210858_hu_f2b70cfc047ec025.png 480w, https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_210858_hu_db5844884f8dfbcd.png 1024w"
loading="lazy"
alt="image"
class="gallery-image"
data-flex-grow="278"
data-flex-basis="668px"
>&lt;/p>
&lt;p>Coverage部分则可以看到AI生成的Case覆盖情况&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_211029.png"
width="977"
height="710"
srcset="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_211029_hu_65ce07c8cf85f424.png 480w, https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_211029_hu_7901c33048174ebe.png 1024w"
loading="lazy"
alt="image"
class="gallery-image"
data-flex-grow="137"
data-flex-basis="330px"
>&lt;/p>
&lt;p>Test部分则是具体的测试用例，本例中生成了6条用例&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_211130.png"
width="990"
height="451"
srcset="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_211130_hu_1ca838f05ea8a0ca.png 480w, https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_211130_hu_a104bab2a8bdfb3c.png 1024w"
loading="lazy"
alt="image"
class="gallery-image"
data-flex-grow="219"
data-flex-basis="526px"
>&lt;/p>
&lt;p>执行后可以看到用例的执行结果，但生成的测试代码都执行成功了，似乎没有通过测试代码测试出bug :(&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_211250.png"
width="966"
height="872"
srcset="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_211250_hu_caf88c32a1bc4cdd.png 480w, https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_211250_hu_9f31482a99433a94.png 1024w"
loading="lazy"
alt="image"
class="gallery-image"
data-flex-grow="110"
data-flex-basis="265px"
>&lt;/p>
&lt;p>Code Analysis则给出了代码的分析说明，可以&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_211545.png"
width="788"
height="906"
srcset="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_211545_hu_d4e35646d0eded89.png 480w, https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_211545_hu_85e2e6ba4767b99b.png 1024w"
loading="lazy"
alt="image"
class="gallery-image"
data-flex-grow="86"
data-flex-basis="208px"
>&lt;/p>
&lt;p>代码建议部分则给出了修改建议，这里倒是准确地指出了代码中的问题。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_211835.png"
width="770"
height="738"
srcset="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_211835_hu_bdf616c1b5339fc8.png 480w, https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_211835_hu_80ad6d5301e44d28.png 1024w"
loading="lazy"
alt="image"
class="gallery-image"
data-flex-grow="104"
data-flex-basis="250px"
>&lt;/p>
&lt;p>按照建议直接应用，可以看到代码已经修改并加了注释&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_212047.png"
width="1573"
height="407"
srcset="https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_212047_hu_146942125a516c39.png 480w, https://chengxiaqiucao.github.io/post/006-ai-testing-by-testgpt/20230626_212047_hu_f02eca26024ea82e.png 1024w"
loading="lazy"
alt="image"
class="gallery-image"
data-flex-grow="386"
data-flex-basis="927px"
>&lt;/p>
&lt;h3 id="总结">总结
&lt;/h3>&lt;p>所以可以看到TestGPT还是非常优秀的，准确地分析出了代码的作用并发现了代码中有问题的地方。也帮助设计了测试用例覆盖及相关单元测试脚本。
善用这个工具已经无疑可以给开发工程师提供非常大的辅助，但是从初步的使用来看，自行生成的测试用例对于问题代码的覆盖还有不足，短期内应该还不足以代替测试设计。&lt;/p></description></item><item><title>Postman高级篇</title><link>https://chengxiaqiucao.github.io/post/004-postman-advanced/</link><pubDate>Sat, 27 Aug 2022 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/004-postman-advanced/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_210709.png" alt="Featured image of post Postman高级篇" />&lt;h3 id="前言">前言
&lt;/h3>&lt;p>在之前的系列 中，我们从基础功能、脚本进阶和自动化实现几个方面向大家详细介绍了 Postman 工具在接口测试中使用的具体方法。而我们在工作中，除了这些通过本地工具实施的测试外，因为不同办公场所或团队协作的需要，还存在通过云端来统一管理接口用例以及依托云端来实现更多增值测试能力的需求。在本篇 Chat 中，我们就来学习 Postman 官方提供的 Cloud 高级功能服务。&lt;/p>
&lt;h3 id="postman-cloud-服务介绍">Postman cloud 服务介绍
&lt;/h3>&lt;p>使用 Postman Cloud 服务，首先我们需要注册一个官方的账号&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190224_084809.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>注册完成并登录以后，从官网主页面右上角的 dashboard 按钮即可进入 Cloud 云端管理页面。这里会显示自己的工作空间，除了自己的个人工作空间外，还可以创建用于团队共享的团队工作空间。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190224_085631.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h4 id="工作空间及云端功能总览">工作空间及云端功能总览
&lt;/h4>&lt;p>工作空间是 Postman Cloud 的一个管理单元，通过云端的工作空间同步，我们可以达到以下本地端无法实现的的一些优势：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>可以便于个人工作通过不同的地点和设备进行组织、管理。比如在工作单位未完成的工作，回到家里也可以继续&lt;/p>
&lt;/li>
&lt;li>
&lt;p>便于团队合作，通过将相关元数据共享以及团队工作空间，团队成员之间可以共同维护同一套接口，并共享工作成果。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>统一的工作空间，还使得团队能工作在同一维度下，避免不同团队成员工作进度、数据的不一致导致的理解和沟通差异。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>工作空间的历史记录功能，能帮助记录和回溯接口操作记录，便于保存工作过程和结果。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>下图是 Cloud 端进入工作空间后的界面，可以看到 Postman Cloud 云端能够提供的功能。默认显示当前空间中的 Collection 信息，其他的 Tab 页分别是接口操作历史、环境变量、监控任务、Mock 服务、API 集成能力、以及云空间相关的操作记录。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190225_214612.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>如下是 History 接口操作记录以及 Activity 工作空间操作记录：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190225_214700.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190225_215018.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h4 id="账号体系及对应价格">账号体系及对应价格
&lt;/h4>&lt;p>在 Postman 官网注册账号后默认是免费账户，也可以升级到专业版或者企业版，目前对应的每月费用分别如下：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190224_091127.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>免费版本包含的功能如下，可以看到功能基本都支持，区别主要在使用次数上的区别，免费账户的在线文档调阅、 Mock 请求、API 调用、监控调用等都限制在每月 1000 次，还是能基本满足个人学习和基本的测试需要的。如果是比较大型的团队共用，最好还是升级到高级版本或选择其他替代方案。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190224_091536.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h4 id="本地端登录">本地端登录
&lt;/h4>&lt;p>在 Postman 工具端，我们也可以登录已注册的账号，登录后上方的 banner 即可显示登录后所在默认工作空间以及账户头像。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190226_211434.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>登录后，本地 App 端会和云端保存的信息自动进行同步，保持数据的一致性。下面我们就分别来看看 Postman cloud 提供的服务。&lt;/p>
&lt;h3 id="postman-cloud-的在线接口文档">Postman Cloud 的在线接口文档
&lt;/h3>&lt;p>功能强大、格式优美的在线文档是 Postman Cloud 的一个重要服务。它具备如下一些主要的优点：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>支持私有文档及公开文档&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>当注册 Postman 账号后，默认其实已经开启了在线文档功能。登录 web 端工作空间后，点击 Collection 进入后，即可看到当前 Collection 的在线文档已同步生成。如图：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190227_205118.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>上图是只有当前账号可以在工作空间中查看的私有文档。通过右上角的 Share 按钮还可以向其他工作空间或团队工作空间共享当前的文档。 而通过 Publish 按钮则可以将当前文档发布为公共文档让用户公开访问。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190227_205655.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>在Postman App 端，也可以使用 Collection 菜单中的 &lt;code> Publish Docs&lt;/code> 按钮来进行公开文档的发布。发布后会生成一个公共的访问 URL，通过这个 URL 即可访问到这个文档。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190227_205746.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>文档自动生成&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>如上文所述，Postman 在线文档是自动生成的，省去了原来繁冗的文档编辑排版工作。它能够自动生成如下内容：&lt;/p>
&lt;ul>
&lt;li>请求示例，包括请求方法、uri、消息内容、消息头、参数等&lt;/li>
&lt;li>保存为 Example 的接口响应信息&lt;/li>
&lt;li>Collection、Folder、Request 上编写的 Description 描述。&lt;/li>
&lt;li>自动化生成的多种主流语言的代码片段&lt;/li>
&lt;/ul>
&lt;p>如下图是 Collection 的描述信息编辑界面
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190225_213343.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>支持 Markdown 语法&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>我们在编写 Description 时，是支持使用 Markdown 语法的，能进一步提升文档的阅读体验。如上面的图片就包含了 Markdown 中列表以及加粗的语法。&lt;/p>
&lt;ul>
&lt;li>&lt;strong>支持基于 ID 的文档内链接&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>我们还可以利用 Postman 为每一个请求、folder 生成的唯一 ID 在文档内进行交叉引用。当我们点击右侧文档右侧导航栏对应元素，URL 中即可显示该元素的唯一 ID，如图：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190227_211627.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>&lt;em>注：ID 信息我们也可以通过 Postman API 接口获取到。&lt;/em>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>支持自动生成主流语言代码片段&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>Postman 在线文档另一个非常赞的特性是支持多种主流语言的代码片段，方便我们在使用相应语言进行代码调试时使用。如图：
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190227_212622.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>支持评论功能&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>在团队空间等私有文档中，我们还可以使用评论功能，通过对接口进行标注来和团队成员进行沟通和进行信息的确认。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190227_212944.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h4 id="postman-在线文档使用限制">Postman 在线文档使用限制
&lt;/h4>&lt;p>Postman Cloud 会限制私有文档和公开文档的被浏览次数。免费账号会分别有每月 1000 次的免费浏览限额。对于个人使用和学习还是勉强够用。如果是团队协作使用肯定是捉襟见肘，建议还是选择付费账号或者 Swagger 这样的开源免费替代方案。&lt;/p>
&lt;p>当前使用量可以在个人账号的 &lt;code>Resource Usage&lt;/code> 页面查看：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190227_214420.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h3 id="postman-的-mock-server-介绍">Postman 的 Mock Server 介绍
&lt;/h3>&lt;p>Postman Cloud 的另一个高级功能是提供了 Mock Server 的支持。&lt;/p>
&lt;p>在接口开发以及接口测试工作中，特别是多个团队并行研发的软件产品，比如前端、后端、APP 这些不同的团队共同来开发产品，经常出现的情况就是很多时候需要依赖其他团队的开发进度，比如 APP 要依赖后端接口来进行调试，或者依赖一些第三方团队提供的接口。如果接口还不具备联调条件，那么为了保证开发进度，按照一定的约定，进行接口的模拟就成为必然选择。&lt;/p>
&lt;p>Mock Server 就是提供这种服务的功能模块。在 Postman 中，我们可以将一些响应保存为Example，然后就可以根据这些 example 来方便地创建 Mock 服务脱离原始接口进行消息的响应模拟。&lt;/p>
&lt;p>如图是 Postman App 中保存的一个响应 Example，针对同一个接口请求，我们可以将不同的响应结果保存对为多个不同的 example。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190227_215753.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h4 id="创建-mock-server">创建 Mock Server
&lt;/h4>&lt;p>在 Postman 中创建 Mock Server 有如下几种方式：&lt;/p>
&lt;ul>
&lt;li>Postman App 中通过 New 按钮创建&lt;/li>
&lt;li>在打开 Postman App 时自动弹出的 launch window 中也可创建&lt;/li>
&lt;li>在 Collection 菜单中创建&lt;/li>
&lt;li>通过 Postman API 创建&lt;/li>
&lt;/ul>
&lt;p>这里以通过 Collection 菜单创建为例，选中 &lt;code>Mock Collection&lt;/code>:&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190225_220408.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>根据 Collection 信息设置 Mock Server：
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190225_220340.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>创建成功，会生成一个在线的 Mock Servr 的访问 URL，本例中即 &lt;a class="link" href="https://b0fadee4-7560-4b14-a201-599985ce4f0f.mock.pstmn.io" target="_blank" rel="noopener"
>https://b0fadee4-7560-4b14-a201-599985ce4f0f.mock.pstmn.io&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190225_220205.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>如此我们就完成了当前 Collection 的 Mock 服务创建。这里 Postman 会默认生成一个和当前 Collection 同名的 Environment 环境，在这个环境中默认添加了 url 变量，取值即刚才的 Mock 服务地址。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190227_220654.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h4 id="mock-server-的使用">Mock Server 的使用
&lt;/h4>&lt;p>完成 Mock 服务的创建以后，我们就可以通过之前生成的 Mock 服务地址来模拟接口的响应了。如图就是访问 Mock 服务已保存的接口，返回的是之前保存的响应 Example 内容。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190227_221022.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h4 id="mock-server-的匹配算法">Mock Server 的匹配算法
&lt;/h4>&lt;p>看到这里，大家一定会产生一个疑问，Mock Server 是如何根据请求来确定需要响应的内容的？特别是针对同一个请求，我们保存了多个 Example 的情况，模拟的时候响应的是哪一个呢？ 这就要向大家来介绍一下 Mock Server 的响应匹配算法了。&lt;/p>
&lt;p>如下图，是 Mock Server 用来进行响应匹配的算法顺序&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190228_211113.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ol>
&lt;li>
&lt;p>首先会根据需要响应的内容格式来筛选响应，比如是 json 格式还是 xml 格式 （根据请求的格式定义）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>会根据请求的 HTTP 方法来匹配，会剔除不匹配请求 HTTP 方法的响应&lt;/p>
&lt;/li>
&lt;li>
&lt;p>根据请求的URL路径来匹配。优先匹配严格一致的路径，然后再匹配多层的带 &lt;code>/&lt;/code> 的路径，再然后匹配忽略大小写以及 id 信息的路径，如果都没有匹配的情况下则返回没有找到对应的响应。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>可以通过在请求消息头中携带指定 header 值来确认响应消息。 Postman 支持在消息头中携带 &lt;code>x-mock-response-name&lt;/code>、 &lt;code>x-mock-response-id&lt;/code>、 &lt;code>x-mock-response-code&lt;/code> ,分别可以指定响应的名称（保存的 example 名称）、响应 Example 的 ID（唯一 ID，可通过 API 查询得到）、响应状态码。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在剩余的响应中按保存顺序倒序排列，选择最高阈值的进行响应。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>如图是创建 Repo 的 Mock 服务，存在多个响应的 Example。 这里匹配了请求方法和请求路径：
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190228_213021.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>下图则是在请求中包含了指定的 Header，&lt;code>x-mock-response-code&lt;/code>， 指定返回状态码为 422 的响应。
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190228_213345.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>可以看到，通过 Postman 的 Mock Server 服务，我们可以在脱离原接口环境的情况下，模拟接口的响应，来完成我们业务调测的需要。 目前免费账号每月通过 Mock Server 提供的调用次数限额为 1000 次&lt;/p>
&lt;h3 id="postman-的监控功能">Postman 的监控功能
&lt;/h3>&lt;p>下面再介绍 Postman Cloud 提供的监控服务。&lt;/p>
&lt;p>对于互联网应用，我们的业务是否能够正确的提供服务，是否会因为服务异常或者网络问题导致业务中断？&lt;/p>
&lt;p>在和外部团队协作的过程中，如果对方的接口出现变化，我们如何能够及时地获知避免大量的无用功？&lt;/p>
&lt;p>因为这些问题的存在，自然对接口进行监控的重要性就显而易见了。Postman 对于接口的监控功能，其实简单来说就是在 Cloud 端提供的一个接口测试任务的定时执行并记录、通知结果的功能。大家也许会说，通过 Jenkins 这样的 CI 集成工具定时调度不是也可以吗？&lt;/p>
&lt;p>确实通过 CI 调度也能达到这样的效果，但是通过 Cloud 监控，还可以提供不同访问区域的选择以及针对监控结果的趋势可视化呈现分析等增值能力。&lt;/p>
&lt;p>如下图是在 Postman App 的 Collection 菜单中选择新建监控：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190228_225554.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>下图是在 Postman web 工作空间中创建监控：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190228_225910.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>下图是创建好的监控以及监控结果界面：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190226_214421.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/monitor.gif"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>除了通过在 App 和 在 Cloud web 端创建监控外，我们还可以通过 Postman API 来创建监控。&lt;/p>
&lt;p>另外需要跟大家说明的是，Postman 的监控功能有以下几个限制需要了解：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>因为是在云端进行执行的监控，所以监控对象接口需要可以通过互联网访问，对于在内网开发的接口，需要暴露公网访问接口。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Postman 目前没有文件存储功能，所以不支持在接口请求中附加文件。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>同上，也不支持使用 data file 提供 data 变量。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>接口的执行记录不会记录请求和响应的消息体。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>目前免费账号的 monitor 接口执行次数限额为每月 1000 次。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="postman-的开放-api">Postman 的开放 API
&lt;/h3>&lt;p>我们除了通过Postman App 以及 cloud 端的 web 界面来进行 Collection、Environment、Mock Server、Monitor 等的创建和管理外，Postman Cloud 也提供了自身的 API 接口，方便使用者从自研的工具或脚本中来调用，更加方便地对 Postman 提供的相关服务进行调度和管理。&lt;/p>
&lt;p>Postman 的 API 是通过云端的 Integration 来提供的。（对于专业版以上的账号，还可使用其他一些集成的第三方工具）&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190225_214835.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h4 id="获取鉴权码">获取鉴权码
&lt;/h4>&lt;p>要使用 Postman API，首先需要需要生成调用的鉴权码。从上图界面进入，选择 &lt;code>Get API Key&lt;/code>：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190225_214910.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>生成以后，可以在 &lt;code>Existing API Keys&lt;/code> 中查看当前的 Key 值：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190225_214944.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>Postman API 对于鉴权码的使用， 有两种方式：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>是通过在请求消息的 header 中 增加一个 &lt;code>X-Api-Key&lt;/code> 的消息头来携带这个 key 值进行鉴权&lt;/p>
&lt;/li>
&lt;li>
&lt;p>通过在请求 url 中携带查询参数 &lt;code>apikey&lt;/code> 来携带，如：&lt;/p>
&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">https://api.getpostman.com/collections?apikey={{postman_api_key}}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果不携带鉴权码，则接口会返回如下报错：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;error&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;AuthenticationError&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;message&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Invalid API Key. Every request requires a valid API Key to be sent.&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="访问频率限制">访问频率限制
&lt;/h4>&lt;p>和大部分 Restful API 服务类似， 为防止 DDOS 攻击，Postman API 对于接口的访问频次也进行了限制，每分钟访问不超过 60 次，在响应消息中可以通过 &lt;code>X-RateLimit-Limit&lt;/code> 、&lt;code>X-RateLimit-Remaining &lt;/code> 、&lt;code>X-RateLimit-Reset&lt;/code> 等几个自定义消息头来获知此限制以及剩余次数、重置时间。如下面获取所有 Collection 的接口：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190301_215758.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h4 id="调用实例">调用实例
&lt;/h4>&lt;p>下面再来看几个 Postman API 的调用实例：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>获取 Collection 信息&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>在上一张频率限制的图片上，我们访问的获取当前账号下所有 Collection 的接口，响应如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;collections&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;7ea4592c-848a-4a76-a4e4-5b1b0d0594f7&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;PostmanAPI&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;owner&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;4793508&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;uid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;4793508-7ea4592c-848a-4a76-a4e4-5b1b0d0594f7&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;d6c64129-8c6c-48ec-968c-7f01a70a601b&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Postman Echo&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;owner&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;4793508&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;uid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;4793508-d6c64129-8c6c-48ec-968c-7f01a70a601b&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;f2777cee-5d92-4a0d-896e-e00ad27ef5bd&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;GitHub&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;owner&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;4793508&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;uid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;4793508-f2777cee-5d92-4a0d-896e-e00ad27ef5bd&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>通过给定相关接口的 id，我们就可以获取单个 Collection 的详细信息，对应的接口：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">https://api.getpostman.com/collections/{{collectionID}}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>比如这里可以利用 Postman 的 Pre-Script，先获取到指定名称如 PostmanAPI 的 Collection 的 id，再将 id 赋值给环境变量 {{collectionID}}, 代码如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-JavaScript" data-lang="JavaScript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sendRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://api.getpostman.com/collections?apikey=&amp;#39;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">environment&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;postman_api_key&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">collections&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">collections&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">collections&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">collections&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;PostmanAPI&amp;#34;&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">environment&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;collectionID&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">collections&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如图
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190301_222437.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>获取 Environment 信息&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>类似的，我们也可以这样来获取单个的 environment 信息：&lt;/p>
&lt;p>pre-Script 代码如下；&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-JavaScript" data-lang="JavaScript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sendRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://api.getpostman.com/environments?apikey=&amp;#39;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">environment&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;postman_api_key&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">environments&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">environments&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">environments&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">environments&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;PostAPI&amp;#34;&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">environment&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;envID&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">environments&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>调用截图：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190301_223118.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>运行指定 monitor&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>我们也可以通过接口来立刻执行指定的 Monitor,接口返回执行结果如图：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190301_223742.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>除了上面的几个例子，关于Postman API 支持的详细接口说明可以参见 &lt;a class="link" href="https://docs.api.getpostman.com" target="_blank" rel="noopener"
>官方接口说明文档&lt;/a>，同样，目前针对免费账号的接口调用次数限制也是 1000 次。&lt;/p>
&lt;h3 id="结语">结语
&lt;/h3>&lt;p>以上就是对 Postman Cloud 提供的高级功能的介绍。可以看到，通过 Postman Cloud 我们可以借助云端的服务资源完成一些本地 App 不易实现的增值功能，更加方便在团队内进行共享和协作，增强便利性的同时加速我们接口开发或测试进度。Postman 的免费版对于这些增值的服务也是完全支持的，但使用额度上会有一定限制。而这些增值服务，我们其实也可以通过一些开源工具来自行实现，后续有机会再向大家分享。&lt;/p>
&lt;p>本系列关于 Postman 工具的系统介绍到此就结束了。欢迎大家在读者圈或者加入微信群继续共同交流测试技术、分享行业动态，共同成长！&lt;/p>
&lt;hr></description></item><item><title>Postman自动化篇</title><link>https://chengxiaqiucao.github.io/post/003-postman-automation/</link><pubDate>Mon, 18 Jul 2022 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/003-postman-automation/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_210709.png" alt="Featured image of post Postman自动化篇" />&lt;h3 id="前言">前言
&lt;/h3>&lt;p>在前两篇 Chat《玩转Postman：基础篇》《玩转Postman：进阶篇》中，我们介绍了 Postman 作为一款专业接口测试工具在接口测试中的主要用法以及它强大的变量、脚本功能，给测试工作人员完成接口的手工测试带来了极大的便利。其实在自动化测试上，Postman 也能进行良好的支持。本篇我们就一起来了解如何利用 Postman 进行接口自动化测试。&lt;/p>
&lt;h3 id="自动化测试概述">自动化测试概述
&lt;/h3>&lt;p>在继续本篇内容前，我们还是首先温习一下和自动化测试相关的一些基本概念。
百度百科中给出的定义：&lt;/p>
&lt;blockquote>
&lt;p>自动化测试就是将人为驱动的测试行为转化为通过机器来执行的一种过程。&lt;/p>&lt;/blockquote>
&lt;p>&lt;code>人为驱动的测试行为&lt;/code>，从&lt;code>广义&lt;/code>上理解可以包含从测试需求分析到测试设计、测试执行以及测试总结的全过程，而&lt;code>狭义&lt;/code>的理解一般就是将测试设计通过测试代码来体现并通过代码的执行来自动地完成测试的执行并输出执行结果。
现在我们谈到自动化测试，更多还是在狭义层面，通过自动化测试来提升测试执行效率，通过快速得到测试用例的执行结果来尽快得到被测产品状态，更多是起到&lt;code>质量指示器&lt;/code>的作用。&lt;/p>
&lt;p>在&lt;a class="link" href="https://gitbook.cn/gitchat/activity/5c373c316cf27775f39ee310" target="_blank" rel="noopener"
>《玩转Postman：基础篇》&lt;/a>中我们介绍了经典的自动化测试金字塔：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181222_161451.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>这里根据不同测试类型对软件测试进行了分层：&lt;/p>
&lt;ul>
&lt;li>底层是针对的代码层面的单元测试。&lt;/li>
&lt;li>中间层是 service 服务测试，现代软件的应用服务基本都是以接口 API 形式来体现，服务测试也可以理解就是接口 API 测试。&lt;/li>
&lt;li>上层则是针对用户界面的测试。&lt;/li>
&lt;/ul>
&lt;p>这个模型体现在自动化测试中，表示越底层的自动化测试所占比重应该越大，这样才有更好的投入产出比。而中间这一层的 Service 测试它既不像 UI 层那样维护成本巨大，很难跟得上快速迭代的要求，同时它又比单元测试更能在业务逻辑上进行质量验证。所以现在一般认为 API 测试是自动化测试实施上的优先选择。&lt;/p>
&lt;p>借助一些自动化测试工具或者自动化测试框架的帮助，我们可以在测试执行的用例组织、执行策略、测试数据管理、结果报告等方面更加方便地进行自动化测试的实施。下面我们就来看看 Postman 在自动化测试上提供的支持。&lt;/p>
&lt;h3 id="postman的批量执行工具-runner">Postman的批量执行工具 Runner
&lt;/h3>&lt;p>Runner 是 Postman 中用于批量执行接口用例的模块，我们可以通过 Runner 模块来完成已编写接口用例的自动化测试执行。&lt;/p>
&lt;h4 id="runner-功能介绍">Runner 功能介绍
&lt;/h4>&lt;p>在 Postman 主界面左上角，点击 Runner 按钮，即可打开 Runner 模块界面。如下图&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190210_213122.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>相关设置的作用如图上标注。选中待执行的 Collection 或 Folder 后，点击运行按钮，会开启如下运行页面，并显示执行结果。相关界面元素含义如图上标注&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190210_213740.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h4 id="接口的测试数据驱动">接口的测试数据驱动
&lt;/h4>&lt;p>Postman 通过 引入 data 变量来支持 Runner 运行时的测试数据加载和数据驱动。在上一篇 Chat&lt;a class="link" href="https://gitbook.cn/gitchat/activity/5c52a4f17ee79c049a27a6d7" target="_blank" rel="noopener"
>《玩转Postman：进阶篇》&lt;/a>中，我们简单介绍了 data 变量的使用方法。这里我们再结合一个 GitHub API 的例子回顾一下：&lt;/p>
&lt;p>&lt;em>数据文件中给出一组 Repositories 的信息（测试数据），我们运行一个和这组数据相关的接口：获取 repo、获取 repo 的 contributor、获取 repo 的 tag、获取 repo 的 topic，并分别进行相关校验&lt;/em>&lt;/p>
&lt;p>Postman 支持两种外部数据类型，json 格式或者 txt/csv 格式。这里我们假设将 repositories 数据以 json 格式保存在数据文件中，给出如下一些主流的开源自动化测试框架&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;owner&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;junit-team&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;repo&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;junit5&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;owner&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;robotframework&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;repo&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;robotframework&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;owner&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;appium&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;repo&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;appium&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;owner&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;SeleniumHQ&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;repo&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;selenium&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在 Test 脚本中编写校验，在上一讲中我们提到一个技巧，对于重复使用的脚本我们可以把它们保存到 global 变量中，需要时执行这个变量内容即可。本例中我们需要执行的几个接口，都会用到是否正确返回成功响应的校验。
所以可以设置一个 global 变量 checkOK。变量值即需要执行的校验脚本&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190215_203908.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>不同的接口中均包含了相应 repo 信息作为路径参数，然后我们再添加对应的校验&lt;/p>
&lt;ul>
&lt;li>获取 repo 接口&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>/repos/:owner/:repo&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">eval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">globals&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;checkOK&amp;#34;&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//判断是否存在 stargazers_count 字段
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;存在 Star 数据&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">have&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">jsonBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;stargazers_count&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//获取 star 数量
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">star&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">stargazers_count&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 将Star数显示到Test Result中，并判断是否 超过 1000 Star
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;当前repo【&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">variables&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;repo&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;】star数【&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="nx">star&lt;/span> &lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;】超 1000&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">star&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">gt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>获取 Contributor 接口（因接口默认返回数量为 30， 这里用 &lt;code>per_page&lt;/code> 参数指定每页返回数量 100）&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>/repos/:owner/:repo/contributors?per_page=100&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">eval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">globals&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;checkOK&amp;#34;&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//遍历当前返回数组长度
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">contributor&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">c&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">()){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">contributor&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//判断贡献者是否超过5人
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;贡献者数量【&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">contributor&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34;】超过 5 人&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">contributor&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">gt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>获取 Tag 接口（因接口默认返回数量为 30， 这里用 &lt;code>per_page&lt;/code> 参数指定每页返回数量 100）&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>/repos/:owner/:repo/tags?per_page=100&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">eval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">globals&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;checkOK&amp;#34;&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//遍历当前返回数组长度
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">tag&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">c&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">()){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tag&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//判断标签是否超过5个
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;tag数量【&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">tag&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34;】超过 5 个&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tag&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">gt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>获取 Topic 接口&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>/repos/:owner/:repo/topics&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">eval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">globals&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;checkOK&amp;#34;&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//判断返回Topic names，并显示到Test Result
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;当前repo【&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">variables&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;repo&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;】Topic：&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">names&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">have&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">jsonBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;names&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在 Postman 中设置 Runner 配置并运行&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190215_213001.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>结果如图：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190215_212907.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>从结果中我们可以看到，所有定义在 GithubRepos.json 这个文件中的 Repo 信息均按照上述流程进行了正确的执行。&lt;/p>
&lt;h4 id="接口的流程控制">接口的流程控制
&lt;/h4>&lt;p>除了这样按顺序的执行，在我们的实际测试工作中，很多情况下还会希望根据接口测试的执行结果来决定后续执行的测试用例，这就是接口的流程控制功能。Postman 的 Runner 模块也可以支持这种流程控制，它是借助 Postman 的脚本封装方法 &lt;code>postman.setNextRequest()&lt;/code>来实现的。&lt;/p>
&lt;p>比如上面介绍的数据迭代过程，在获取 repo 后，如果成功响应，我们继续执行 GetTag 接口，否则退出。
我们修改 GetRepo 这个接口的 Test 脚本如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">code&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">postman&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setNextRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;GetTag&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">postman&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setNextRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>再修改测试数据，给出一个不存在的 Repo 信息模拟匹配不到返回错误的情况&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;owner&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;junit-team&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;repo&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;junit5&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;owner&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;chengxiaqiucao&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;repo&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;errorRepo&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>再次重新执行，我们可以看到：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>GetRepo这个接口，返回正常时，跳转到 GetTag 这个接口执行，这里跳过了按正常顺序应该执行的 GetContritutor;&lt;/p>
&lt;/li>
&lt;li>
&lt;p>而当执行到错误的 Repo, 得到 404 Not Found 响应，此时 Runner 中断了执行&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>执行结果如图：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190215_215021.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>&lt;em>注意：&lt;/em>&lt;/p>
&lt;p>&lt;em>无论 postman.setNextRequest() 方法在脚本的什么位置，它总是在脚本的最后执行跳转操作&lt;/em>&lt;/p>
&lt;p>&lt;em>postman.setNextRequest() 方法有自己的作用域，当选择 collection 执行时，所选择的 request需要在当前collection中，当选择 Folder 执行时，所选的 request 需要在当前 folder中&lt;/em>&lt;/p>
&lt;h3 id="命令行自动化工具-newman">命令行自动化工具 NewMan
&lt;/h3>&lt;p>Newman 是 Postman 官方提供的专门用于自动化测试执行的命令行工具，使 Postman 具备了支持自动化测试扩展以及和第三方系统集成调度的能力。&lt;/p>
&lt;h4 id="newman-的安装">NewMan 的安装
&lt;/h4>&lt;p>因为 Newman 基于 Node.js，所以首先要保证机器上具备 Node.js 环境，此处不再另外介绍 Node.js 的安装。
Node 环境具备的话，运行如下命令能正确显示版本号即可&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">c:\&amp;gt;node --version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">v6.9.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>安装 Newman 使用如下命令：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;gt; npm i newman -g
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>安装完成后检查版本，能正确显示即安装成功&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">c:\&amp;gt;newman -v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">4.3.1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="newman-功能介绍">NewMan 功能介绍
&lt;/h4>&lt;p>Newman 命令行工具的主要命令是 newman run，命令格式如下&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;gt; run [options] &amp;lt;collection&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这里的 Collection 可以是从 Postman 中导出的 Collection 文件，也可以是通过 Postman 账号 share 出来的在线 Collection URL 地址。&lt;/p>
&lt;p>Collection 从 Postman 中导出方法如下：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190216_193545.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>此时会提示选择版本，建议选择推荐的Collection 2.1 版本。导出后会保存为一个 json 文件。&lt;/p>
&lt;p>下面介绍几个 newman 运行时常用的参数：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>-e, &amp;ndash;environment &amp;lt;path&amp;gt;&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>指定 environment 环境变量，这里环境变量需要导出为文件( json 格式)&lt;/p>
&lt;ul>
&lt;li>&lt;strong>-g, &amp;ndash;globals &amp;lt;path&amp;gt;&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>指定 global 环境变量，这里环境变量需要导出为文件( json 格式)&lt;/p>
&lt;ul>
&lt;li>&lt;strong>-d, &amp;ndash;iteration-data &amp;lt;path&amp;gt;&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>指定运行 Collection 时使用的 data file 文件&lt;/p>
&lt;ul>
&lt;li>&lt;strong>-n, &amp;ndash;iteration-count &amp;lt;n&amp;gt;&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>指定 Collection run 时的迭代次数 n&lt;/p>
&lt;ul>
&lt;li>&lt;strong>-r, &amp;ndash;reporters [reporters]&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>指定运行完成后的结果报告类型，除默认命令行格式 cli外, 还支持 json, junit, progress 以及 emojitrain几种类型。&lt;/p>
&lt;p>如下是 newman 运行上文 Runner 中的 Collection 的输出示例：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/newman.gif"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>除了 newman 默认支持的几种报告格式， 我们还可以安装一个 html 格式的报告插件，安装命令如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;gt; npm install -g newman-reporter-html
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如上例中的 newman 执行命令，此时带上 &amp;ndash;reporter html 参数，即可在当前目录的 newman 目录下生成一个 html 格式的报告&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;gt;newman run GitHub.postman_collection.json -e GitChat.postman_environment.json --reporters html
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>报告形如：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190216_202032.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>我们还可以在这个命令基础上增加&lt;code>--reporter-html-export&lt;/code> 参数指定生成的 html 文件路径，命令如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">newman&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="n">GitHub&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">postman_collection&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">json&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">GitChat&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">postman_environment&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">json&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">reporters&lt;/span> &lt;span class="n">html&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">reporter&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">html&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="k">export&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">:&lt;/span>\&lt;span class="n">newman&lt;/span>\&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">html&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这样我们就可以在指定目录下得到输出的 HTML 结果报告了。&lt;/p>
&lt;h3 id="和持续集成工具-jenkins-的集成">和持续集成工具 Jenkins 的集成
&lt;/h3>&lt;p>Jenkins 是目前最为流行的持续集成工具，在研发流程，特别是现今推崇 DevOps 的研发环境下，通过 Jenkins 将自动化测试纳入持续集成管道是其中的一项核心实践。下面我们就来具体看下如何结合 Jenkins 和 Newman 工具来完成持续集成中自动化测试任务的创建和调度执行。&lt;/p>
&lt;h4 id="jenkins-的安装">Jenkins 的安装
&lt;/h4>&lt;p>首先还是看下如何安装 Jenkins。企业中一般由研发配置或支撑部门来维护 Jenkins。这里我们以 window 版本为例看下安装过程&lt;/p>
&lt;ul>
&lt;li>首先来到 Jenkins 的官网 &lt;a class="link" href="https://jenkins.io/" target="_blank" rel="noopener"
>https://jenkins.io/&lt;/a> ，进入 download界面，选择长期支持版本，根据操作系统类型选择对应安装包，这里选择 windows 版本&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190218_215043.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>完成下载后的到一个 zip 文件，解压后执行 msi 安装文件，一路默认安装即可&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190218_215516.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>安装完成后，我们可以来到 windows 系统的服务管理器中，可以看到已经自动创建了一个名为 Jenkins 的服务，会随系统自动运行，我们也可以根据需要改成手动。&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190218_215830.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>此时访问 http://localhost:8080，会等待 Jenkins 完成系统部署和初始化&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190218_220103.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>初始化完成，会要求输入初始密码，可以根据提示从初始密码文件中获取&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190218_220912.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>输入密码后需要进行插件的安装，一般选择推荐配置即可&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190218_221013.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>选择插件后，等待相关插件下载并完成安装&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190218_221310.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>完成后设置用户名和账号&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190218_221728.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>继续下一步，设置访问 URL 和端口，此处使用默认地址&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190218_221808.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>重启服务后再访问 Jenkins 服务地址，登录后进入主界面，至此安装完成。&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190218_222312.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h4 id="jenkins-配置-newman-执行自动化">Jenkins 配置 Newman 执行自动化
&lt;/h4>&lt;p>进入 Jenkins 主页后，我们选择新建 Job，这里选择&lt;code>构建自由风格项目&lt;/code>，创建一个新的持续集成任务&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190218_222627.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>点击 OK 后会进入配置页面，来到 Build 配置，选择&lt;code>执行Windows批处理命令&lt;/code>, 如果是部署在其他操作系统如 Linux 系统，可以相应的选择&lt;code>执行shell&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190220_192925.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>输入前面我们执行自动化的 newman 命令，注意，因为 Jenkins 调度会从 Jenkins 工作空间目录执行，所以这里指定的 Collection 和 environment 文件需要给出绝对路径&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190220_193429.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>保存后即完成了一个最基本的自动化测试执行 Job 的创建。此时点击右侧的&lt;code>立即构建&lt;/code>可立刻触发任务的执行&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190220_193950.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>点击构建编号(此处为 &lt;code>#1&lt;/code>)，进入构建详情，通过打开右侧&lt;code>Console Output&lt;/code>可以查看具体执行的控制台输出&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190220_194726.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>&lt;strong>Tips 1：&lt;/strong> 在本例中，我们可以看到出现了&lt;code>newman 不是内部或外部命令&lt;/code>的错误，这是因为 NewMan 安装后，默认是将执行路径添加在当前用户的 Path 用户环境变量下，而通过 Jenkins 执行，没有路径访问权限，所以我们需要将 Newman 所在 npm 目录添加到系统环境变量 Path 中。如图&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190220_195441.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>修改变量后，通过 &lt;code>http://127.0.0.1:8080/restart&lt;/code> 地址重启 Jenkins 使变量生效，再次执行构建：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190220_200635.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>可以看到已经成功调度了自动化测试任务，但是控制台输出中存在乱码。如果你也出现这个问题，可按以下方法解决&lt;/p>
&lt;p>&lt;strong>Tips 2:&lt;/strong> 此处乱码是因为 Jenkins 使用的 jvm 环境未设置语言支持。我们同样方法添加如下 windows 系统环境变量，设置后重启 Jenkins 服务，再次执行即可正常看到执行结果了&lt;/p>
&lt;blockquote>
&lt;p>JAVA_TOOL_OPTIONS = -Dfile.encoding=UTF8&lt;/p>&lt;/blockquote>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190220_202344.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h4 id="生成测试报告">生成测试报告
&lt;/h4>&lt;p>要在 Jenkins 中展示测试报告，首先我们要生成测试报告。根据上面 NewMan 执行参数的介绍，可以添加相关报告参数&lt;code>--reporters junit,html --reporter-html-export .\newman\result.html&lt;/code>来生成。这里同时生成 junit 和 html 两种格式的报告到当前工作目录的 newman 目录下。完整命令如下&lt;/p>
&lt;blockquote>
&lt;p>newman run c:\GitHub.postman_collection.json -e c:\GitChat.postman_environment.json
&amp;ndash;reporters junit,html &amp;ndash;reporter-html-export .\newman\result.html&lt;/p>&lt;/blockquote>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190220_211051.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>而要在 Jenkins 中展示 HTML 报告，我们需要添加一个展示插件， 来到 &lt;code>Jenkins &amp;gt; 系统管理 &amp;gt; 插件管理&lt;/code> 界面下，在 Availble 中查询并安装 &lt;code>HTML Publisher&lt;/code>插件&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190220_203802.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>重启 Jenkins 后，我们就可以添加相关报告展示配置了。还是来到 &lt;code>Newman_Test&lt;/code>这个任务下，配置&lt;code>Post-build Actions&lt;/code>,分别添加 Junit 结果报告和 HTML 报告，如下图：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190220_210848.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190220_211026.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>完成报告配置后，我们再运行几次任务，这是在任务界面上就可以看到相关测试结果的报告链接以及执行趋势了（执行趋势为 Junit 报告产生）&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190220_211300.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>如图是 JUnit 报告:
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190220_211316.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>如图是 HTML 报告；
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190220_211423.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h4 id="配置任务定时执行">配置任务定时执行
&lt;/h4>&lt;p>在持续集成中，自动化测试的自动触发是非常重要的，这是在任务配置的 &lt;code>Build Triggers&lt;/code> 中进行配置的，如图是配置定时触发的方法。这里的触发计划符合 Linux &lt;code>Crontab&lt;/code> 的语法。具体语法可以参照 Jenkins 给出的语法帮助&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190220_212943.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h4 id="自动发送测试结果邮件">自动发送测试结果邮件
&lt;/h4>&lt;p>同样，在持续集成中，及时将测试结果通知到相关人员非常重要。这里需要安装 Jenkins 的邮件通知扩展插件：&lt;code>Email Extension Plugin&lt;/code>，同样参照上文插件安装的方法在插件管理界面中完成安装。&lt;/p>
&lt;p>要使用邮件通知，需要接收邮箱支持 smtp 服务。以 QQ 邮箱为例，在邮箱账号的设置界面中，开启 SMTP 服务，并生成对应的授权码&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190221_220220.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>回到 Jenkins，安装完插件以后，需要对插件进行配置。来到系统管理 &amp;gt; 系统设置中，首先设置管理员邮箱地址。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190221_215412.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>在 &lt;code>Extend E-Mail Notification&lt;/code> 配置中，如图进行配置，注意点开高级后，这里的用户密码是在 QQ 邮箱中生成的授权码&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190221_215856.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>同样 &lt;code>E-mail Notification&lt;/code> 配置中进行类似配置。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190221_220130.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>完成系统配置后，来到任务配置界面。在配置的最后添加 &lt;code>Post build Action&lt;/code>，选择 &lt;code>Editable Email Notification&lt;/code>，参见如图进行设置。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190221_223117.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190221_223508.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>保存后，触发构建。可以从 console output 中看到邮件是否有成功发送。发送后进入邮箱即可看到已经收到了对应的结果通知邮件。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190221_222143.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h4 id="附件结果邮件模板">附件：结果邮件模板
&lt;/h4>&lt;p>附上这里使用的邮件模板文件，邮件模板中可以使用 Jenkins 的一些默认变量，如：项目名称 &lt;strong>$PROJECT_NAME&lt;/strong>， 构建编号 &lt;strong>$BUILD_NUMBER&lt;/strong>，构建状态 &lt;strong>$BUILD_STATUS&lt;/strong> 等，大家可以参照模板内容对照看一下，也可以参考 Jenkins 官方给出的一些&lt;a class="link" href="https://wiki.jenkins.io/display/JENKINS/Building&amp;#43;a&amp;#43;software&amp;#43;project#Buildingasoftwareproject-belowJenkinsSetEnvironmentVariables" target="_blank" rel="noopener"
>说明&lt;/a>。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-HTML" data-lang="HTML">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #5e9ca0; text-align: center;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>本邮件是 NewMan 自动化测试邮件，请勿回复！！！&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">table&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;editorDemoTable&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;height: 273px;&amp;#34;&lt;/span> &lt;span class="na">width&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;430&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">thead&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span> &lt;span class="na">nowrap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nowrap&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;background-color: #3498db; text-align: center;&amp;#34;&lt;/span> &lt;span class="na">colspan&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #000000;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>NewMan 自动化测试执行报告&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">thead&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tbody&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span> &lt;span class="na">nowrap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nowrap&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;border-color: gray;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #808000;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>项目名称：&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span> &lt;span class="na">nowrap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nowrap&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;border-color: gray;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #808000;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>$PROJECT_NAME&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span> &lt;span class="na">nowrap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nowrap&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;border-color: gray;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #808000;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>构建编号：&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span> &lt;span class="na">nowrap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nowrap&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;border-color: gray;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #808000;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>$BUILD_NUMBER&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span> &lt;span class="na">nowrap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nowrap&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;border-color: gray;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #808000;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>构建状态：&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span> &lt;span class="na">nowrap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nowrap&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;border-color: gray;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #808000;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>$BUILD_STATUS&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span> &lt;span class="na">nowrap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nowrap&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;border-color: gray;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #808000;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>触发原因：&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span> &lt;span class="na">nowrap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nowrap&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;border-color: gray;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #808000;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>${CAUSE}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span> &lt;span class="na">nowrap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nowrap&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;border-color: gray;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #808000;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>构建日志地址：&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span> &lt;span class="na">nowrap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nowrap&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;border-color: gray;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #00ccff;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="ni">&amp;amp;nbsp;&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #00ccff;&amp;#34;&lt;/span> &lt;span class="na">title&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;构建日志&amp;#34;&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;${BUILD_URL}console&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>${BUILD_URL}console&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span> &lt;span class="na">nowrap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nowrap&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;border-color: gray;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #808000;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>构建地址：&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span> &lt;span class="na">nowrap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nowrap&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;border-color: gray;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #00ccff;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="ni">&amp;amp;nbsp;&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #00ccff;&amp;#34;&lt;/span> &lt;span class="na">title&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;构建地址&amp;#34;&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;$BUILD_URL&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>$BUILD_URL&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span> &lt;span class="na">nowrap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nowrap&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;border-color: gray;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #808000;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>测试报告地址：&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span> &lt;span class="na">nowrap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nowrap&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;border-color: gray;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #00ccff;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #00ccff;&amp;#34;&lt;/span> &lt;span class="na">title&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;NewMan测试报告地址&amp;#34;&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;${BUILD_URL}HTML_20Report/&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>${BUILD_URL}HTML_20Report/&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span> &lt;span class="na">nowrap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nowrap&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;border-color: gray;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #808000;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>Junit测试结果地址：&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span> &lt;span class="na">nowrap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nowrap&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;border-color: gray;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #00ccff;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="ni">&amp;amp;nbsp;&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color: #00ccff;&amp;#34;&lt;/span> &lt;span class="na">title&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;测试结果地址&amp;#34;&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;${BUILD_URL}testReport/&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>${BUILD_URL}testReport/&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tbody&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">table&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="结语及预告">结语及预告
&lt;/h3>&lt;p>以上就是本篇 Postman 自动化测试相关内容的介绍，再简单总结下，在本篇 Chat 中，我们学习了：&lt;/p>
&lt;ul>
&lt;li>通过外部数据文件结合 Runner 模块完成数据驱动的自动化测试执行&lt;/li>
&lt;li>通过 Postman 的内建方法 &lt;strong>postman.setNextRequest()&lt;/strong> 来控制接口的流程走向&lt;/li>
&lt;li>命令行工具 Newman 的安装和使用实例&lt;/li>
&lt;li>持续集成工具 Jenkins 的安装配置以及如何与 newman 结合完成自动化测试脚本的触发，以及结果报告生成和通过邮件模板进行邮件通知。&lt;/li>
&lt;/ul>
&lt;p>通过本系列这三篇介绍，我们学习了 Postman 作为一个本地运行的接口测试工具的详细使用方法。但我们还知道使用 Postman 前还注册了一个官网账号，这个账号其实就关联了 Postman 的云端服务。而 Postman Cloud 向用户提供了很多高级增值功能，目前普通注册用户也能在一定限额下免费使用，完全可满足一般的测试、学习需要。在下一篇中我们就和大家再一起来学习 Postman 提供的云端增值高级功能。主要有：&lt;/p>
&lt;ul>
&lt;li>Postman 的在线文档功能&lt;/li>
&lt;li>Postman 的 Mock 服务&lt;/li>
&lt;li>Postman 的监控服务&lt;/li>
&lt;li>Postman 的开放 API&lt;/li>
&lt;/ul>
&lt;p>PS：欢迎大家到读者圈中共同讨论，携手进步。&lt;/p></description></item><item><title>Postman进阶篇</title><link>https://chengxiaqiucao.github.io/post/002-postman-middle/</link><pubDate>Wed, 22 Jun 2022 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/002-postman-middle/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_210709.png" alt="Featured image of post Postman进阶篇" />&lt;h3 id="前言">前言
&lt;/h3>&lt;p>在上一篇 《玩转Postman：基础篇》中，我们介绍了 Postman 工具的主要功能和一些基本用法。 其实 Postman 作为目前使用最为广泛的接口测试工具，除了能提供交互良好的 UI 界面以及完成基本的http协议的鉴权、header、body 等的设置以及请求提交和响应解析这些基本功能外，它还提供了非常丰富的测试辅助能力。本篇我们就来为大家详细介绍 postman 的脚本进阶功能。&lt;/p>
&lt;h3 id="postman的变量">Postman的变量
&lt;/h3>&lt;p>在接口测试工具中，变量对于接口消息的重用和灵活匹配意义重大，作为一个专业的接口测试工具，对变量的支持是必须具备的。&lt;/p>
&lt;p>而 Postman 就提供了丰富的变量支持，在 Postman 中定义了5种不同作用范围的变量类型，在变量的使用和管理上更加地灵活和有针对性。下图是官方给出的不同类型变量的作用范围&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190113_142618.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>从外向内作用域逐渐变小，同时生效优先级越高，也就是当存在同一变量名时，内层变量类型的变量会优先生效。下面我们结合实例来具体说明一下这些变量类型的作用范围：&lt;/p>
&lt;h4 id="global-变量">global 变量
&lt;/h4>&lt;p>global 变量即全局变量，是作用范围最大的一种变量类型。设置好 global 变量后，可以在 Postman 工具中所有可以使用变量的地方生效。&lt;/p>
&lt;p>下面在 Postman 工具中看一下 global 变量的设置：
在工具右上角打开环境管理界面：
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190119_223500.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>选择 global 变量管理：
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190119_223538.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>添加 Global 变量：
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190120_102808.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>此例中，我们设置一个 global 变量 name，取值为 1。
在 Postman 中，使用双花括号表示变量，形如 &lt;strong>{{ variable }}&lt;/strong>。以 Github API 为例，比如我们获取用户名为变量 name 取值的用户信息。&lt;/p>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://api.github.com/users/%7b%7bname%7d%7d" target="_blank" rel="noopener"
>https://api.github.com/users/{{name}}&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>url中输入双花括号后会自动联想出我们需要的变量类型。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190120_102954.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>发送请求后，检查 Postman 响应区，可以看到我们获取了 username 为 1 的用户信息。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;login&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1825798&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;node_id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;MDQ6VXNlcjE4MjU3OTg=&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;avatar_url&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://avatars2.githubusercontent.com/u/1825798?v=4&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;gravatar_id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;url&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://api.github.com/users/1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;html_url&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://github.com/1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;followers_url&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://api.github.com/users/1/followers&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;following_url&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://api.github.com/users/1/following{/other_user}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;gists_url&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://api.github.com/users/1/gists{/gist_id}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;starred_url&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://api.github.com/users/1/starred{/owner}{/repo}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;subscriptions_url&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://api.github.com/users/1/subscriptions&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;organizations_url&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://api.github.com/users/1/orgs&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;repos_url&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://api.github.com/users/1/repos&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;events_url&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://api.github.com/users/1/events{/privacy}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;received_events_url&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://api.github.com/users/1/received_events&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;type&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;User&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;site_admin&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Michael&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;company&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;blog&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;location&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;San Francisco, CA&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;email&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;mbalaban1989@gmail.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;hireable&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;bio&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;public_repos&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;public_gists&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;followers&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">15&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;following&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;created_at&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;2012-06-07T06:10:07Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;updated_at&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;2019-01-17T08:29:21Z&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="collection-与-collection-变量">Collection 与 Collection 变量
&lt;/h4>&lt;p>再来看另一个变量类型 Collection 变量。首先了解下 Collection 的概念。Collection 是 Postman 中组织接口的一个集合单位，Postman 中也主要以 Collection 为配置存储的一个基本单位。我们可以把 Collection 看作软件测试中测试用例集的概念。&lt;/p>
&lt;p>Collection 变量就是作用域在 Collection 上的变量类型，这种变量只会在设置变量的 Collection 上生效。
设置方法：选择 Edit Collection
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190119_223837.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>在 variable 页中添加 Collection 变量，本例中我们在 Github 这个 Collection 添加一个同样命名为name 的变量
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190120_104130.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>将上例中获取用户的接口保存到 Github 这个 Collection 中（我们可以在 Collection 下再创建一层子目录，注意目录是不支持设置目录级别的变量的，Collection 变量在子目录下的接口依然会生效），我们再提交一下这个接口
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190120_104718.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>此时可以看到，我们设置的 Collection 变量已经生效，获取到的是 name 为 2 的用户信息。注意此时我们还设置了一个 name 为 1 的 global 变量，可以看到 Collection 变量的优先级高于 global变量。&lt;/p>
&lt;h4 id="环境和-environment-变量">环境和 environment 变量
&lt;/h4>&lt;p>环境是 Postman 中的一个非常有用的概念。做过软件测试的同学都了解，我们在实际工作中会接触到不同的软件环境。对应于我们被测试系统的不同运行场景。比如一般互联网企业在研发中会存在以下的一些不同环境：&lt;/p>
&lt;ul>
&lt;li>开发环境&lt;/li>
&lt;li>集成环境（联调环境）&lt;/li>
&lt;li>系统测试环境&lt;/li>
&lt;li>试生产环境&lt;/li>
&lt;li>生产环境&lt;/li>
&lt;li>性能测试环境&lt;/li>
&lt;li>安全测试环境&lt;/li>
&lt;/ul>
&lt;p>不同的环境在接入途径、网络拓扑、访问权限以及硬件配置上往往都有较大区别。Postman 中引入 Environment 这个概念，通过 Environment 变量来管理一组环境配置，便于我们来方便地在不同环境间进行切换。&lt;/p>
&lt;p>在环境管理界面中，可以添加环境，以及该环境对应的相关变量。本例我们添加一个 GitChat 环境，并且设置一个 name = 3 的环境变量。
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190120_110446.png"
loading="lazy"
alt="image"
>
设置完环境后，我们再刚才的获取用户接口界面上，选择对应的 GitChat 环境，再重新提交请求。可以看到环境变量已经生效，获取了name为 3 的用户信息，同样可以看到，此时环境变量的优先级比 Collection 又要更高。
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190120_110733.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h4 id="data-变量">data 变量
&lt;/h4>&lt;p>另一种 Postman 中的变量类型是 data 变量，data 变量只能在 Postman Runner 中使用，也就是会在 Runner 运行时才生效，data 变量可以提供多组测试数据供接口测试时调用，为 Postman 提供接口批量数据验证能力。要使用 data 变量，打开 Postman Runner， 如下图，选择 data 变量定义文件加载 data 变量文件。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190126_232538.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>data 变量支持json或者txt/csv数据格式，json 定义格式如下，&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;11&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;user1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;12&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;user2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;13&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;user3&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>txt/csv 格式如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">id,name
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">11,user1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">12,user2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">13,user3
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在 runner 界面上可以通过 preview 查看运行时不同迭代所加载的变量取值，如下：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190126_232629.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>如本例，点击 Run variables 会执行 3 次不同的迭代，通过 Postman Console查看运行日志，可以看到每次均使用了 data 变量中定义的对应变量值。 同样，虽然我们选择 environment，但可以看到 data 变量在 runner 运行时优先级更高。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190126_233803.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h4 id="local-变量">local 变量
&lt;/h4>&lt;p>Local 变量在 Postman 官方文档中并没有给出明确的定义。一般可以理解成 Postman 脚本中支持的 JS 变量，它的作用域只会在脚本中生效， 此时 Postman 界面引用的 &lt;strong>{{variable}}&lt;/strong> 并不会取到 local 变量值。
脚本中直接引用的变量名会取local变量，其他数据类型则通过 Postman 对应的取值语句来获取。&lt;/p>
&lt;p>比如我们在 Pre-Request 中定义以下脚本并执行：
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190126_234936.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>在 Console 中查看结果如下，可以比较清楚地看到每次执行在预执行脚本中不同变量的当前取值
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190126_235036.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>通过以上实例，我们可以看到，Postman 针对不同的接口作用范围支持了丰富的变量类型，使我们在应用变量功能的时候可以更加的灵活&lt;/p>
&lt;h3 id="postman-脚本及其执行顺序">Postman 脚本及其执行顺序
&lt;/h3>&lt;p>除了支持丰富的变量功能，Postman 还支持强大的脚本功能，测试人员在进行接口测试时，可以通过脚本来动态地对接口测试逻辑进行定制，再结合变量，就可以实现一些复杂的场景。&lt;/p>
&lt;p>Postman 的脚本功能是基于 Node.js 语言，Node.js 成熟的语法和丰富的扩展库给 Postman 提供了巨大的灵活性和强力的扩展能力。&lt;/p>
&lt;p>在 Postman 中，测试脚本 可以在接口发送之前和收到响应之后执行，分别对应 Pre-request Script 和 Test Script，如下图：
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190126_235928.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>比如我们前文介绍变量时的实例，其实就是一个 pre-request 脚本
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190127_000131.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>除了接口本身可以设置 pre-request 和 Test Script，我们在编辑 Collection 和 Collection 下的folder时，可以看到 Collection 和 Folder 也都支持设置 pre-request 和 test 脚本。 那这几种脚本的执行优先级或者说顺序是如何的呢？ 下图就是这几个不同位置脚本的调用执行顺序：
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190126_235847.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>对TestNG 或者 Junit 等测试框架有所了解的同学，应该知道这些测试框架也有类似的运行时概念，也就是 Setup 和 teardown 方法，而且也有 case、class、suite 这样的层次。不过这些不同层次的方法都是成对出现的，即 case 的 setup 和 teardown 在 case 执行前和结束后会执行。 而 Postman 的 Script 执行顺序和这个稍有差别，是按层级顺序排列，而不是成对出现的。大家参照图片注意理解下差异。&lt;/p>
&lt;p>大家也可以自己验证下这个执行顺序，分别在Collection、folder 以及 folder 下的请求中定义相关脚本，如：
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190129_205434.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>执行，查看 console 输出：
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190129_205811.png"
loading="lazy"
alt="image"
>
可见 Postman 对不同脚本的执行顺序和前文所述一致。&lt;/p>
&lt;h3 id="postman脚本-prerequest">Postman脚本-PreRequest
&lt;/h3>&lt;p>Pre-request 脚本，顾名思义，其实就是在接口消息发送前，可以进行一些预处理动作，类似于 Junit 或 TestNG 等测试框架中的 Setup 方法。 利用 Pre-Script 脚本，我们就可以在发送接口请求前来完成一些需要动态处理的动作，比如调整变量取值，或者对一些动态参数进行一些特殊处理。&lt;/p>
&lt;p>下面我们就以 GitHub API 中的一个实例来看下 Pre-Script 脚本的主要作用。（关于GitHub API 的一些具体说明，大家可以先看下我在上一篇 Chat &lt;a class="link" href="https://gitbook.cn/gitchat/activity/5c373c316cf27775f39ee310" target="_blank" rel="noopener"
>《玩转Postman：基础篇》&lt;/a>中的介绍）&lt;/p>
&lt;p>GitHub API 中一个经常使用到的接口是查询接口&lt;/p>
&lt;p>根据 GitHub API 官网的定义说明，查询 repositories 的接口定义如下：&lt;/p>
&lt;blockquote>
&lt;p>GET /search/repositories&lt;/p>&lt;/blockquote>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190207_115633.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>其中参数 q 是主要的查询参数，具体定义参见
&lt;a class="link" href="https://help.github.com/articles/searching-for-repositories/" target="_blank" rel="noopener"
>https://help.github.com/articles/searching-for-repositories/&lt;/a>&lt;/p>
&lt;p>比如我们要查询包含在指定日期 2018-11-11 后创建且包含关键字 automation 的 repository 信息。
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190207_120638.png"
loading="lazy"
alt="image"
>
可知 GitHub 上存在这样的 repo 数量有七千多个。&lt;/p>
&lt;p>在这个例子中，因为查询条件包含一个日期参数，而实际测试工作场景中，很多时候我们希望日期是动态生成的，比如根据当前日期取一年以前作为查询参数值，这时我们就需要对参数进行一些预处理，这就是 Pre-Script 的用武之地了。&lt;/p>
&lt;p>这时我们可以首先设置一个环境变量 created，再在 pre-script 脚本中动态预处理这个日期，来完成日期动态设置的目的。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">environment&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;created&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">getCreated&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">获取&amp;#34;YYYY-MM-DD&amp;#34;格式的日期
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">第一个入参为日期对象
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">第二个入参为年份偏移量，负数为向前偏移
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">getCreated&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">date&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">yearOffset&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">seperator1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;-&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">year&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getFullYear&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">yearOffset&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">month&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getMonth&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">day&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getDate&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">month&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">month&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">month&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;0&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">month&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">day&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">day&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">day&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;0&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">day&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">currentDate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">year&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">seperator1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">month&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">seperator1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">day&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">currentDate&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">currentDate&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在 Postman中执行如图，获取当前日期一年以来创建的 repositories 信息。
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190207_145753.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>在 Pre-Script中，主要是围绕 Postman 的变量来进行预处理，所以主要使用的就是 Postman 的变量域的一些封装方法。&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.globals.has(variableName:String)&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>是否存在某全局变量&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.globals.get(variableName:String)&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>获取全局变量&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.globals.set(variableName:String, variableValue:String)&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>设置全局变量&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.globals.unset(variableName:String)&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>取消当前全局变量设置&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.globals.clear()&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>清空全局变量&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.environment.has(variableName:String)&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>是否存在某环境变量&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.environment.get(variableName:String)&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>获取环境变量&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.environment.set(variableName:String, variableValue:String)&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>设置环境变量&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.environment.unset(variableName:String)&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>取消当前环境变量设置&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.environment.clear()&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>清空环境变量&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.variables.get(variableName:String)&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>根据变量名获取变量&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.sendRequest()&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>发送请求&lt;/p>
&lt;h3 id="postman脚本-test脚本">Postman脚本-Test脚本
&lt;/h3>&lt;p>Postman 的 Test 脚本是 Postman 另一个值得称道的特色功能，在 Test 脚本中，Postman 封装了很多丰富的校验逻辑，并结合 JS 脚本本身语言的灵活性，给测试人员对接口的判断、校验和响应处理带来极大的便利性。&lt;/p>
&lt;p>下面我们重点介绍下 Test 脚本中封装一些主要的校验方法。&lt;/p>
&lt;h4 id="判断接口响应状态码">判断接口响应状态码
&lt;/h4>&lt;p>对接口响应状态码的校验，是接口测试校验的常用手段。关于状态码的详细说明也可参见我的上一篇 Chat &lt;a class="link" href="https://gitbook.cn/gitchat/activity/5c373c316cf27775f39ee310" target="_blank" rel="noopener"
>《玩转Postman：基础篇》&lt;/a> ， 下面看一个 Postman 中进行接口校验码校验的代码:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;判断返回成功状态码&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">have&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">200&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>或者也可以使用第三方校验库 chaijs 的expect 方法来进行校验。 Chaijs 对常用的校验方式按照行为驱动开发（BDD）的描述方式进行了封装，使校验判断的代码编写方便了很多。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;expect方法判断返回成功&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">code&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">equal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">200&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>再或者我们还可以直接使用 Postman 对返回状态码的封装方法来进行判断&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Postman封装方法判断返回成功&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">be&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ok&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Postman 中直接封装了常见的返回状态校验方法：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.response.to.be.info&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>校验 1XX 信息状态码&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.response.to.be.success&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>校验 2XX 成功状态码&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.response.to.be.redirection&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>校验 3XX 重定向状态码&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.response.to.be.clientError&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>校验 4XX 客户端错误状态码&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.response.to.be.serverError&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>校验 5XX 服务端错误状态码&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.response.to.be.error&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>校验 4XX 或 5XX 错误状态码&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.response.to.be.ok&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>检验 200 的 OK 返回&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.response.to.be.accepted&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>校验状态码 202 的接受返回&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.response.to.be.badRequest&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>校验状态码 400 的请求消息错误&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.response.to.be.unauthorized&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>校验状态码 401 的认证错误&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.response.to.be.forbidden&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>校验状态码 403 的访问受限&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.response.to.be.notFound&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>校验状态码 404 的资源未见错误&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pm.response.to.be.rateLimited&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>校验状态码 429 的访问频次限制错误&lt;/p>
&lt;h4 id="校验响应时间">校验响应时间
&lt;/h4>&lt;p>除了对于返回码的校验，我们还会经常校验的一个响应指标是响应时间。Postman 对于响应时间的校验也非常简单&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;响应时间小于1s&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">responseTime&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">be&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">below&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="校验消息内容">校验消息内容
&lt;/h4>&lt;p>对接口返回内容的校验是我们判断业务逻辑正确性与否的必要手段。响应的消息头或者消息体内容我们可以通过 &lt;code>pm.response.header&lt;/code> 或者 &lt;code>pm.response.text&lt;/code> 、 &lt;code>pm.response.json&lt;/code> 来获取。在相应的校验代码中我们就可以根据获取到的内容来进一步判断响应的正确性&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;校验消息头Content-Type&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">postman&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getResponseHeader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Content-Type&amp;#34;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">include&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;application/json&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;校验消息体返回数量大于1000&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">jsonData&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">jsonData&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">total_count&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">gt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在 Postman 中执行以上校验，可以在 Response 的 Test Results 中看到校验结果
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190208_170618.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h3 id="postman脚本-接口的关联">Postman脚本-接口的关联
&lt;/h3>&lt;p>在接口测试中，经常出现的一种情况是：我们需要从另一个接口的响应中获取某些值作为当前测试接口的输入来使用。结合 Postman 的 Pre-Script 脚本和 Test 脚本以及变量功能，我们可以方便地完成内容获取和参数传递的场景。&lt;/p>
&lt;p>以下面的场景为例：&lt;/p>
&lt;blockquote>
&lt;p>从 Junit5 这个 repo 的接口信息中，获取该 repo 的创建时间，再查询在这个时间之后创建的所有包含 Junit5 字样的 repo 信息，判断 repo 数量是否超过 1000&lt;/p>&lt;/blockquote>
&lt;p>&lt;strong>方法一：&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>设置一个环境变量 created&lt;/li>
&lt;li>在获取 repo 接口 GetRepo 的 Test 脚本中获取 Junit5 这个 repo 的创建时间&lt;/li>
&lt;li>在 Test 脚本中将获取到的创建时间赋值给环境变量 created&lt;/li>
&lt;li>在查询 repo 接口中使用环境变量 created&lt;/li>
&lt;li>在查询 repo 接口中添加判断返回数量的校验代码&lt;/li>
&lt;li>通过 Runner 执行器按顺序执行这两个接口，完成关联执行&lt;/li>
&lt;/ol>
&lt;p>如图：
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190208_195305.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190208_195403.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>在 Runner 执行器中执行结果
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190208_195606.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>&lt;strong>方法二：&lt;/strong>&lt;/p>
&lt;p>在方法一中我们利用环境变量来传递参数，这种方法需要依赖 runner 执行器对接口的执行顺序来保证 GetRepo 接口在 SearchRepo 接口之前执行。&lt;/p>
&lt;p>我们也可以利用 Postman 提供的请求发送方法 &lt;code>pm.sendRequest &lt;/code>在 SearchRepo 的 pre-Script 脚本中直接完成前置请求的发送和参数获取。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sendRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://api.github.com/repos/junit-team/junit5&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">environment&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;created&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">created_at&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此时不需要利用 runner 执行器，直接执行 SearchRepo 接口，也可得到同样的结果
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190208_200927.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h3 id="postman脚本-代码复用">Postman脚本-代码复用
&lt;/h3>&lt;p>Postman 作为一个接口测试工具而不是专业的代码编辑 IDE， 并没有提供脚本的复用以及代码片、模块定义之类的功能。但借助 Postman 强大的变量和 js 语法的良好支持，我们可以变通地实现代码复用。&lt;/p>
&lt;p>我们可以将一些常用的代码片段保存到 global 变量中， 在需要使用的时候，直接调用这个 global 变量即可。&lt;/p>
&lt;p>比如上面判断返回 repo 数量是否超过 1000 这段校验代码：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;判断返回成功状态码&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">have&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">200&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;校验消息体返回数量大于1000&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">jsonData&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">jsonData&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">total_count&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">gt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>我们将它设置在 global 变量 checkRepoCount 中，在需要调用的地方，以如下代码代替即可：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">eval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">globals&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">checkRepoCount&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Postman 中如图：
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190208_203114.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h3 id="postman脚本-一个结合第三方库的复杂场景案例">Postman脚本-一个结合第三方库的复杂场景案例
&lt;/h3>&lt;p>Postman 为便于接口脚本的编写，内建支持了丰富的第三方库，官方文档中列出了详细清单
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190208_203727.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>除了前面提到的 BDD 校验库 chai, 下面我们再结合第三方时间处理库 moment 来完成一个相对复杂的场景案例实现：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">1. 获取最近 6 个月包含有 Junit5 字样且 Star 数 &amp;gt;1 的 repo 信息
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2. 判断返回 repo 数量是否 &amp;gt;0, 结果显示到 Test Result
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">3. 如果数量 &amp;gt;0 , 获取 star 数最多的 repo 信息
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">4. 判断自己是否已经 star 过这个repo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">5. 如果没有 star 过，执行 star操作
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>相关的接口如下：&lt;/p>
&lt;ul>
&lt;li>查询接口，查询关键字 junit5，star 数 &amp;gt;1 , 创建时间 6 月内， 按 star 数降序查询&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>/search/repositories?q=junit5+stars:&amp;gt;1+created:&amp;gt;{{created}}&amp;amp;sort=stars&lt;/p>&lt;/blockquote>
&lt;ul>
&lt;li>查询是否 star 了某 repo&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>GET /user/starred/:owner/:repo&lt;/p>&lt;/blockquote>
&lt;p>已 star 返回 204，未 star 返回 404&lt;/p>
&lt;ul>
&lt;li>执行 star repo 操作&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>PUT /user/starred/:owner/:repo&lt;/p>&lt;/blockquote>
&lt;p>成功则返回 204&lt;/p>
&lt;p>在查询repo接口的 Pre-Script 脚本中引入事件处理库 moment，可以看到 moment 库相比 js 本身的 date 方法，对日期的处理更加方法灵活，利用 subtract 方法可简单获取半年前的日期，无需考虑日期补零、跨年等判断，代码如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">m&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;moment&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//利用 moment 库获取六个月前日期
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">createDate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">m&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">now&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">subtract&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;months&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;YYYY-MM-DD&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">environment&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;created&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">createDate&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在查询repo接口的 Test 脚本中编写校验和后续逻辑代码：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//获取符合条件repo总数量
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">total_count&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;覆盖条件repo数量为 &amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//保存repo的owner和repo名称，查询条件为按star排序，所以index为0的repo即star数最多
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nx">repoName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">items&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">owner&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">items&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">owner&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">login&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;当前star数最多的repo是【&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">items&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">full_name&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34;】&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//需要定义请求信息，指定header和执行方法。不指定的话直接在SendRequest中使用默认为GET方法，不携带Header
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">getStarReq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;https://api.github.com/user/starred/&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">owner&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">repoName&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">method&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;GET&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//接口需要经过鉴权，代码中不能使用Postman界面设置，将鉴权信息携带在header中
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">header&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;Authorization:Bearer 84fb9e0706bab75f1d4b6f4e3586683d8c4605af&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sendRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">getStarReq&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">stared&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;当前repo已star&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">code&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">404&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">starRequest&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;https://api.github.com/user/starred/&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">owner&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">repoName&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">method&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;PUT&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//接口需要经过鉴权，代码中不能使用Postman界面设置，将鉴权信息携带在header中
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">header&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Authorization:Bearer 84fb9e0706bab75f1d4b6f4e3586683d8c4605af&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sendRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">starRequest&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">starErr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">starRes&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">starErr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">starErr&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;已star成功&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">starRes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">code&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">equal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">204&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">code&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">equal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">204&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Postman 中执行效果如图：
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190208_232013.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h3 id="结语及预告">结语及预告
&lt;/h3>&lt;p>以上就是关于 Postman 的脚本进阶使用的介绍。简单总结一下：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Postman 提供了 5 种不同的变量类型，且分别对应不同的作用域。灵活使用这些变量，可以帮助我们实现动态匹配、参数传递、代码复用等场景。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>postman 在 Collection、Folder、接口本身三层上都分别提供了两种脚本沙箱：Pre-Script、Test。Pre-Script是在接口请求之前执行，Test 是在接口响应之后执行。注意三层对象上不同的执行顺序。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Postman 脚本基于 Node.js，内建支持了丰富的第三方库，并且 Postman 自身也封装了很多上层方法，可以参考 &lt;a class="link" href="https://learning.getpostman.com/docs/postman/scripts/postman_sandbox_api_reference" target="_blank" rel="noopener"
>Postman 官方沙箱方法参考&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>所以Postman 通过丰富的变量以及强大的 js 脚本支持，可以非常灵活地帮助我们更好地完成接口测试中一些复杂的场景。&lt;/p>
&lt;p>虽然目前两篇 Chat 主要介绍了 Postman 在接口手工测试中的主要功能和使用技巧，但 Postman 其实也能非常方便地应用在自动化测试中，欢迎大家继续关注下一篇 &lt;strong>《玩转Postman：自动化篇》&lt;/strong>，我们将一起来学习：&lt;/p>
&lt;ul>
&lt;li>Postman 的批量执行工具 Runner 详解&lt;/li>
&lt;li>Postman 实现接口的流程控制&lt;/li>
&lt;li>Postman 的命令行自动化工具 NewMan 详解&lt;/li>
&lt;li>结合持续集成工具 Jenkins 实现 Postman 接口脚本的自动调度和执行&lt;/li>
&lt;/ul></description></item><item><title>Postman基础篇</title><link>https://chengxiaqiucao.github.io/post/001-postman-basic/</link><pubDate>Sun, 12 Jun 2022 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/001-postman-basic/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_210709.png" alt="Featured image of post Postman基础篇" />&lt;h3 id="前言">前言
&lt;/h3>&lt;p>本教程将结合业界广为推崇和使用的RestAPI设计典范Github API，详细介绍Postman接口测试工具的使用方法和实战技巧。&lt;/p>
&lt;p>在开始这个教程之前，先聊一下为什么接口测试在现软件行业如此重要？ 为什么我们要学习Postman？&lt;/p>
&lt;p>现代软件行业已经从传统的万维网发展到移动互联网，云计算，如今更进入到万物互联时代。软件和网络会连接我们生活的方方面面，不同的设备，不同的软件系统之间存在各式各样的联系。而接口就是不同设备、系统之间联系的桥梁，所以接口在现今和未来的软硬件产业当中都具有越来越高的重要性和地位。&lt;/p>
&lt;h4 id="什么是接口">什么是接口？
&lt;/h4>&lt;p>IT行业从WWW&lt;strong>万维网时代&lt;/strong>的C/S，B/S架构，到&lt;strong>移动互联网时代&lt;/strong>的大前端时代，发展到&lt;strong>云计算时代&lt;/strong>以IaaS（基础架构即服务），PaaS（平台即服务），SaaS（软件即服务）为代表的云端架构，如今更是进入到万物互联的&lt;strong>物联网时代&lt;/strong>，网络连接着我们生活的方方面面，而承载这些连接的连接点，就是网络接口，&lt;strong>接口是不同网络应用之间联系、交互、相互作用的入口和桥梁&lt;/strong>。&lt;/p>
&lt;p>如下图，是接口在软件系统中所处位置的示意图
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181222_160134.png"
loading="lazy"
alt="image"
>
这里UI接口和API接口分别代表用户交互接口和应用程序接口&lt;/p>
&lt;h4 id="接口测试">接口测试
&lt;/h4>&lt;p>了解了接口的概念，我们再看什么是接口测试？&lt;/p>
&lt;p>以下是百度百科中给出的定义:&lt;/p>
&lt;blockquote>
&lt;p>接口测试是测试系统组件间接口的一种测试。接口测试主要用于检测外部系统与系统之间以及内部各个子系统之间的交互点。测试的重点是要检查数据的交换，传递和控制管理过程，以及系统间的相互逻辑依赖关系等。&lt;/p>&lt;/blockquote>
&lt;p>可以看到，针对接口定义阐述后，说明了接口测试的重点包括交互的数据、过程以及背后的业务逻辑。&lt;/p>
&lt;p>再进一步看更常用的API测试的定义，这个百度没有收录，可以看下Wiki百科的定义：&lt;/p>
&lt;blockquote>
&lt;p>API testing is a type of software testing that involves testing application programming interfaces (APIs) directly and as part of integration testing to determine if they meet expectations for functionality, reliability, performance, and security.[1] Since APIs lack a GUI, API testing is performed at the message layer.[2] API testing is now considered critical for automating testing because APIs now serve as the primary interface to application logic and because GUI tests are difficult to maintain with the short release cycles and frequent changes commonly used with Agile software development and DevOps.[3][4]&lt;/p>&lt;/blockquote>
&lt;p>它是直接针对API进行测试的一类集成测试，注意wiki把接口测试归类在集成测试阶段。也就是说它更多是在系统集成时实施。然后也说明了接口测试不单纯是功能测试，还需考虑可靠性、安全、性能等。API接口测试和GUI测试不同，更多体现在消息层，并且因为GUI层在自动化测试上的先天劣势，API自动化目前是自动化测试领域以及敏捷、DevOps等研发模式的关键实践。&lt;/p>
&lt;p>下图是著名的测试金字塔，它根据不同测试类型对软件测试进行了分层，底层是针对的代码层面的单元测试，中间是service服务测试，而现今的应用服务更多是API形式来体现，服务测试也可以理解为API的测试，上层则是针对用户界面的GUI测试。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181222_161451.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>这个模型体现出在自动化测试中，越底层的自动化测试所占比重应该越大，才有更好的投入产出比。中间这一层的API测试它既不像UI层那样维护成本巨大，很难跟上快速迭代的要求，同时它又比单元测试更能在业务逻辑上进行质量验证。所以现在一般认为API测试是自动化测试实施上的优先选择&lt;/p>
&lt;h3 id="http协议基础">HTTP协议基础
&lt;/h3>&lt;p>在正式开始Postman的功能介绍前，首先还是要介绍Postman的测试对象。Postman主要是针对HTTP协议接口的测试工具，所以本章首先介绍一下HTTP协议的基础知识。&lt;/p>
&lt;blockquote>
&lt;p>HTTP，即超文本传输协议（HyperText Transfer Protocol)，是互联网上应用最为广泛的一种网络协议，目前主要使用的1.1版本，基于TCP/IP通信协议来传递数据(HTML，文件、数据、API接口消息等)&lt;/p>&lt;/blockquote>
&lt;p>http协议工作于客户端-服务器即C/S架构上
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181222_163102.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h4 id="http消息组成">HTTP消息组成
&lt;/h4>&lt;p>客户端发送一个HTTP请求到服务器，请求消息包括以下格式：&lt;/p>
&lt;p>&lt;strong>请求行（request line）、请求头部（header）、空行和请求数据&lt;/strong>四个部分。如图&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181222_163224.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>如下是一个请求百度首页的请求示例：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">GET https://www.baidu.com/ HTTP/1.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#请求方法 URL HTTP协议版本&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Host: www.baidu.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#请求服务器地址&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#以下是消息头内容&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Connection: keep-alive
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#连接方式：长连接&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Cache-Control: max-age&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#请求缓存控制，需确认请求内容是否有修改&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Upgrade-Insecure-Requests: &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#支持https协议&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">User-Agent: Mozilla/5.0 &lt;span class="o">(&lt;/span>Windows NT 10.0&lt;span class="p">;&lt;/span> Win64&lt;span class="p">;&lt;/span> x64&lt;span class="o">)&lt;/span> AppleWebKit/537.36 &lt;span class="o">(&lt;/span>KHTML, like Gecko&lt;span class="o">)&lt;/span> Chrome/71.0.3578.98 Safari/537.36
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#请求客户端，浏览器版本&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Accept: text/html,application/xhtml+xml,application/xml&lt;span class="p">;&lt;/span>&lt;span class="nv">q&lt;/span>&lt;span class="o">=&lt;/span>0.9,image/webp,image/apng,*/*&lt;span class="p">;&lt;/span>&lt;span class="nv">q&lt;/span>&lt;span class="o">=&lt;/span>0.8
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#支持的响应内容类型&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Accept-Encoding: gzip, deflate, br
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#支持的编码类型&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Accept-Language: zh-CN,zh&lt;span class="p">;&lt;/span>&lt;span class="nv">q&lt;/span>&lt;span class="o">=&lt;/span>0.9,en&lt;span class="p">;&lt;/span>&lt;span class="nv">q&lt;/span>&lt;span class="o">=&lt;/span>0.8
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#支持的语言&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Cookie: &lt;span class="nv">BAIDUID&lt;/span>&lt;span class="o">=&lt;/span>C0A2...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#携带的cookie信息&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#未携带请求消息体，body为空&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>服务器接收并处理客户端发过来的请求，返回一个HTTP的响应消息。也由四个部分组成，分别是：&lt;/p>
&lt;p>&lt;strong>响应状态行、消息报头、空行和响应正文&lt;/strong>。 如图&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181222_163802.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>如下是百度首页的响应示例&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">HTTP/1.1 &lt;span class="m">200&lt;/span> OK
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#协议版本 消息状态码 状态描述&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Bdpagetype: &lt;span class="m">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Bdqid: 0x8707d7d80001f34e
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#自定义消息头&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Cache-Control: private
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#缓存控制策略&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Connection: Keep-Alive
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#长连接&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Content-Type: text/html&lt;span class="p">;&lt;/span>&lt;span class="nv">charset&lt;/span>&lt;span class="o">=&lt;/span>utf-8
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#响应内容类型&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Date: Sat, &lt;span class="m">22&lt;/span> Dec &lt;span class="m">2018&lt;/span> 08:54:51 GMT
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#响应时间&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Expires: Sat, &lt;span class="m">22&lt;/span> Dec &lt;span class="m">2018&lt;/span> 08:54:51 GMT
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#过期失效时间&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Server: BWS/1.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#服务器系统及版本&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Set-Cookie: &lt;span class="nv">BDSVRTM&lt;/span>&lt;span class="o">=&lt;/span>372&lt;span class="p">;&lt;/span> &lt;span class="nv">path&lt;/span>&lt;span class="o">=&lt;/span>/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Set-Cookie: &lt;span class="nv">BD_HOME&lt;/span>&lt;span class="o">=&lt;/span>1&lt;span class="p">;&lt;/span> &lt;span class="nv">path&lt;/span>&lt;span class="o">=&lt;/span>/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Set-Cookie: &lt;span class="nv">path&lt;/span>&lt;span class="o">=&lt;/span>/&lt;span class="p">;&lt;/span> &lt;span class="nv">domain&lt;/span>&lt;span class="o">=&lt;/span>.baidu.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#设置客户端cookie&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Strict-Transport-Security: max-age&lt;span class="o">=&lt;/span>&lt;span class="m">172800&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#严格安全传输，有效时间&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">X-Ua-Compatible: &lt;span class="nv">IE&lt;/span>&lt;span class="o">=&lt;/span>Edge,chrome&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#兼容浏览器版本&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Content-Length: &lt;span class="m">191722&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#消息体长度&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#以下消息体内容&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;!Doctype html&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;html &lt;span class="nv">xmlns&lt;/span>&lt;span class="o">=&lt;/span>http://www.w3.org/1999/xhtml&amp;gt;&amp;lt;head&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="http方法">HTTP方法
&lt;/h4>&lt;p>HTTP方法是请求消息中携带的关键信息，告知服务器本次请求希望进行的操作类型。目前在HTTP1.1版本中常见以下方法&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: center">No.&lt;/th>
&lt;th style="text-align: center">方法&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: center">1&lt;/td>
&lt;td style="text-align: center">GET&lt;/td>
&lt;td>请求指定的页面信息，并返回实体主体。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">2&lt;/td>
&lt;td style="text-align: center">HEAD&lt;/td>
&lt;td>类似于get请求，只不过返回的响应中没有具体的内容，用于获取报头&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">3&lt;/td>
&lt;td style="text-align: center">POST&lt;/td>
&lt;td>向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的建立和/或已有资源的修改。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">4&lt;/td>
&lt;td style="text-align: center">PUT&lt;/td>
&lt;td>从客户端向服务器传送的数据取代指定的文档的内容。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">5&lt;/td>
&lt;td style="text-align: center">DELETE&lt;/td>
&lt;td>请求服务器删除指定的页面。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">6&lt;/td>
&lt;td style="text-align: center">CONNECT&lt;/td>
&lt;td>HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">7&lt;/td>
&lt;td style="text-align: center">TRACE&lt;/td>
&lt;td>回显服务器收到的请求，主要用于测试或诊断。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">8&lt;/td>
&lt;td style="text-align: center">PATCH&lt;/td>
&lt;td>从客户端向服务器传送数据，取代指定文档的部分内容&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="http状态码">HTTP状态码
&lt;/h4>&lt;p>HTTP状态码定义了服务器端处理HTTP请求的结果信息，主要包含以下五类：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>状态码&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1XX&lt;/td>
&lt;td>已接收，待处理&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2XX&lt;/td>
&lt;td>请求处理成功&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3XX&lt;/td>
&lt;td>重定向，资源位置发生变化&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4XX&lt;/td>
&lt;td>客户端请求信息错误&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5XX&lt;/td>
&lt;td>服务端处理发生错误&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h5 id="1xx-消息">&lt;strong>1xx 消息&lt;/strong>
&lt;/h5>&lt;p>这一类型的状态码，代表请求已被接受，需要继续处理。这类响应是临时响应，只包含状态行和某些可选的响应头信息，并以空行结束。由于HTTP/1.0协议中没有定义任何1xx状态码，所以除非在某些试验条件下，服务器禁止向此类客户端发送1xx响应。[4] 这些状态码代表的响应都是信息性的，标示客户应该采取的其他行动。&lt;/p>
&lt;h5 id="2xx-成功">&lt;strong>2xx 成功&lt;/strong>
&lt;/h5>&lt;p>这一类型的状态码，代表请求已成功被服务器接收、理解、并接受。&lt;/p>
&lt;h5 id="3xx-重定向">&lt;strong>3xx 重定向&lt;/strong>
&lt;/h5>&lt;p>这类状态码代表需要客户端采取进一步的操作才能完成请求。通常，这些状态码用来重定向，后续的请求地址（重定向目标）在本次响应的Location域中指明。&lt;/p>
&lt;h5 id="4xx-客户端错误">&lt;strong>4xx 客户端错误&lt;/strong>
&lt;/h5>&lt;p>这类的状态码代表了客户端看起来可能发生了错误，妨碍了服务器的处理。除非响应的是一个HEAD请求，否则服务器就应该返回一个解释当前错误状况的实体，以及这是临时的还是永久性的状况。这些状态码适用于任何请求方法。浏览器应当向用户显示任何包含在此类错误响应中的实体内容&lt;/p>
&lt;h5 id="5xx-服务器错误">&lt;strong>5xx 服务器错误&lt;/strong>
&lt;/h5>&lt;p>表示服务器无法完成明显有效的请求。这类状态码代表了服务器在处理请求的过程中有错误或者异常状态发生，也有可能是服务器意识到以当前的软硬件资源无法完成对请求的处理。除非这是一个HEAD请求，否则服务器应当包含一个解释当前错误状态以及这个状况是临时的还是永久的解释信息实体。浏览器应当向用户展示任何在当前响应中被包含的实体。这些状态码适用于任何响应方法。&lt;/p>
&lt;p>&lt;em>详细的状态码清单可参见附录&lt;/em>&lt;/p>
&lt;h3 id="github-api">GitHub API
&lt;/h3>&lt;p>本教程后续将主要使用Github API作为实战介绍API。 本章会简要介绍Github网站以及Github API。&lt;/p>
&lt;p>GitHub 是一个面向开源及私有软件项目的托管平台，因为只支持 Git 作为唯一的版本库格式进行托管，故名 GitHub。也是目前全球最大的代码托管平台，可以说是程序员的圣地，号称全球最大的同性交友平台:joy:
(Github 国内有时会间歇性无法访问，可能需要科学上网)&lt;/p>
&lt;h4 id="github-中的一些主要概念">github 中的一些主要概念
&lt;/h4>&lt;ol>
&lt;li>&lt;strong>提交（commit）&lt;/strong>：提交更改到仓库（本地Git仓库与GitHub仓库是两码事）。&lt;/li>
&lt;li>&lt;strong>提交信息（commit message）&lt;/strong>：每次提交的时候，需要提供一个信息，描述这次提交都做了什么。&lt;/li>
&lt;li>&lt;strong>分支（branch）&lt;/strong>：像树状图一样，每个独立的分支都是项目的一个版本，分支都可以与master合并。&lt;/li>
&lt;li>&lt;strong>主分支（master branch）&lt;/strong>：所有的Git项目在最初创建时，都会默认创建出一个分支，这就是主分支。在开发中，写一个新功能的时候，都是先建立一个分支，在该分支上完成功能并测试，通过后由项目leader将该分支merge到master上。&lt;/li>
&lt;li>&lt;strong>功能分支（feature branch）&lt;/strong>：没怎么用过&lt;/li>
&lt;li>&lt;strong>发布分支（release branch）&lt;/strong>：如果有一个手动QA（质量管理）流程，或者必须要支持旧版本的软件时，需要一个发布分支来存放必要的补丁与更新记录。功能分支和发布分支没技术区别，只是在团队间讨论的时候，有助于区分类别。&lt;/li>
&lt;li>&lt;strong>合并（merge）&lt;/strong>：merge可以将一个分支上的全部内容归并到另一个分支上，一般就是将分支merge到主分支。&lt;/li>
&lt;li>&lt;strong>标签（tag）&lt;/strong>：常用于记录发布版本，在版本发布的时候，给一个tag，这样就能够记录该版本的代码是何时生成的。&lt;/li>
&lt;li>&lt;strong>查看（check out）&lt;/strong>：一般就是查看某一个分支上操作的记录。&lt;/li>
&lt;li>&lt;strong>拉取（pull request）&lt;/strong>：一般用来从远程仓库拉取分支中的代码到本地，也可以从本地仓库中拉取分支代码到当前工程中。&lt;/li>
&lt;li>&lt;strong>提出问题（issue）&lt;/strong>：GitHub的提出问题的功能，一般遇到问题，可以将出现问题的场合，通过issue的方式记录。&lt;/li>
&lt;li>&lt;strong>维基（WIKI）&lt;/strong>：一个轻量级的Web页面创建方式，创建的Web页面之间可以通过链接互相联系。GitHub中的项目通常使用WIKi进行文档记录。&lt;/li>
&lt;li>&lt;strong>克隆（clone）&lt;/strong>：从GitHub上下载一个副本到本地，操作后可以pull上去。&lt;/li>
&lt;li>&lt;strong>分叉（fork）&lt;/strong>：A复制一个B的项目到自己的账户下，修改后再提交，B能看到A修改的内容，但是B原本的项目是不会有变动的。&lt;/li>
&lt;/ol>
&lt;h4 id="github-主界面功能">github 主界面功能
&lt;/h4>&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_203928.png"
loading="lazy"
alt="image"
>
&lt;a class="link" href="http://blog.csdn.net/android_zyf/article/details/64175941" target="_blank" rel="noopener"
>图片转自george_zyf的博客&lt;/a>&lt;/p>
&lt;h4 id="github-api-1">Github API
&lt;/h4>&lt;p>目前Github API最新的V4版本是基于GraphQL的API，但常用的还是V3的&lt;a class="link" href="https://developer.github.com/v3/" target="_blank" rel="noopener"
>Restful API&lt;/a>&lt;/p>
&lt;h5 id="github-api中几类主要资源及对应操作">&lt;strong>github API中几类主要资源及对应操作&lt;/strong>
&lt;/h5>&lt;p>User 资源&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_200328.png"
loading="lazy"
alt="user"
>&lt;/p>
&lt;p>Repo 操作&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_200253.png"
loading="lazy"
alt="repos"
>&lt;/p>
&lt;p>issue 操作&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_200314.png"
loading="lazy"
alt="issues"
>&lt;/p>
&lt;p>&lt;em>图片来自&lt;a class="link" href="https://blog.csdn.net/woshinannan741/article/details/78541029" target="_blank" rel="noopener"
>网络&lt;/a>&lt;/em>&lt;/p>
&lt;h5 id="github-中的时间格式">&lt;strong>github 中的时间格式&lt;/strong>
&lt;/h5>&lt;p>github 中时间格式如下：&lt;/p>
&lt;blockquote>
&lt;p>YYYY-MM-DDTHH:MM:SSZ&lt;/p>&lt;/blockquote>
&lt;h5 id="github-限流规则">&lt;strong>github 限流规则&lt;/strong>
&lt;/h5>&lt;p>github 为包含服务端负载压力，会对请求流量进行限制。在每个 github 的响应消息头中都会携带 github 的限流设置。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>头参数&lt;/th>
&lt;th>含义&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>X-RateLimit-Limit&lt;/td>
&lt;td>当前每小时最大请求限制，一般未鉴权请求60次，鉴权请求5000次&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>X-RateLimit-Remaining&lt;/td>
&lt;td>当前剩余请求次数&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>X-RateLimit-Reset&lt;/td>
&lt;td>剩余限制重置时间，毫秒&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h5 id="请求参数与分页">&lt;strong>请求参数与分页&lt;/strong>
&lt;/h5>&lt;p>请求中可以携带参数，一般包含两种参数: &lt;strong>路径参数&lt;/strong>和&lt;strong>查询参数&lt;/strong>
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190119_121133.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>github API中默认支持两个分页参数：&lt;/p>
&lt;ul>
&lt;li>page 当前显示页数&lt;/li>
&lt;li>per_page 每页显示结果数&lt;/li>
&lt;/ul>
&lt;h3 id="postman-基础">Postman 基础
&lt;/h3>&lt;p>可以用于Rest接口测试的测试工具非常多，常见的有soapUI、Jmeter、fiddler等都经常用来做接口测试。但是目前在接口测试人员中最流行，最常见还是本章向大家介绍的Postman。&lt;/p>
&lt;h4 id="postman-的安装">Postman 的安装
&lt;/h4>&lt;p>Postman最早的版本，以及很长一段时间都是以Chrome插件的形式存在的。以至很多人甚至认为postman就是google的官方工具插件，我们目前能看到的大量资料也都是基于chrome的插件形式来进行介绍的。&lt;/p>
&lt;p>但是目前Postman其实已经推出了独立的本地App程序，并且官方已经宣布不再支持chrome的插件形式。虽然插件版本现在还能使用，可是毕竟相比Native版本，受限于chrome浏览器的功能，很多功能在插件版本中是欠缺的，比如cookie的内建支持，代理功能，控制台功能等等。所以此处就不再介绍插件版本的安装。&lt;/p>
&lt;p>本地版本的安装，其实也非常简单。从官网根据自己操作系统的类型选择相应的版本下载即可。
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_210709.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>这里还有一点要注意下，在postman的官网，我们最好注册一个账号，后续在使用postman的时候很多高级功能需要用这个账号登录后才可以使用。&lt;/p>
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_210848.png" width = "320" height = "450" />
&lt;p>安装完成，在桌面上出现Postman那个pose很帅的小人图标&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_211842.png" width = "30" height = "33" />，则安装完成。&lt;/p>
&lt;h4 id="postman-主界面">Postman 主界面
&lt;/h4>&lt;p>打开Postman进入，首次会提示选择希望创建的任务类型。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_212729.png"
loading="lazy"
alt="image"
>
这里有六种任务类型，我们再下面的实战中都会详细讲解，这里先简单说明一下：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Request&lt;/strong>是Postman软件的基础和核心，也就是通过这个功能来创建request请求，完成接口测试的核心工作。&lt;/li>
&lt;li>&lt;strong>Collection&lt;/strong>其实是个集合，我们可以认为是一批Request请求的集合，或者说测试集。它也是Postman一些进阶功能的基本单位&lt;/li>
&lt;li>&lt;strong>Environment&lt;/strong>，字面理解就是环境，其实可以认为是一些配置变量的集合，实际应用中可以起到通过不同配置区分不同测试环境的效果
后面这三个都是Postman的高级功能&lt;/li>
&lt;li>&lt;strong>API documention&lt;/strong>，是通过我们调试通过的request来自动生成接口文档，便于团队的共享和接口的交付。&lt;/li>
&lt;li>&lt;strong>Mock server&lt;/strong>
在我们进行接口测试或开发的时候，很多时候是需要模拟对端的接口服务器的，Mock server就起到的模拟服务器端的作用。&lt;/li>
&lt;li>&lt;strong>Monitor&lt;/strong>
这是个监控功能，通过monitor我可以监控我的接口是不是正常。说白了，这其实就是个定时的接口执行功能。&lt;/li>
&lt;/ul>
&lt;p>大致了解下几种不同的任务类型，我们先关掉这个界面，我们再来看看主界面的功能区间
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_221026.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h5 id="banner-区域">&lt;strong>Banner 区域&lt;/strong>
&lt;/h5>&lt;p>首先是上面的菜单栏，对应功能区的各项功能，在菜单栏上都能找到对应的菜单。然后是下面的banner区域。
从左到右依次介绍：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_213611.png"
loading="lazy"
alt="image"
>会打开启动时的创建窗口，用于创建六种类型的任务。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_213722.png"
loading="lazy"
alt="image"
>按钮，可以用于导入外部文件，外部文件可以是postman的Collection格式文件，数据文件，以及其他的API定义文件&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_213808.png"
loading="lazy"
alt="image"
>则会启动Collection runner，它是一个运行器，用于运行已经建立的测试任务。我们后面会有详细介绍&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_213839.png"
loading="lazy"
alt="image"
>第四个按钮，可以新建tab，或者多开一个postman程序，或者runer程序。&lt;/p>
&lt;p>中间&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_214059.png"
loading="lazy"
alt="image"
>是选择使用的workspace，但这个需要账号登录，会同步云端的workspace设置。每个账号会有一个默认的workspace，workspace它是一个工作空间，大家可以理解成类似项目或者工程。&lt;/p>
&lt;p>banner条右侧还有几个按钮&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_214216.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>第一个是同步，也是在有账号的情况下，可以在多个电脑间同步workspace内的相关接口测试设计。&lt;/li>
&lt;li>第二个proxy，则类似前面介绍过的fiddler，提供代理抓取API功能。当然这个功能postman不像Fiddler那样丰富&lt;/li>
&lt;li>第三个按钮包括setting以及文档指南。 setting里是软件的本地配置&lt;/li>
&lt;li>第四个按钮是消息通知，很好理解，会显示一些提醒信息&lt;/li>
&lt;li>然后是postman的twitter，在墙后面就不要去看了&lt;/li>
&lt;li>最后是登录，可以用postman的账号的登录&lt;/li>
&lt;/ul>
&lt;h5 id="setting-设置">&lt;strong>Setting 设置&lt;/strong>
&lt;/h5>&lt;p>Postman 工具的使用属性和应用设置我们可以在Setting 中国进行设置。以下分别说明：&lt;/p>
&lt;h6 id="general">&lt;strong>General&lt;/strong>
&lt;/h6>&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190119_113726.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h6 id="themes">&lt;strong>Themes&lt;/strong>
&lt;/h6>&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190119_113828.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h6 id="shortcuts">&lt;strong>Shortcuts&lt;/strong>
&lt;/h6>&lt;p>工具快捷键
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190119_113904.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h6 id="data">&lt;strong>Data&lt;/strong>
&lt;/h6>&lt;p>工具数据导入导出
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190119_114000.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h6 id="add-ons">&lt;strong>add-ons&lt;/strong>
&lt;/h6>&lt;p>Newman 插件下载方法
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190119_114231.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h6 id="sync">&lt;strong>Sync&lt;/strong>
&lt;/h6>&lt;p>同步设置
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190119_114249.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h6 id="certificates">&lt;strong>certificates&lt;/strong>
&lt;/h6>&lt;p>本地证书设置
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190119_114304.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h6 id="proxy">&lt;strong>Proxy&lt;/strong>
&lt;/h6>&lt;p>本地网络代理设置
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190119_114316.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h6 id="update">&lt;strong>update&lt;/strong>
&lt;/h6>&lt;p>升级设置
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190119_114330.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h6 id="about">&lt;strong>about&lt;/strong>
&lt;/h6>&lt;p>工具**关于&amp;hellip;**等版本信息
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190119_114343.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h5 id="左侧边栏">&lt;strong>左侧边栏&lt;/strong>
&lt;/h5>&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_215120.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>filter筛选栏，筛选显示不同的消息&lt;/li>
&lt;li>history是操作消息记录清单&lt;/li>
&lt;li>collection如前面介绍，显示请求集合&lt;/li>
&lt;/ul>
&lt;h5 id="底边状态栏">&lt;strong>底边状态栏&lt;/strong>
&lt;/h5>&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_215400.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>最左面，显示和关闭左侧边栏&lt;/li>
&lt;li>然后是搜索功能，这个容易理解&lt;/li>
&lt;li>第三个是控制台，可以在这里看到消息相互的详细信息&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_215445.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>用户指南&lt;/li>
&lt;li>调整功能区显示样式&lt;/li>
&lt;li>快捷键清单参考&lt;/li>
&lt;li>帮助相关的连接&lt;/li>
&lt;/ul>
&lt;h5 id="主功能区">&lt;strong>主功能区&lt;/strong>
&lt;/h5>&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_215313.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>主要包括上下两部分，上面是request区，下面是response区。也可以分成左右显示。&lt;/p>
&lt;h6 id="request区域">&lt;strong>Request区域&lt;/strong>
&lt;/h6>&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_221203.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>request部分默认开启了一个选项卡，可以新开多个选项卡便于同时编辑。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_221316.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>默认使用的是GET方法，这也是使用最多的HTTP方法，下拉可以选择其他的方法，常用的还有哪些？ POST、PUT、Delete等。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_221359.png"
loading="lazy"
alt="image"
>
URL部分输入请求的地址。比如我们输入GithubAPI的根地址。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_221529.png"
loading="lazy"
alt="image"
>
param是参数管理界面，在这里我们可以添加参数（有key-value，块编辑模式）。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_221557.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>Send发送请求，小箭头下send and download，会在发送以后把响应消息导出成json保存。旁边的save，保存功能，其实是把这个request作为一个case保存到collection里。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_221704.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>鉴权部分，虽然request编辑器已经足够强大可以处理鉴权消息，但是很多时候鉴权是个使用频率很高的功能，所以Postman单独把鉴权部分抽取出来，并且封装了目前的绝大部分鉴权方式&lt;/p>
&lt;ul>
&lt;li>&lt;strong>继承&lt;/strong>，默认鉴权方式&lt;/li>
&lt;li>&lt;strong>不鉴权&lt;/strong>&lt;/li>
&lt;li>&lt;strong>bearer token&lt;/strong>鉴权，一般也叫Json web token，其实就是发送一个json格式的token令牌，服务端会针对token进行解密验证&lt;/li>
&lt;li>&lt;strong>Basic Auth&lt;/strong>基础验证，提供用户名密码验证，postman 会自动生成authorization，常用鉴权方式&lt;/li>
&lt;li>&lt;strong>digest auth&lt;/strong>，摘要式认证
在基本身份认证上面扩展了安全性，服务器为每一个连接生成一个唯一的随机数，客户端用这个随机数对密码进行MD5加密，然后返回服务器，服务器也用这个随机数对密码进行加密，然后和客户端传送过来的加密数据进行比较,如果一致就返回结果。
它是一个二次验证的过程，会有两次认证交互消息
客户端请求资源-&amp;gt;服务器返回认证标示-&amp;gt;客户端发送认证信息-&amp;gt;服务器查验认证&lt;/li>
&lt;li>&lt;strong>Oauth&lt;/strong>，一般用于第三方认证，有1,2两个版本，需要提供的信息不太一样。也是常用的鉴权方式&lt;/li>
&lt;li>&lt;strong>Hawk&lt;/strong> 认证，是另一种认证方案，采用的叫消息码认证算法，和Digest认证类似，它也是需要二次交互的&lt;/li>
&lt;li>&lt;strong>AWS签名&lt;/strong>认证，是针对亚马逊的AWS公有云用户签名的认证方式&lt;/li>
&lt;li>&lt;strong>NTLM&lt;/strong>是微软的局域网管理认证协议&lt;/li>
&lt;/ul>
&lt;p>大家有个基本了解即可，一般比较常用的就是basic以及OAuth2了。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_221901.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>header就是消息头管理，可以定义头部信息。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_221935.png"
loading="lazy"
alt="image"
>
Body，请求消息体。一般Post、put、patch等会更新内容的请求才会携带消息体，&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_222023.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>旁边pre-script，是指在请求发送前，可以做一些预处理的工作，类似junit等单元测试框架中的setup方法，支持js脚本语法&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_222100.png"
loading="lazy"
alt="image"
>
Test则是在响应以后，对响应进行校验或其他处理的，类似junit框架中的teardown方法，同样支持js脚本语法&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_222148.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>cookie管理postman本地cookie信息&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_222218.png"
loading="lazy"
alt="image"
>
code是一个方便程序员的功能，可以自动将接口请求转化成相关语言编码，可以看到支持的语言非常丰富，基本涵盖了各种主流编程语言。&lt;/p>
&lt;h6 id="response区域">&lt;strong>Response区域&lt;/strong>
&lt;/h6>&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_222427.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>响应消息右上角是状态码，悬停可以看到详细解释。另外是响应时间（从发出请求到返回客户端接收的时间），以及消息大小（含消息头和消息体）。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190102_203757.png"
loading="lazy"
alt="image"
>
响应body部分，即消息体。包括以下几个按钮&lt;/p>
&lt;ul>
&lt;li>pretty，可以根据表现类型进行格式化显示，默认json，如果是其他格式类型，可以选择对应形式进行格式化。&lt;/li>
&lt;li>Raw则是未格式化的形式&lt;/li>
&lt;li>preview则是预览，就是在浏览器里渲染后呈现的样子，比如返回的是html就很直观。&lt;/li>
&lt;li>旁边是自动换行按钮。&lt;/li>
&lt;/ul>
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190102_203931.png" width = "300" height = "83" />
&lt;p>右边是拷贝到剪切板和查询按钮（正则，大小写敏感、全词匹配）&lt;/p>
&lt;p>其他的几个tab：&lt;/p>
&lt;ul>
&lt;li>cookie：响应消息的cookie信息&lt;/li>
&lt;li>header：响应消息的header头部信息&lt;/li>
&lt;li>Test Results：在请求中添加test Script后，这里会显示测试脚本的校验结果&lt;/li>
&lt;/ul>
&lt;h4 id="postman中完成github鉴权">&lt;strong>Postman中完成Github鉴权&lt;/strong>
&lt;/h4>&lt;p>从Github API文档中，我们可以看到Github API支持多种鉴权方式&lt;/p>
&lt;ul>
&lt;li>Basic authentication&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">curl -u &amp;#34;username&amp;#34; https://api.github.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这是基本鉴权方式&lt;/p>
&lt;ul>
&lt;li>OAuth2 token (sent in a header)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">curl -H &amp;#34;Authorization: token OAUTH-TOKEN&amp;#34; https://api.github.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>也支持通过在Header中携带Oauth2的token进行鉴权。在github用户设置中可以生成这个token。&lt;/p>
&lt;p>&lt;strong>个人设置 &amp;gt; Settings &amp;gt; Developer settings &amp;gt; Personal access tokens&lt;/strong>
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190103_221722.png"
loading="lazy"
alt="image"
>
生成后会获得一个token字串
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190103_221844.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;ul>
&lt;li>OAuth2 token (sent as a parameter)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">curl https://api.github.com/?access_token=OAUTH-TOKEN
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>或者通过在URL中携带token参数鉴权。&lt;/p>
&lt;p>Postman中，可以在Collection中设置鉴权
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190103_222236.png"
loading="lazy"
alt="image"
>
在具体的请求消息中，可以选择&lt;strong>Inherit auth from parent&lt;/strong>，即继承上一层的鉴权。发送请求后，可以看到已经在header中携带了鉴权的token信息
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190103_222500.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>根据&lt;a class="link" href="https://developer.github.com/v3/#rate-limiting" target="_blank" rel="noopener"
>Github API的定义&lt;/a>，对于请求有访问限制，即未鉴权的请求限制访问为每分钟60次，对于已鉴权的请求访问每分钟5000次。&lt;/p>
&lt;p>我们从响应消息的消息头中可以看到这个设置，如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">X-RateLimit-Limit →5000
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">X-RateLimit-Remaining →4999
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">X-RateLimit-Reset →1546528838
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="postman实现基本http方法">Postman实现基本HTTP方法
&lt;/h4>&lt;p>再来看如何在Postman中实现常用的HTTP方法。还是以GithubAPI为例：&lt;/p>
&lt;h5 id="get方法---获取repo信息">&lt;strong>GET方法 - 获取Repo信息&lt;/strong>
&lt;/h5>&lt;blockquote>
&lt;p>GET /repos/:owner/:repo&lt;/p>&lt;/blockquote>
&lt;p>这里是&lt;a class="link" href="https://developer.github.com/v3/repos/#get" target="_blank" rel="noopener"
>获取Github上Repo信息的API&lt;/a>，这里有两个路径参数，owner代表用户账号，repo指需要获取的repo信息。
如图是在postman中设置路径参数的方法。
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190103_223645.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h5 id="post方法---创建repo">&lt;strong>POST方法 - 创建Repo&lt;/strong>
&lt;/h5>&lt;p>创建Repo的示例(&lt;a class="link" href="https://developer.github.com/v3/repos/#create" target="_blank" rel="noopener"
>https://developer.github.com/v3/repos/#create&lt;/a>)&lt;/p>
&lt;blockquote>
&lt;p>POST /user/repos&lt;/p>&lt;/blockquote>
&lt;p>这里是一个创建hello world的Repo的请求消息体示例&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Hello-World&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;This is your first repository&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;homepage&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://github.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;private&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;has_issues&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;has_projects&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;has_wiki&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这里name是必填字段，其他是repo的属性设置。
在Postman中如图提交，返回状态码201 created，即可创建一个Hello world的Repo
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190103_225411.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>在Github中，可以看到账号下新增了一个hello world的repo，并且包含有已设置的issue、projects、wiki这几个栏目
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190103_225748.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h5 id="patch方法---修改repo">&lt;strong>PATCH方法 - 修改Repo&lt;/strong>
&lt;/h5>&lt;p>GitHub可以&lt;a class="link" href="https://developer.github.com/v3/repos/#edit" target="_blank" rel="noopener"
>通过PATCH方法来对Repo进行修改&lt;/a>.PATCH方法和PUT方法都是update的修改方法，但PATCH方法更多用在部分修改的场景下，PUT方法则更多是整体替换。&lt;/p>
&lt;blockquote>
&lt;p>PATCH /repos/:owner/:repo&lt;/p>&lt;/blockquote>
&lt;p>比如上例中hello world这个repo修改Repo中的部分信息，可以去除projects和wiki这两个栏目
消息体：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Hello-World&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;This is your first repository&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;homepage&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://github.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;has_projects&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;has_wiki&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Postman中如图：
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190103_230702.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>回到Github，可以看到Repo中对应的栏目已经不见了
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190103_230752.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h5 id="put方法---设置或替换topic">&lt;strong>PUT方法 - 设置或替换Topic&lt;/strong>
&lt;/h5>&lt;p>Topic是Github上Repo的搜索关键字，便于用户进行repo查询。&lt;/p>
&lt;blockquote>
&lt;p>PUT /repos/:owner/:repo/topics&lt;/p>&lt;/blockquote>
&lt;p>Github API设置topic的api是使用put方法提交一个topic数组，如&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;names&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;restapi&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;atom&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;chengxiaqiucao&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这时在Postman中提交，会发现有如下报错：
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190106_151630.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>这是因为Github API要求设置topic时，需要在header中设置accept字段,取值：&lt;/p>
&lt;blockquote>
&lt;p>application/vnd.github.mercy-preview+json&lt;/p>&lt;/blockquote>
&lt;p>正确设置后，则可以看到设置成功,返回200 OK
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190106_151935.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190106_152005.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>大家可能会发现一个小bug，当设置的topic存在大写字符时，会出现格式报错。比如大家参照官方示例设置&amp;quot;API&amp;quot;这样的topic，会发现设置不成功。大家可以尝试一下。&lt;/p>
&lt;h5 id="delete方法---删除repo">&lt;strong>DELETE方法 - 删除Repo&lt;/strong>
&lt;/h5>&lt;p>Github API中，使用delete方法可以删除repo&lt;/p>
&lt;blockquote>
&lt;p>DELETE /repos/:owner/:repo&lt;/p>&lt;/blockquote>
&lt;p>删除成功后，返回204.
&lt;img src="https://chengxiaqiucao.github.io/frontEndDemo/images/20190106_152302.png"
loading="lazy"
alt="image"
>
此时再查询账号，应该发现Hello-World这个repo已经被删除了&lt;/p>
&lt;h4 id="结语及预告">结语及预告
&lt;/h4>&lt;p>至此，我们通过Github API中几个实际的例子，学习了如何通过Postman来完成一些基本的HTTP方法的请求发送和响应查看，通过查看结果状态码或响应内容来判断结果正确性。&lt;/p>
&lt;p>当然Postman的功能远不止于此，API接口测试中也还有很多复杂的场景需要特别处理。
欢迎大家继续关注 &lt;strong>《玩转Postman - 进阶篇》&lt;/strong>。在进阶篇中我们将继续深入讲解Postman的进阶功能，并结合一些复杂的实例场景来学习：&lt;/p>
&lt;ul>
&lt;li>Postman 的变量类型及其作用域&lt;/li>
&lt;li>环境与 Collection;&lt;/li>
&lt;li>Postman 如何通过内建脚本实现接口预处理&lt;/li>
&lt;li>Postman 实现测试结果的脚本校验；&lt;/li>
&lt;li>如何实现接口的关联测试&lt;/li>
&lt;li>Postman 中的 JavaScript 扩展&lt;/li>
&lt;/ul>
&lt;h3 id="附录">附录
&lt;/h3>&lt;p>HTTP状态码详解（译自Wiki百科，目前所见最全面的解释）
&lt;img src="C:/Backup/Dan/Blog/blog_images/20230617_090217.png"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h3 id="1xx-消息-1">1xx 消息
&lt;/h3>&lt;p>这一类型的状态码，代表请求已被接受，需要继续处理。这类响应是临时响应，只包含状态行和某些可选的响应头信息，并以空行结束。由于HTTP/1.0协议中没有定义任何1xx状态码，所以除非在某些试验条件下，服务器禁止向此类客户端发送1xx响应。[4] 这些状态码代表的响应都是信息性的，标示客户应该采取的其他行动。&lt;/p>
&lt;h6 id="100-continue">&lt;strong>100 Continue&lt;/strong>
&lt;/h6>&lt;p>服务器已经接收到请求头，并且客户端应继续发送请求主体（在需要发送身体的请求的情况下：例如，POST请求），或者如果请求已经完成，忽略这个响应。服务器必须在请求完成后向客户端发送一个最终响应。要使服务器检查请求的头部，客户端必须在其初始请求中发送Expect: 100-continue作为头部，并在发送正文之前接收100 Continue状态代码。响应代码417期望失败表示请求不应继续。&lt;/p>
&lt;h5 id="101-switching-protocols">&lt;strong>101 Switching Protocols&lt;/strong>
&lt;/h5>&lt;p>服务器已经理解了客户端的请求，并将通过Upgrade消息头通知客户端采用不同的协议来完成这个请求。在发送完这个响应最后的空行后，服务器将会切换到在Upgrade消息头中定义的那些协议。
只有在切换新的协议更有好处的时候才应该采取类似措施。例如，切换到新的HTTP版本（如HTTP/2）比旧版本更有优势，或者切换到一个实时且同步的协议（如WebSocket）以传送利用此类特性的资源。&lt;/p>
&lt;h5 id="102-processingwebdavrfc-2518">&lt;strong>102 Processing（WebDAV；RFC 2518）&lt;/strong>
&lt;/h5>&lt;p>WebDAV请求可能包含许多涉及文件操作的子请求，需要很长时间才能完成请求。该代码表示​​服务器已经收到并正在处理请求，但无响应可用。[6]这样可以防止客户端超时，并假设请求丢失。&lt;/p>
&lt;h4 id="2xx-成功-1">2xx 成功
&lt;/h4>&lt;p>这一类型的状态码，代表请求已成功被服务器接收、理解、并接受。&lt;/p>
&lt;h5 id="200-ok">&lt;strong>200 OK&lt;/strong>
&lt;/h5>&lt;p>请求已成功，请求所希望的响应头或数据体将随此响应返回。实际的响应将取决于所使用的请求方法。在GET请求中，响应将包含与请求的资源相对应的实体。在POST请求中，响应将包含描述或操作结果的实体。&lt;/p>
&lt;h5 id="201-created">&lt;strong>201 Created&lt;/strong>
&lt;/h5>&lt;p>请求已经被实现，而且有一个新的资源已经依据请求的需要而创建，且其URI已经随Location头信息返回。假如需要的资源无法及时创建的话，应当返回'202 Accepted&amp;rsquo;。&lt;/p>
&lt;h5 id="202-accepted">&lt;strong>202 Accepted&lt;/strong>
&lt;/h5>&lt;p>服务器已接受请求，但尚未处理。最终该请求可能会也可能不会被执行，并且可能在处理发生时被禁止。&lt;/p>
&lt;h5 id="203-non-authoritative-information自http--11起">&lt;strong>203 Non-Authoritative Information（自HTTP / 1.1起）&lt;/strong>
&lt;/h5>&lt;p>服务器是一个转换代理服务器（transforming proxy，例如网络加速器），以200 OK状态码为起源，但回应了原始响应的修改版本。&lt;/p>
&lt;h5 id="204-no-content">&lt;strong>204 No Content&lt;/strong>
&lt;/h5>&lt;p>服务器成功处理了请求，没有返回任何内容。&lt;/p>
&lt;h5 id="205-reset-content">&lt;strong>205 Reset Content&lt;/strong>
&lt;/h5>&lt;p>服务器成功处理了请求，但没有返回任何内容。与204响应不同，此响应要求请求者重置文档视图。&lt;/p>
&lt;h5 id="206-partial-contentrfc-7233">&lt;strong>206 Partial Content（RFC 7233）&lt;/strong>
&lt;/h5>&lt;p>服务器已经成功处理了部分GET请求。类似于FlashGet或者迅雷这类的HTTP 下载工具都是使用此类响应实现断点续传或者将一个大文档分解为多个下载段同时下载。&lt;/p>
&lt;h5 id="207-multi-statuswebdavrfc-4918">&lt;strong>207 Multi-Status（WebDAV；RFC 4918）&lt;/strong>
&lt;/h5>&lt;p>代表之后的消息体将是一个XML消息，并且可能依照之前子请求数量的不同，包含一系列独立的响应代码。&lt;/p>
&lt;h5 id="208-already-reported-webdavrfc-5842">&lt;strong>208 Already Reported （WebDAV；RFC 5842）&lt;/strong>
&lt;/h5>&lt;p>DAV绑定的成员已经在（多状态）响应之前的部分被列举，且未被再次包含。&lt;/p>
&lt;h5 id="226-im-used-rfc-3229">&lt;strong>226 IM Used （RFC 3229）&lt;/strong>
&lt;/h5>&lt;p>服务器已经满足了对资源的请求，对实体请求的一个或多个实体操作的结果表示。&lt;/p>
&lt;h4 id="3xx-重定向-1">3xx 重定向
&lt;/h4>&lt;p>这类状态码代表需要客户端采取进一步的操作才能完成请求。通常，这些状态码用来重定向，后续的请求地址（重定向目标）在本次响应的Location域中指明。&lt;/p>
&lt;p>当且仅当后续的请求所使用的方法是GET或者HEAD时，用户浏览器才可以在没有用户介入的情况下自动提交所需要的后续请求。客户端应当自动监测无限循环重定向（例如：A→B→C→……→A或A→A），因为这会导致服务器和客户端大量不必要的资源消耗。按照HTTP/1.0版规范的建议，浏览器不应自动访问超过5次的重定向。&lt;/p>
&lt;h5 id="300-multiple-choices">&lt;strong>300 Multiple Choices&lt;/strong>
&lt;/h5>&lt;p>被请求的资源有一系列可供选择的回馈信息，每个都有自己特定的地址和浏览器驱动的商议信息。用户或浏览器能够自行选择一个首选的地址进行重定向。
除非这是一个HEAD请求，否则该响应应当包括一个资源特性及地址的列表的实体，以便用户或浏览器从中选择最合适的重定向地址。这个实体的格式由Content-Type定义的格式所决定。浏览器可能根据响应的格式以及浏览器自身能力，自动作出最合适的选择。当然，RFC 2616规范并没有规定这样的自动选择该如何进行。
如果服务器本身已经有了首选的回馈选择，那么在Location中应当指明这个回馈的URI；浏览器可能会将这个Location值作为自动重定向的地址。此外，除非额外指定，否则这个响应也是可缓存的。&lt;/p>
&lt;h5 id="301-moved-permanently">&lt;strong>301 Moved Permanently&lt;/strong>
&lt;/h5>&lt;p>被请求的资源已永久移动到新位置，并且将来任何对此资源的引用都应该使用本响应返回的若干个URI之一。如果可能，拥有链接编辑功能的客户端应当自动把请求的地址修改为从服务器反馈回来的地址。除非额外指定，否则这个响应也是可缓存的。
新的永久性的URI应当在响应的Location域中返回。除非这是一个HEAD请求，否则响应的实体中应当包含指向新的URI的超链接及简短说明。
如果这不是一个GET或者HEAD请求，因此浏览器禁止自动进行重定向，除非得到用户的确认，因为请求的条件可能因此发生变化。
注意：对于某些使用HTTP/1.0协议的浏览器，当它们发送的POST请求得到了一个301响应的话，接下来的重定向请求将会变成GET方式。&lt;/p>
&lt;h5 id="302-found">&lt;strong>302 Found&lt;/strong>
&lt;/h5>&lt;p>要求客户端执行临时重定向（原始描述短语为“Moved Temporarily”）。由于这样的重定向是临时的，客户端应当继续向原有地址发送以后的请求。只有在Cache-Control或Expires中进行了指定的情况下，这个响应才是可缓存的。
新的临时性的URI应当在响应的Location域中返回。除非这是一个HEAD请求，否则响应的实体中应当包含指向新的URI的超链接及简短说明。
如果这不是一个GET或者HEAD请求，那么浏览器禁止自动进行重定向，除非得到用户的确认，因为请求的条件可能因此发生变化。
注意：虽然RFC 1945和RFC 2068规范不允许客户端在重定向时改变请求的方法，但是很多现存的浏览器将302响应视作为303响应，并且使用GET方式访问在Location中规定的URI，而无视原先请求的方法。因此状态码303和307被添加了进来，用以明确服务器期待客户端进行何种反应。&lt;/p>
&lt;h5 id="303-see-other">&lt;strong>303 See Other&lt;/strong>
&lt;/h5>&lt;p>对应当前请求的响应可以在另一个URI上被找到，当响应于POST（或PUT / DELETE）接收到响应时，客户端应该假定服务器已经收到数据，并且应该使用单独的GET消息发出重定向。[23]这个方法的存在主要是为了允许由脚本激活的POST请求输出重定向到一个新的资源。这个新的URI不是原始资源的替代引用。同时，303响应禁止被缓存。当然，第二个请求（重定向）可能被缓存。
新的URI应当在响应的Location域中返回。除非这是一个HEAD请求，否则响应的实体中应当包含指向新的URI的超链接及简短说明。
注意：许多HTTP/1.1版以前的浏览器不能正确理解303状态。如果需要考虑与这些浏览器之间的互动，302状态码应该可以胜任，因为大多数的浏览器处理302响应时的方式恰恰就是上述规范要求客户端处理303响应时应当做的。&lt;/p>
&lt;h5 id="304-not-modified">&lt;strong>304 Not Modified&lt;/strong>
&lt;/h5>&lt;p>表示资源未被修改，因为请求头指定的版本If-Modified-Since或If-None-Match。在这种情况下，由于客户端仍然具有以前下载的副本，因此不需要重新传输资源。&lt;/p>
&lt;h5 id="305-use-proxy">&lt;strong>305 Use Proxy&lt;/strong>
&lt;/h5>&lt;p>被请求的资源必须通过指定的代理才能被访问。Location域中将给出指定的代理所在的URI信息，接收者需要重复发送一个单独的请求，通过这个代理才能访问相应资源。只有原始服务器才能创建305响应。许多HTTP客户端（像是Mozilla和Internet Explorer）都没有正确处理这种状态代码的响应，主要是出于安全考虑。
注意：RFC 2068中没有明确305响应是为了重定向一个单独的请求，而且只能被原始服务器建立。忽视这些限制可能导致严重的安全后果。&lt;/p>
&lt;h5 id="306-switch-proxy">&lt;strong>306 Switch Proxy&lt;/strong>
&lt;/h5>&lt;p>在最新版的规范中，306状态码已经不再被使用。最初是指“后续请求应使用指定的代理”。&lt;/p>
&lt;h5 id="307-temporary-redirect">&lt;strong>307 Temporary Redirect&lt;/strong>
&lt;/h5>&lt;p>在这种情况下，请求应该与另一个URI重复，但后续的请求应仍使用原始的URI。 与302相反，当重新发出原始请求时，不允许更改请求方法。 例如，应该使用另一个POST请求来重复POST请求。&lt;/p>
&lt;h5 id="308-permanent-redirect-rfc-7538">&lt;strong>308 Permanent Redirect (RFC 7538)&lt;/strong>
&lt;/h5>&lt;p>请求和所有将来的请求应该使用另一个URI重复。 307和308重复302和301的行为，但不允许HTTP方法更改。 例如，将表单提交给永久重定向的资源可能会顺利进行。&lt;/p>
&lt;h4 id="4xx-客户端错误-1">4xx 客户端错误
&lt;/h4>&lt;p>这类的状态码代表了客户端看起来可能发生了错误，妨碍了服务器的处理。除非响应的是一个HEAD请求，否则服务器就应该返回一个解释当前错误状况的实体，以及这是临时的还是永久性的状况。这些状态码适用于任何请求方法。浏览器应当向用户显示任何包含在此类错误响应中的实体内容。[30]&lt;/p>
&lt;p>如果错误发生时客户端正在传送数据，那么使用TCP的服务器实现应当仔细确保在关闭客户端与服务器之间的连接之前，客户端已经收到了包含错误信息的数据包。如果客户端在收到错误信息后继续向服务器发送数据，服务器的TCP栈将向客户端发送一个重置数据包，以清除该客户端所有还未识别的输入缓冲，以免这些数据被服务器上的应用程序读取并干扰后者。&lt;/p>
&lt;h5 id="400-bad-request">&lt;strong>400 Bad Request&lt;/strong>
&lt;/h5>&lt;p>由于明显的客户端错误（例如，格式错误的请求语法，太大的大小，无效的请求消息或欺骗性路由请求），服务器不能或不会处理该请求。&lt;/p>
&lt;h5 id="401-unauthorizedrfc-7235">&lt;strong>401 Unauthorized（RFC 7235）&lt;/strong>
&lt;/h5>&lt;p>参见：HTTP基本认证、HTTP摘要认证
类似于403 Forbidden，401语义即“未认证”，即用户没有必要的凭据。该状态码表示当前请求需要用户验证。该响应必须包含一个适用于被请求资源的WWW-Authenticate信息头用以询问用户信息。客户端可以重复提交一个包含恰当的Authorization头信息的请求。如果当前请求已经包含了Authorization证书，那么401响应代表着服务器验证已经拒绝了那些证书。如果401响应包含了与前一个响应相同的身份验证询问，且浏览器已经至少尝试了一次验证，那么浏览器应当向用户展示响应中包含的实体信息，因为这个实体信息中可能包含了相关诊断信息。
注意：当网站（通常是网站域名）禁止IP地址时，有些网站状态码显示的401，表示该特定地址被拒绝访问网站。&lt;/p>
&lt;h5 id="402-payment-required">&lt;strong>402 Payment Required&lt;/strong>
&lt;/h5>&lt;p>该状态码是为了将来可能的需求而预留的。该状态码最初的意图可能被用作某种形式的数字现金或在线支付方案的一部分，但几乎没有哪家服务商使用，而且这个状态码通常不被使用。如果特定开发人员已超过请求的每日限制，Google Developers API会使用此状态码。&lt;/p>
&lt;h5 id="403-forbidden">&lt;strong>403 Forbidden&lt;/strong>
&lt;/h5>&lt;p>主条目：HTTP 403
服务器已经理解请求，但是拒绝执行它。与401响应不同的是，身份验证并不能提供任何帮助，而且这个请求也不应该被重复提交。如果这不是一个HEAD请求，而且服务器希望能够讲清楚为何请求不能被执行，那么就应该在实体内描述拒绝的原因。当然服务器也可以返回一个404响应，假如它不希望让客户端获得任何信息。&lt;/p>
&lt;h5 id="404-not-found">&lt;strong>404 Not Found&lt;/strong>
&lt;/h5>&lt;p>主条目：HTTP 404
请求失败，请求所希望得到的资源未被在服务器上发现，但允许用户的后续请求。[35]没有信息能够告诉用户这个状况到底是暂时的还是永久的。假如服务器知道情况的话，应当使用410状态码来告知旧资源因为某些内部的配置机制问题，已经永久的不可用，而且没有任何可以跳转的地址。404这个状态码被广泛应用于当服务器不想揭示到底为何请求被拒绝或者没有其他适合的响应可用的情况下。&lt;/p>
&lt;h5 id="405-method-not-allowed">&lt;strong>405 Method Not Allowed&lt;/strong>
&lt;/h5>&lt;p>请求行中指定的请求方法不能被用于请求相应的资源。该响应必须返回一个Allow头信息用以表示出当前资源能够接受的请求方法的列表。例如，需要通过POST呈现数据的表单上的GET请求，或只读资源上的PUT请求。
鉴于PUT，DELETE方法会对服务器上的资源进行写操作，因而绝大部分的网页服务器都不支持或者在默认配置下不允许上述请求方法，对于此类请求均会返回405错误。&lt;/p>
&lt;h5 id="406-not-acceptable">&lt;strong>406 Not Acceptable&lt;/strong>
&lt;/h5>&lt;p>参见：内容协商
请求的资源的内容特性无法满足请求头中的条件，因而无法生成响应实体，该请求不可接受。[36]
除非这是一个HEAD请求，否则该响应就应当返回一个包含可以让用户或者浏览器从中选择最合适的实体特性以及地址列表的实体。实体的格式由Content-Type头中定义的媒体类型决定。浏览器可以根据格式及自身能力自行作出最佳选择。但是，规范中并没有定义任何作出此类自动选择的标准。&lt;/p>
&lt;h5 id="407-proxy-authentication-requiredrfc-2617">&lt;strong>407 Proxy Authentication Required（RFC 2617）&lt;/strong>
&lt;/h5>&lt;p>与401响应类似，只不过客户端必须在代理服务器上进行身份验证。[37]代理服务器必须返回一个Proxy-Authenticate用以进行身份询问。客户端可以返回一个Proxy-Authorization信息头用以验证。&lt;/p>
&lt;h5 id="408-request-timeout">&lt;strong>408 Request Timeout&lt;/strong>
&lt;/h5>&lt;p>请求超时。根据HTTP规范，客户端没有在服务器预备等待的时间内完成一个请求的发送，客户端可以随时再次提交这一请求而无需进行任何更改。&lt;/p>
&lt;h5 id="409-conflict">&lt;strong>409 Conflict&lt;/strong>
&lt;/h5>&lt;p>表示因为请求存在冲突无法处理该请求，例如多个同步更新之间的编辑冲突。&lt;/p>
&lt;h5 id="410-gone">&lt;strong>410 Gone&lt;/strong>
&lt;/h5>&lt;p>表示所请求的资源不再可用，将不再可用。当资源被有意地删除并且资源应被清除时，应该使用这个。在收到410状态码后，用户应停止再次请求资源。但大多数服务端不会使用此状态码，而是直接使用404状态码。&lt;/p>
&lt;h5 id="411-length-required">&lt;strong>411 Length Required&lt;/strong>
&lt;/h5>&lt;p>服务器拒绝在没有定义Content-Length头的情况下接受请求。在添加了表明请求消息体长度的有效Content-Length头之后，客户端可以再次提交该请求。&lt;/p>
&lt;h5 id="412-precondition-failedrfc-7232">&lt;strong>412 Precondition Failed（RFC 7232）&lt;/strong>
&lt;/h5>&lt;p>服务器在验证在请求的头字段中给出先决条件时，没能满足其中的一个或多个。这个状态码允许客户端在获取资源时在请求的元信息（请求头字段数据）中设置先决条件，以此避免该请求方法被应用到其希望的内容以外的资源上。&lt;/p>
&lt;h5 id="413-request-entity-too-largerfc-7231">&lt;strong>413 Request Entity Too Large（RFC 7231）&lt;/strong>
&lt;/h5>&lt;p>前称“Request Entity Too Large”，表示服务器拒绝处理当前请求，因为该请求提交的实体数据大小超过了服务器愿意或者能够处理的范围。此种情况下，服务器可以关闭连接以免客户端继续发送此请求。
如果这个状况是临时的，服务器应当返回一个Retry-After的响应头，以告知客户端可以在多少时间以后重新尝试。&lt;/p>
&lt;h5 id="414-request-uri-too-longrfc-7231">&lt;strong>414 Request-URI Too Long（RFC 7231）&lt;/strong>
&lt;/h5>&lt;p>前称“Request-URI Too Long”，表示请求的URI长度超过了服务器能够解释的长度，因此服务器拒绝对该请求提供服务。通常将太多数据的结果编码为GET请求的查询字符串，在这种情况下，应将其转换为POST请求。这比较少见，通常的情况包括：
本应使用POST方法的表单提交变成了GET方法，导致查询字符串过长。
重定向URI“黑洞”，例如每次重定向把旧的URI作为新的URI的一部分，导致在若干次重定向后URI超长。
客户端正在尝试利用某些服务器中存在的安全漏洞攻击服务器。这类服务器使用固定长度的缓冲读取或操作请求的URI，当GET后的参数超过某个数值后，可能会产生缓冲区溢出，导致任意代码被执行。没有此类漏洞的服务器，应当返回414状态码。&lt;/p>
&lt;h5 id="415-unsupported-media-type">&lt;strong>415 Unsupported Media Type&lt;/strong>
&lt;/h5>&lt;p>对于当前请求的方法和所请求的资源，请求中提交的互联网媒体类型并不是服务器中所支持的格式，因此请求被拒绝。例如，客户端将图像上传格式为svg，但服务器要求图像使用上传格式为jpg。&lt;/p>
&lt;h5 id="416-requested-range-not-satisfiablerfc-7233">&lt;strong>416 Requested Range Not Satisfiable（RFC 7233）&lt;/strong>
&lt;/h5>&lt;p>前称“Requested Range Not Satisfiable”。客户端已经要求文件的一部分（Byte serving），但服务器不能提供该部分。例如，如果客户端要求文件的一部分超出文件尾端。&lt;/p>
&lt;h5 id="417-expectation-failed">&lt;strong>417 Expectation Failed&lt;/strong>
&lt;/h5>&lt;p>在请求头Expect中指定的预期内容无法被服务器满足，或者这个服务器是一个代理服显的证据证明在当前路由的下一个节点上，Expect的内容无法被满足。&lt;/p>
&lt;h5 id="418-i">&lt;strong>418 I&amp;rsquo;m a teapot（RFC 2324）&lt;/strong>
&lt;/h5>&lt;p>本操作码是在1998年作为IETF的传统愚人节笑话, 在RFC 2324超文本咖啡壶控制协议&amp;rsquo;中定义的，并不需要在真实的HTTP服务器中定义。当一个控制茶壶的HTCPCP收到BREW或POST指令要求其煮咖啡时应当回传此错误。这个HTTP状态码在某些网站（包括Google.com）与项目（如Node.js、ASP.NET和Go语言）中用作彩蛋。&lt;/p>
&lt;h5 id="420-enhance-your-caim">&lt;strong>420 Enhance Your Caim&lt;/strong>
&lt;/h5>&lt;p>Twitter Search与Trends API在客户端被限速的情况下返回。&lt;/p>
&lt;h5 id="421-misdirected-request-rfc-7540">&lt;strong>421 Misdirected Request （RFC 7540）&lt;/strong>
&lt;/h5>&lt;p>该请求针对的是无法产生响应的服务器（例如因为连接重用）。&lt;/p>
&lt;h5 id="422-unprocessable-entitywebdavrfc-4918-">&lt;strong>422 Unprocessable Entity（WebDAV；RFC 4918 ）&lt;/strong>
&lt;/h5>&lt;p>请求格式正确，但是由于含有语义错误，无法响应。&lt;/p>
&lt;h5 id="423-lockedwebdavrfc-4918">&lt;strong>423 Locked（WebDAV；RFC 4918）&lt;/strong>
&lt;/h5>&lt;p>当前资源被锁定。&lt;/p>
&lt;h5 id="424-failed-dependencywebdavrfc-4918">&lt;strong>424 Failed Dependency（WebDAV；RFC 4918）&lt;/strong>
&lt;/h5>&lt;p>由于之前的某个请求发生的错误，导致当前请求失败，例如PROPPATCH。&lt;/p>
&lt;h5 id="425-unordered-collection">&lt;strong>425 Unordered Collection&lt;/strong>
&lt;/h5>&lt;p>在WebDAV Advanced Collections Protocol中定义，但Web Distributed Authoring and Versioning (WebDAV) Ordered Collections Protocol中并不存在。&lt;/p>
&lt;h5 id="426-upgrade-requiredrfc-2817">&lt;strong>426 Upgrade Required（RFC 2817）&lt;/strong>
&lt;/h5>&lt;p>客户端应当切换到TLS/1.0，并在HTTP/1.1 Upgrade header中给出。&lt;/p>
&lt;h5 id="428-precondition-required-rfc-6585">&lt;strong>428 Precondition Required (RFC 6585)&lt;/strong>
&lt;/h5>&lt;p>原服务器要求该请求满足一定条件。这是为了防止“‘未更新’问题，即客户端读取（GET）一个资源的状态，更改它，并将它写（PUT）回服务器，但这期间第三方已经在服务器上更改了该资源的状态，因此导致了冲突。”&lt;/p>
&lt;h5 id="429-too-many-requests-rfc-6585">&lt;strong>429 Too Many Requests （RFC 6585）&lt;/strong>
&lt;/h5>&lt;p>用户在给定的时间内发送了太多的请求。旨在用于网络限速。&lt;/p>
&lt;h5 id="431-request-header-fields-too-large-rfc-6585">&lt;strong>431 Request Header Fields Too Large （RFC 6585）&lt;/strong>
&lt;/h5>&lt;p>服务器不愿处理请求，因为一个或多个头字段过大。&lt;/p>
&lt;h5 id="444-no-response">&lt;strong>444 No Response&lt;/strong>
&lt;/h5>&lt;p>Nginx上HTTP服务器扩展。服务器不向客户端返回任何信息，并关闭连接（有助于阻止恶意软件）。&lt;/p>
&lt;h5 id="450-blocked-by-windows-parental-controls">&lt;strong>450 Blocked by Windows Parental Controls&lt;/strong>
&lt;/h5>&lt;p>这是一个由Windows家庭控制（Microsoft）HTTP阻止的450状态代码的示例，用于信息和测试。&lt;/p>
&lt;h5 id="451-unavailable-for-legal-reasons">&lt;strong>451 Unavailable For Legal Reasons&lt;/strong>
&lt;/h5>&lt;p>该访问因法律的要求而被拒绝，由IETF在2015核准后新增加。&lt;/p>
&lt;h5 id="494-request-header-too-large">&lt;strong>494 Request Header Too Large&lt;/strong>
&lt;/h5>&lt;p>在错误代码431提出之前Nginx上使用的扩展HTTP代码。&lt;/p>
&lt;h4 id="5xx-服务器错误-1">5xx 服务器错误
&lt;/h4>&lt;p>表示服务器无法完成明显有效的请求。[56]这类状态码代表了服务器在处理请求的过程中有错误或者异常状态发生，也有可能是服务器意识到以当前的软硬件资源无法完成对请求的处理。除非这是一个HEAD请求，否则服务器应当包含一个解释当前错误状态以及这个状况是临时的还是永久的解释信息实体。浏览器应当向用户展示任何在当前响应中被包含的实体。这些状态码适用于任何响应方法。&lt;/p>
&lt;h5 id="500-internal-server-error">&lt;strong>500 Internal Server Error&lt;/strong>
&lt;/h5>&lt;p>通用错误消息，服务器遇到了一个未曾预料的状况，导致了它无法完成对请求的处理。没有给出具体错误信息。&lt;/p>
&lt;h5 id="501-not-implemented">&lt;strong>501 Not Implemented&lt;/strong>
&lt;/h5>&lt;p>服务器不支持当前请求所需要的某个功能。当服务器无法识别请求的方法，并且无法支持其对任何资源的请求。（例如，网络服务API的新功能）&lt;/p>
&lt;h5 id="502-bad-gateway">&lt;strong>502 Bad Gateway&lt;/strong>
&lt;/h5>&lt;p>作为网关或者代理工作的服务器尝试执行请求时，从上游服务器接收到无效的响应。&lt;/p>
&lt;h5 id="503-service-unavailable">&lt;strong>503 Service Unavailable&lt;/strong>
&lt;/h5>&lt;p>由于临时的服务器维护或者过载，服务器当前无法处理请求。这个状况是暂时的，并且将在一段时间以后恢复。如果能够预计延迟时间，那么响应中可以包含一个Retry-After头用以标明这个延迟时间。如果没有给出这个Retry-After信息，那么客户端应当以处理500响应的方式处理它。&lt;/p>
&lt;h5 id="504-gateway-timeout">&lt;strong>504 Gateway Timeout&lt;/strong>
&lt;/h5>&lt;p>作为网关或者代理工作的服务器尝试执行请求时，未能及时从上游服务器（URI标识出的服务器，例如HTTP、FTP、LDAP）或者辅助服务器（例如DNS）收到响应。
注意：某些代理服务器在DNS查询超时时会返回400或者500错误。&lt;/p>
&lt;h5 id="505-http-version-not-supported">&lt;strong>505 HTTP Version Not Supported&lt;/strong>
&lt;/h5>&lt;p>服务器不支持，或者拒绝支持在请求中使用的HTTP版本。[63]这暗示着服务器不能或不愿使用与客户端相同的版本。响应中应当包含一个描述了为何版本不被支持以及服务器支持哪些协议的实体。&lt;/p>
&lt;h5 id="506-variant-also-negotiatesrfc-2295">&lt;strong>506 Variant Also Negotiates（RFC 2295）&lt;/strong>
&lt;/h5>&lt;p>由《透明内容协商协议》（RFC 2295）扩展，代表服务器存在内部配置错误，被请求的协商变元资源被配置为在透明内容协商中使用自己，因此在一个协商处理中不是一个合适的重点。&lt;/p>
&lt;h5 id="507-insufficient-storagewebdavrfc-4918">&lt;strong>507 Insufficient Storage（WebDAV；RFC 4918）&lt;/strong>
&lt;/h5>&lt;p>服务器无法存储完成请求所必须的内容。这个状况被认为是临时的。&lt;/p>
&lt;h5 id="508-loop-detected-webdavrfc-5842">&lt;strong>508 Loop Detected （WebDAV；RFC 5842）&lt;/strong>
&lt;/h5>&lt;p>服务器在处理请求时陷入死循环。 （可代替 208状态码）&lt;/p>
&lt;h5 id="510-not-extendedrfc-2774">&lt;strong>510 Not Extended（RFC 2774）&lt;/strong>
&lt;/h5>&lt;p>获取资源所需要的策略并没有被满足。&lt;/p>
&lt;h5 id="511-network-authentication-required-rfc-6585">&lt;strong>511 Network Authentication Required （RFC 6585）&lt;/strong>
&lt;/h5>&lt;p>客户端需要进行身份验证才能获得网络访问权限，旨在限制用户群访问特定网络。（例如连接WiFi热点时的强制网络门户）&lt;/p>
&lt;hr>
&lt;p>秋草的公众号，&lt;strong>秋草说测试&lt;/strong>， 欢迎关注&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/001-postman-basic/qrcode.jpg"
width="258"
height="258"
srcset="https://chengxiaqiucao.github.io/post/001-postman-basic/qrcode_hu_a56c1e278dd59a45.jpg 480w, https://chengxiaqiucao.github.io/post/001-postman-basic/qrcode_hu_96f8d0ff02838f9f.jpg 1024w"
loading="lazy"
alt="秋草说测试"
class="gallery-image"
data-flex-grow="100"
data-flex-basis="240px"
>&lt;/p></description></item></channel></rss>
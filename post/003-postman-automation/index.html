<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="如何用Postman完成自动化"><title>Postman自动化篇</title><link rel=canonical href=https://chengxiaqiucao.github.io/post/003-postman-automation/><link rel=stylesheet href=/scss/style.min.d6334826c849a420a2748e4872b915ae516105f86c3993d9bad2032725f784b8.css><meta property='og:title' content="Postman自动化篇"><meta property='og:description' content="如何用Postman完成自动化"><meta property='og:url' content='https://chengxiaqiucao.github.io/post/003-postman-automation/'><meta property='og:site_name' content='秋 草 观 “测” 台'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Postman'><meta property='article:tag' content='接口测试'><meta property='article:published_time' content='2022-07-18T00:00:00+00:00'><meta property='article:modified_time' content='2022-07-18T00:00:00+00:00'><meta property='og:image' content='https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_210709.png'><meta name=twitter:title content="Postman自动化篇"><meta name=twitter:description content="如何用Postman完成自动化"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_210709.png'></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/automnGrass_hu_5e44a092fd905642.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>秋 草 观 “测” 台</a></h1><h2 class=site-description>Testing is not just checking...</h2></div></header><ol class=menu-social><li><a href=https://github.com/chengxiaqiucao target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://space.bilibili.com/472272606 target=_blank title=Bilibili rel=me><!doctype html><svg t="1750732982440" class="icon" viewBox="0 0 1024 1024" p-id="4593" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M306.005333 117.632 444.330667 256h135.296l138.368-138.325333A42.666667 42.666667.0 01778.368 178.048L700.330667 256H789.333333A149.333333 149.333333.0 01938.666667 405.333333v341.333334A149.333333 149.333333.0 01789.333333 896H234.666667A149.333333 149.333333.0 0185.333333 746.666667V405.333333A149.333333 149.333333.0 01234.666667 256h88.96L245.632 177.962667a42.666667 42.666667.0 0160.373333-60.373334zm483.328 223.701333H234.666667a64 64 0 00-63.701334 57.856L170.666667 405.333333v341.333334a64 64 0 0057.856 63.701333L234.666667 810.666667h554.666666a64 64 0 0063.701334-57.856L853.333333 746.666667V405.333333a64 64 0 00-64-64zm-448 128A42.666667 42.666667.0 01384 512v85.333333a42.666667 42.666667.0 01-85.333333.0V512a42.666667 42.666667.0 0142.666666-42.666667zm341.333334.0A42.666667 42.666667.0 01725.333333 512v85.333333a42.666667 42.666667.0 01-85.333333.0V512a42.666667 42.666667.0 0142.666667-42.666667z" p-id="4594" fill="#8a8a8a"/></svg></a></li><li><a href=https://www.zhihu.com/people/qiucao target=_blank title=zhihu rel=me><!doctype html><svg t="1750733049138" class="icon" viewBox="0 0 1024 1024" p-id="5820" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M570.581333 806.272h61.952L652.928 876.117333 764.074667 806.272h130.986666V230.186667h-324.48V806.272zM636.501333 292.693333h192.64V743.68h-73.898666l-73.813334 46.378667L668.032 743.808l-31.530667-.128V292.736zM515.754667 493.738667H377.429333a2999.466667 2999.466667.0 005.802667-194.56h135.338667S523.776 239.445334 495.872 240.128H261.76c9.216-34.730667 20.821333-70.613333 34.688-107.690667.0.0-63.701333.0-85.333333 57.130667C202.112 213.12 176.128 303.786667 129.877333 396.416c15.573333-1.706667 67.114667-3.114667 97.450667-58.794667 5.589333-15.616 6.656-17.621333 13.568-38.485333h76.373333c0 27.776-3.157333 177.109333-4.437333 194.474667h-138.24c-31.104.0-41.173333 62.549333-41.173333 62.549333h173.482666C295.253333 688.256 232.789333 799.573333 119.466667 887.466667c54.186667 15.488 108.202667-2.432 134.912-26.197334.0.0 60.8-55.338667 94.122666-183.381333L491.264 849.834667s20.906667-71.168-3.285333-105.856c-20.053333-23.637333-74.24-87.552-97.322667-110.72l-38.698667 30.72c11.52-36.992 18.474667-72.96 20.821334-107.690667h163.072s-.213333-62.549333-20.053334-62.549333z" p-id="5821" fill="#8a8a8a"/></svg></a></li><li><a href=mailto:%20danmyw@qq.com target=_blank title=e-mail rel=me><!doctype html><svg t="1750733089669" class="icon" viewBox="0 0 1451 1024" p-id="6983" xmlns:xlink="http://www.w3.org/1999/xlink" width="283.3984375" height="200"><path d="M664.781909 681.472759.0 97.881301C0 3.997201 71.046997.0 71.046997.0H474.477909 961.649408h399.992405s71.046998 3.997201 71.046998 97.881301L771.345323 681.472759S764.482731 685.154773 753.594283 688.65053V688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858V688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759zm53.281707 130.131124C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633.0 212.052267.0 212.052267V942.809523S0 1024 83.726336 1024H682.532949 753.579947h595.368192C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523V212.052267S893.138176 701.759633 817.019477 767.734955c-39.771477 34.470494-74.671786 43.295855-98.955861 43.868928z" fill="#8a8a8a" p-id="6984"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>主页</span></a></li><li><a href=/page/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>检索</span></a></li><li><a href=/page/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>链接</span></a></li><li><a href=/page/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>关于</span></a></li><li><a href=/page/releases/><svg class="icon icon-tabler icon-tabler-infinity" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9.828 9.172a4 4 0 100 5.656A10 10 0 0012 12a10 10 0 012.172-2.828 4 4 0 110 5.656A10 10 0 0112 12 10 10 0 009.828 9.172"/></svg>
<span>热门开源</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://chengxiaqiucao.github.io/en/>English</option><option value=https://chengxiaqiucao.github.io/ selected>中文</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><ol><li><a href=#前言>前言</a></li><li><a href=#自动化测试概述>自动化测试概述</a></li><li><a href=#postman的批量执行工具-runner>Postman的批量执行工具 Runner</a><ol><li><a href=#runner-功能介绍>Runner 功能介绍</a></li><li><a href=#接口的测试数据驱动>接口的测试数据驱动</a></li><li><a href=#接口的流程控制>接口的流程控制</a></li></ol></li><li><a href=#命令行自动化工具-newman>命令行自动化工具 NewMan</a><ol><li><a href=#newman-的安装>NewMan 的安装</a></li><li><a href=#newman-功能介绍>NewMan 功能介绍</a></li></ol></li><li><a href=#和持续集成工具-jenkins-的集成>和持续集成工具 Jenkins 的集成</a><ol><li><a href=#jenkins-的安装>Jenkins 的安装</a></li><li><a href=#jenkins-配置-newman-执行自动化>Jenkins 配置 Newman 执行自动化</a></li><li><a href=#生成测试报告>生成测试报告</a></li><li><a href=#配置任务定时执行>配置任务定时执行</a></li><li><a href=#自动发送测试结果邮件>自动发送测试结果邮件</a></li><li><a href=#附件结果邮件模板>附件：结果邮件模板</a></li></ol></li><li><a href=#结语及预告>结语及预告</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/post/003-postman-automation/><img src=https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_210709.png loading=lazy alt="Featured image of post Postman自动化篇"></a></div><div class=article-details><header class=article-category><a href=/categories/%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/ style=background-color:#c6fad2;color:#000>测试工具</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/003-postman-automation/>Postman自动化篇</a></h2><h3 class=article-subtitle>如何用Postman完成自动化</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jul 18, 2022</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 13 分钟</time></div></footer><footer class=article-translations><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><div><a href=https://chengxiaqiucao.github.io/en/post/003-postman-automation/ class=link>English</a></div></footer></div></header><section class=article-content><h3 id=前言>前言</h3><p>在前两篇 Chat《玩转Postman：基础篇》《玩转Postman：进阶篇》中，我们介绍了 Postman 作为一款专业接口测试工具在接口测试中的主要用法以及它强大的变量、脚本功能，给测试工作人员完成接口的手工测试带来了极大的便利。其实在自动化测试上，Postman 也能进行良好的支持。本篇我们就一起来了解如何利用 Postman 进行接口自动化测试。</p><h3 id=自动化测试概述>自动化测试概述</h3><p>在继续本篇内容前，我们还是首先温习一下和自动化测试相关的一些基本概念。
百度百科中给出的定义：</p><blockquote><p>自动化测试就是将人为驱动的测试行为转化为通过机器来执行的一种过程。</p></blockquote><p><code>人为驱动的测试行为</code>，从<code>广义</code>上理解可以包含从测试需求分析到测试设计、测试执行以及测试总结的全过程，而<code>狭义</code>的理解一般就是将测试设计通过测试代码来体现并通过代码的执行来自动地完成测试的执行并输出执行结果。
现在我们谈到自动化测试，更多还是在狭义层面，通过自动化测试来提升测试执行效率，通过快速得到测试用例的执行结果来尽快得到被测产品状态，更多是起到<code>质量指示器</code>的作用。</p><p>在<a class=link href=https://gitbook.cn/gitchat/activity/5c373c316cf27775f39ee310 target=_blank rel=noopener>《玩转Postman：基础篇》</a>中我们介绍了经典的自动化测试金字塔：</p><p><img src=/frontEndDemo/images/20181222_161451.png loading=lazy alt=image></p><p>这里根据不同测试类型对软件测试进行了分层：</p><ul><li>底层是针对的代码层面的单元测试。</li><li>中间层是 service 服务测试，现代软件的应用服务基本都是以接口 API 形式来体现，服务测试也可以理解就是接口 API 测试。</li><li>上层则是针对用户界面的测试。</li></ul><p>这个模型体现在自动化测试中，表示越底层的自动化测试所占比重应该越大，这样才有更好的投入产出比。而中间这一层的 Service 测试它既不像 UI 层那样维护成本巨大，很难跟得上快速迭代的要求，同时它又比单元测试更能在业务逻辑上进行质量验证。所以现在一般认为 API 测试是自动化测试实施上的优先选择。</p><p>借助一些自动化测试工具或者自动化测试框架的帮助，我们可以在测试执行的用例组织、执行策略、测试数据管理、结果报告等方面更加方便地进行自动化测试的实施。下面我们就来看看 Postman 在自动化测试上提供的支持。</p><h3 id=postman的批量执行工具-runner>Postman的批量执行工具 Runner</h3><p>Runner 是 Postman 中用于批量执行接口用例的模块，我们可以通过 Runner 模块来完成已编写接口用例的自动化测试执行。</p><h4 id=runner-功能介绍>Runner 功能介绍</h4><p>在 Postman 主界面左上角，点击 Runner 按钮，即可打开 Runner 模块界面。如下图</p><p><img src=/frontEndDemo/images/20190210_213122.png loading=lazy alt=image></p><p>相关设置的作用如图上标注。选中待执行的 Collection 或 Folder 后，点击运行按钮，会开启如下运行页面，并显示执行结果。相关界面元素含义如图上标注</p><p><img src=/frontEndDemo/images/20190210_213740.png loading=lazy alt=image></p><h4 id=接口的测试数据驱动>接口的测试数据驱动</h4><p>Postman 通过 引入 data 变量来支持 Runner 运行时的测试数据加载和数据驱动。在上一篇 Chat<a class=link href=https://gitbook.cn/gitchat/activity/5c52a4f17ee79c049a27a6d7 target=_blank rel=noopener>《玩转Postman：进阶篇》</a>中，我们简单介绍了 data 变量的使用方法。这里我们再结合一个 GitHub API 的例子回顾一下：</p><p><em>数据文件中给出一组 Repositories 的信息（测试数据），我们运行一个和这组数据相关的接口：获取 repo、获取 repo 的 contributor、获取 repo 的 tag、获取 repo 的 topic，并分别进行相关校验</em></p><p>Postman 支持两种外部数据类型，json 格式或者 txt/csv 格式。这里我们假设将 repositories 数据以 json 格式保存在数据文件中，给出如下一些主流的开源自动化测试框架</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;owner&#34;</span><span class=p>:</span> <span class=s2>&#34;junit-team&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;repo&#34;</span><span class=p>:</span> <span class=s2>&#34;junit5&#34;</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;owner&#34;</span><span class=p>:</span> <span class=s2>&#34;robotframework&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;repo&#34;</span><span class=p>:</span> <span class=s2>&#34;robotframework&#34;</span>
</span></span><span class=line><span class=cl><span class=p>},{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;owner&#34;</span><span class=p>:</span> <span class=s2>&#34;appium&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;repo&#34;</span><span class=p>:</span> <span class=s2>&#34;appium&#34;</span>
</span></span><span class=line><span class=cl><span class=p>},{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;owner&#34;</span><span class=p>:</span> <span class=s2>&#34;SeleniumHQ&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;repo&#34;</span><span class=p>:</span> <span class=s2>&#34;selenium&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}]</span>
</span></span></code></pre></td></tr></table></div></div><p>在 Test 脚本中编写校验，在上一讲中我们提到一个技巧，对于重复使用的脚本我们可以把它们保存到 global 变量中，需要时执行这个变量内容即可。本例中我们需要执行的几个接口，都会用到是否正确返回成功响应的校验。
所以可以设置一个 global 变量 checkOK。变量值即需要执行的校验脚本</p><p><img src=/frontEndDemo/images/20190215_203908.png loading=lazy alt=image></p><p>不同的接口中均包含了相应 repo 信息作为路径参数，然后我们再添加对应的校验</p><ul><li>获取 repo 接口</li></ul><blockquote><p>/repos/:owner/:repo</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nb>eval</span><span class=p>(</span><span class=nx>pm</span><span class=p>.</span><span class=nx>globals</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>&#34;checkOK&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=c1>//判断是否存在 stargazers_count 字段
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>pm</span><span class=p>.</span><span class=nx>test</span><span class=p>(</span><span class=s2>&#34;存在 Star 数据&#34;</span><span class=p>,</span><span class=kd>function</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>    <span class=nx>pm</span><span class=p>.</span><span class=nx>response</span><span class=p>.</span><span class=nx>to</span><span class=p>.</span><span class=nx>have</span><span class=p>.</span><span class=nx>jsonBody</span><span class=p>(</span><span class=s2>&#34;stargazers_count&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1>//获取 star 数量
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>star</span> <span class=o>=</span> <span class=nx>pm</span><span class=p>.</span><span class=nx>response</span><span class=p>.</span><span class=nx>json</span><span class=p>().</span><span class=nx>stargazers_count</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 将Star数显示到Test Result中，并判断是否 超过 1000 Star
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>pm</span><span class=p>.</span><span class=nx>test</span><span class=p>(</span><span class=s2>&#34;当前repo【&#34;</span><span class=o>+</span> <span class=nx>pm</span><span class=p>.</span><span class=nx>variables</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>&#34;repo&#34;</span><span class=p>)</span> <span class=o>+</span><span class=s2>&#34;】star数【&#34;</span><span class=o>+</span> <span class=nx>star</span> <span class=o>+</span><span class=s2>&#34;】超 1000&#34;</span><span class=p>,</span><span class=kd>function</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=nx>pm</span><span class=p>.</span><span class=nx>expect</span><span class=p>(</span><span class=nx>star</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>gt</span><span class=p>(</span><span class=mi>1000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>获取 Contributor 接口（因接口默认返回数量为 30， 这里用 <code>per_page</code> 参数指定每页返回数量 100）</li></ul><blockquote><p>/repos/:owner/:repo/contributors?per_page=100</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nb>eval</span><span class=p>(</span><span class=nx>pm</span><span class=p>.</span><span class=nx>globals</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>&#34;checkOK&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//遍历当前返回数组长度
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>contributor</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kd>var</span> <span class=nx>c</span> <span class=k>in</span> <span class=nx>pm</span><span class=p>.</span><span class=nx>response</span><span class=p>.</span><span class=nx>json</span><span class=p>()){</span>
</span></span><span class=line><span class=cl>    <span class=nx>contributor</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//判断贡献者是否超过5人
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>pm</span><span class=p>.</span><span class=nx>test</span><span class=p>(</span><span class=s2>&#34;贡献者数量【&#34;</span> <span class=o>+</span> <span class=nx>contributor</span> <span class=o>+</span> <span class=s2>&#34;】超过 5 人&#34;</span><span class=p>,</span><span class=kd>function</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>    <span class=nx>pm</span><span class=p>.</span><span class=nx>expect</span><span class=p>(</span><span class=nx>contributor</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>gt</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>获取 Tag 接口（因接口默认返回数量为 30， 这里用 <code>per_page</code> 参数指定每页返回数量 100）</li></ul><blockquote><p>/repos/:owner/:repo/tags?per_page=100</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nb>eval</span><span class=p>(</span><span class=nx>pm</span><span class=p>.</span><span class=nx>globals</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>&#34;checkOK&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//遍历当前返回数组长度
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>tag</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kd>var</span> <span class=nx>c</span> <span class=k>in</span> <span class=nx>pm</span><span class=p>.</span><span class=nx>response</span><span class=p>.</span><span class=nx>json</span><span class=p>()){</span>
</span></span><span class=line><span class=cl>    <span class=nx>tag</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//判断标签是否超过5个
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>pm</span><span class=p>.</span><span class=nx>test</span><span class=p>(</span><span class=s2>&#34;tag数量【&#34;</span> <span class=o>+</span> <span class=nx>tag</span> <span class=o>+</span> <span class=s2>&#34;】超过 5 个&#34;</span><span class=p>,</span><span class=kd>function</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>    <span class=nx>pm</span><span class=p>.</span><span class=nx>expect</span><span class=p>(</span><span class=nx>tag</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>gt</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>获取 Topic 接口</li></ul><blockquote><p>/repos/:owner/:repo/topics</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nb>eval</span><span class=p>(</span><span class=nx>pm</span><span class=p>.</span><span class=nx>globals</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>&#34;checkOK&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//判断返回Topic names，并显示到Test Result
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>pm</span><span class=p>.</span><span class=nx>test</span><span class=p>(</span><span class=s2>&#34;当前repo【&#34;</span><span class=o>+</span> <span class=nx>pm</span><span class=p>.</span><span class=nx>variables</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>&#34;repo&#34;</span><span class=p>)</span> <span class=o>+</span><span class=s2>&#34;】Topic：&#34;</span> <span class=o>+</span> <span class=nx>pm</span><span class=p>.</span><span class=nx>response</span><span class=p>.</span><span class=nx>json</span><span class=p>().</span><span class=nx>names</span><span class=p>,</span><span class=kd>function</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>   <span class=nx>pm</span><span class=p>.</span><span class=nx>response</span><span class=p>.</span><span class=nx>to</span><span class=p>.</span><span class=nx>have</span><span class=p>.</span><span class=nx>jsonBody</span><span class=p>(</span><span class=s2>&#34;names&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><p>在 Postman 中设置 Runner 配置并运行</p><p><img src=/frontEndDemo/images/20190215_213001.png loading=lazy alt=image></p><p>结果如图：</p><p><img src=/frontEndDemo/images/20190215_212907.png loading=lazy alt=image></p><p>从结果中我们可以看到，所有定义在 GithubRepos.json 这个文件中的 Repo 信息均按照上述流程进行了正确的执行。</p><h4 id=接口的流程控制>接口的流程控制</h4><p>除了这样按顺序的执行，在我们的实际测试工作中，很多情况下还会希望根据接口测试的执行结果来决定后续执行的测试用例，这就是接口的流程控制功能。Postman 的 Runner 模块也可以支持这种流程控制，它是借助 Postman 的脚本封装方法 <code>postman.setNextRequest()</code>来实现的。</p><p>比如上面介绍的数据迭代过程，在获取 repo 后，如果成功响应，我们继续执行 GetTag 接口，否则退出。
我们修改 GetRepo 这个接口的 Test 脚本如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=k>if</span><span class=p>(</span><span class=nx>pm</span><span class=p>.</span><span class=nx>response</span><span class=p>.</span><span class=nx>code</span> <span class=o>==</span> <span class=mi>200</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=nx>postman</span><span class=p>.</span><span class=nx>setNextRequest</span><span class=p>(</span><span class=s2>&#34;GetTag&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>postman</span><span class=p>.</span><span class=nx>setNextRequest</span><span class=p>(</span><span class=kc>null</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>再修改测试数据，给出一个不存在的 Repo 信息模拟匹配不到返回错误的情况</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;owner&#34;</span><span class=p>:</span> <span class=s2>&#34;junit-team&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;repo&#34;</span><span class=p>:</span> <span class=s2>&#34;junit5&#34;</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;owner&#34;</span><span class=p>:</span> <span class=s2>&#34;chengxiaqiucao&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;repo&#34;</span><span class=p>:</span> <span class=s2>&#34;errorRepo&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}]</span>
</span></span></code></pre></td></tr></table></div></div><p>再次重新执行，我们可以看到：</p><ul><li><p>GetRepo这个接口，返回正常时，跳转到 GetTag 这个接口执行，这里跳过了按正常顺序应该执行的 GetContritutor;</p></li><li><p>而当执行到错误的 Repo, 得到 404 Not Found 响应，此时 Runner 中断了执行</p></li></ul><p>执行结果如图：</p><p><img src=/frontEndDemo/images/20190215_215021.png loading=lazy alt=image></p><p><em>注意：</em></p><p><em>无论 postman.setNextRequest() 方法在脚本的什么位置，它总是在脚本的最后执行跳转操作</em></p><p><em>postman.setNextRequest() 方法有自己的作用域，当选择 collection 执行时，所选择的 request需要在当前collection中，当选择 Folder 执行时，所选的 request 需要在当前 folder中</em></p><h3 id=命令行自动化工具-newman>命令行自动化工具 NewMan</h3><p>Newman 是 Postman 官方提供的专门用于自动化测试执行的命令行工具，使 Postman 具备了支持自动化测试扩展以及和第三方系统集成调度的能力。</p><h4 id=newman-的安装>NewMan 的安装</h4><p>因为 Newman 基于 Node.js，所以首先要保证机器上具备 Node.js 环境，此处不再另外介绍 Node.js 的安装。
Node 环境具备的话，运行如下命令能正确显示版本号即可</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>c:\&gt;node --version
</span></span><span class=line><span class=cl>v6.9.0
</span></span></code></pre></td></tr></table></div></div><p>安装 Newman 使用如下命令：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&gt; npm i newman -g
</span></span></code></pre></td></tr></table></div></div><p>安装完成后检查版本，能正确显示即安装成功</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>c:\&gt;newman -v
</span></span><span class=line><span class=cl>4.3.1
</span></span></code></pre></td></tr></table></div></div><h4 id=newman-功能介绍>NewMan 功能介绍</h4><p>Newman 命令行工具的主要命令是 newman run，命令格式如下</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&gt; run [options] &lt;collection&gt;
</span></span></code></pre></td></tr></table></div></div><p>这里的 Collection 可以是从 Postman 中导出的 Collection 文件，也可以是通过 Postman 账号 share 出来的在线 Collection URL 地址。</p><p>Collection 从 Postman 中导出方法如下：</p><p><img src=/frontEndDemo/images/20190216_193545.png loading=lazy alt=image></p><p>此时会提示选择版本，建议选择推荐的Collection 2.1 版本。导出后会保存为一个 json 文件。</p><p>下面介绍几个 newman 运行时常用的参数：</p><ul><li><strong>-e, &ndash;environment &lt;path></strong></li></ul><p>指定 environment 环境变量，这里环境变量需要导出为文件( json 格式)</p><ul><li><strong>-g, &ndash;globals &lt;path></strong></li></ul><p>指定 global 环境变量，这里环境变量需要导出为文件( json 格式)</p><ul><li><strong>-d, &ndash;iteration-data &lt;path></strong></li></ul><p>指定运行 Collection 时使用的 data file 文件</p><ul><li><strong>-n, &ndash;iteration-count &lt;n></strong></li></ul><p>指定 Collection run 时的迭代次数 n</p><ul><li><strong>-r, &ndash;reporters [reporters]</strong></li></ul><p>指定运行完成后的结果报告类型，除默认命令行格式 cli外, 还支持 json, junit, progress 以及 emojitrain几种类型。</p><p>如下是 newman 运行上文 Runner 中的 Collection 的输出示例：</p><p><img src=/frontEndDemo/images/newman.gif loading=lazy alt=image></p><p>除了 newman 默认支持的几种报告格式， 我们还可以安装一个 html 格式的报告插件，安装命令如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&gt; npm install -g newman-reporter-html
</span></span></code></pre></td></tr></table></div></div><p>如上例中的 newman 执行命令，此时带上 &ndash;reporter html 参数，即可在当前目录的 newman 目录下生成一个 html 格式的报告</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&gt;newman run GitHub.postman_collection.json -e GitChat.postman_environment.json --reporters html
</span></span></code></pre></td></tr></table></div></div><p>报告形如：</p><p><img src=/frontEndDemo/images/20190216_202032.png loading=lazy alt=image></p><p>我们还可以在这个命令基础上增加<code>--reporter-html-export</code> 参数指定生成的 html 文件路径，命令如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>&gt;</span><span class=n>newman</span> <span class=n>run</span> <span class=n>GitHub</span><span class=o>.</span><span class=n>postman_collection</span><span class=o>.</span><span class=n>json</span> <span class=o>-</span><span class=n>e</span> <span class=n>GitChat</span><span class=o>.</span><span class=n>postman_environment</span><span class=o>.</span><span class=n>json</span> <span class=o>--</span><span class=n>reporters</span> <span class=n>html</span> <span class=o>--</span><span class=n>reporter</span><span class=o>-</span><span class=n>html</span><span class=o>-</span><span class=k>export</span> <span class=n>c</span><span class=p>:</span>\<span class=n>newman</span>\<span class=n>result</span><span class=o>.</span><span class=n>html</span>
</span></span></code></pre></td></tr></table></div></div><p>这样我们就可以在指定目录下得到输出的 HTML 结果报告了。</p><h3 id=和持续集成工具-jenkins-的集成>和持续集成工具 Jenkins 的集成</h3><p>Jenkins 是目前最为流行的持续集成工具，在研发流程，特别是现今推崇 DevOps 的研发环境下，通过 Jenkins 将自动化测试纳入持续集成管道是其中的一项核心实践。下面我们就来具体看下如何结合 Jenkins 和 Newman 工具来完成持续集成中自动化测试任务的创建和调度执行。</p><h4 id=jenkins-的安装>Jenkins 的安装</h4><p>首先还是看下如何安装 Jenkins。企业中一般由研发配置或支撑部门来维护 Jenkins。这里我们以 window 版本为例看下安装过程</p><ul><li>首先来到 Jenkins 的官网 <a class=link href=https://jenkins.io/ target=_blank rel=noopener>https://jenkins.io/</a> ，进入 download界面，选择长期支持版本，根据操作系统类型选择对应安装包，这里选择 windows 版本</li></ul><p><img src=/frontEndDemo/images/20190218_215043.png loading=lazy alt=image></p><ul><li>完成下载后的到一个 zip 文件，解压后执行 msi 安装文件，一路默认安装即可</li></ul><p><img src=/frontEndDemo/images/20190218_215516.png loading=lazy alt=image></p><ul><li>安装完成后，我们可以来到 windows 系统的服务管理器中，可以看到已经自动创建了一个名为 Jenkins 的服务，会随系统自动运行，我们也可以根据需要改成手动。</li></ul><p><img src=/frontEndDemo/images/20190218_215830.png loading=lazy alt=image></p><ul><li>此时访问 http://localhost:8080，会等待 Jenkins 完成系统部署和初始化</li></ul><p><img src=/frontEndDemo/images/20190218_220103.png loading=lazy alt=image></p><ul><li>初始化完成，会要求输入初始密码，可以根据提示从初始密码文件中获取</li></ul><p><img src=/frontEndDemo/images/20190218_220912.png loading=lazy alt=image></p><ul><li>输入密码后需要进行插件的安装，一般选择推荐配置即可</li></ul><p><img src=/frontEndDemo/images/20190218_221013.png loading=lazy alt=image></p><ul><li>选择插件后，等待相关插件下载并完成安装</li></ul><p><img src=/frontEndDemo/images/20190218_221310.png loading=lazy alt=image></p><ul><li>完成后设置用户名和账号</li></ul><p><img src=/frontEndDemo/images/20190218_221728.png loading=lazy alt=image></p><ul><li>继续下一步，设置访问 URL 和端口，此处使用默认地址</li></ul><p><img src=/frontEndDemo/images/20190218_221808.png loading=lazy alt=image></p><ul><li>重启服务后再访问 Jenkins 服务地址，登录后进入主界面，至此安装完成。</li></ul><p><img src=/frontEndDemo/images/20190218_222312.png loading=lazy alt=image></p><h4 id=jenkins-配置-newman-执行自动化>Jenkins 配置 Newman 执行自动化</h4><p>进入 Jenkins 主页后，我们选择新建 Job，这里选择<code>构建自由风格项目</code>，创建一个新的持续集成任务</p><p><img src=/frontEndDemo/images/20190218_222627.png loading=lazy alt=image></p><p>点击 OK 后会进入配置页面，来到 Build 配置，选择<code>执行Windows批处理命令</code>, 如果是部署在其他操作系统如 Linux 系统，可以相应的选择<code>执行shell</code></p><p><img src=/frontEndDemo/images/20190220_192925.png loading=lazy alt=image></p><p>输入前面我们执行自动化的 newman 命令，注意，因为 Jenkins 调度会从 Jenkins 工作空间目录执行，所以这里指定的 Collection 和 environment 文件需要给出绝对路径</p><p><img src=/frontEndDemo/images/20190220_193429.png loading=lazy alt=image></p><p>保存后即完成了一个最基本的自动化测试执行 Job 的创建。此时点击右侧的<code>立即构建</code>可立刻触发任务的执行</p><p><img src=/frontEndDemo/images/20190220_193950.png loading=lazy alt=image></p><p>点击构建编号(此处为 <code>#1</code>)，进入构建详情，通过打开右侧<code>Console Output</code>可以查看具体执行的控制台输出</p><p><img src=/frontEndDemo/images/20190220_194726.png loading=lazy alt=image></p><p><strong>Tips 1：</strong> 在本例中，我们可以看到出现了<code>newman 不是内部或外部命令</code>的错误，这是因为 NewMan 安装后，默认是将执行路径添加在当前用户的 Path 用户环境变量下，而通过 Jenkins 执行，没有路径访问权限，所以我们需要将 Newman 所在 npm 目录添加到系统环境变量 Path 中。如图</p><p><img src=/frontEndDemo/images/20190220_195441.png loading=lazy alt=image></p><p>修改变量后，通过 <code>http://127.0.0.1:8080/restart</code> 地址重启 Jenkins 使变量生效，再次执行构建：</p><p><img src=/frontEndDemo/images/20190220_200635.png loading=lazy alt=image></p><p>可以看到已经成功调度了自动化测试任务，但是控制台输出中存在乱码。如果你也出现这个问题，可按以下方法解决</p><p><strong>Tips 2:</strong> 此处乱码是因为 Jenkins 使用的 jvm 环境未设置语言支持。我们同样方法添加如下 windows 系统环境变量，设置后重启 Jenkins 服务，再次执行即可正常看到执行结果了</p><blockquote><p>JAVA_TOOL_OPTIONS = -Dfile.encoding=UTF8</p></blockquote><p><img src=/frontEndDemo/images/20190220_202344.png loading=lazy alt=image></p><h4 id=生成测试报告>生成测试报告</h4><p>要在 Jenkins 中展示测试报告，首先我们要生成测试报告。根据上面 NewMan 执行参数的介绍，可以添加相关报告参数<code>--reporters junit,html --reporter-html-export .\newman\result.html</code>来生成。这里同时生成 junit 和 html 两种格式的报告到当前工作目录的 newman 目录下。完整命令如下</p><blockquote><p>newman run c:\GitHub.postman_collection.json -e c:\GitChat.postman_environment.json
&ndash;reporters junit,html &ndash;reporter-html-export .\newman\result.html</p></blockquote><p><img src=/frontEndDemo/images/20190220_211051.png loading=lazy alt=image></p><p>而要在 Jenkins 中展示 HTML 报告，我们需要添加一个展示插件， 来到 <code>Jenkins > 系统管理 > 插件管理</code> 界面下，在 Availble 中查询并安装 <code>HTML Publisher</code>插件</p><p><img src=/frontEndDemo/images/20190220_203802.png loading=lazy alt=image></p><p>重启 Jenkins 后，我们就可以添加相关报告展示配置了。还是来到 <code>Newman_Test</code>这个任务下，配置<code>Post-build Actions</code>,分别添加 Junit 结果报告和 HTML 报告，如下图：</p><p><img src=/frontEndDemo/images/20190220_210848.png loading=lazy alt=image></p><p><img src=/frontEndDemo/images/20190220_211026.png loading=lazy alt=image></p><p>完成报告配置后，我们再运行几次任务，这是在任务界面上就可以看到相关测试结果的报告链接以及执行趋势了（执行趋势为 Junit 报告产生）</p><p><img src=/frontEndDemo/images/20190220_211300.png loading=lazy alt=image></p><p>如图是 JUnit 报告:
<img src=/frontEndDemo/images/20190220_211316.png loading=lazy alt=image></p><p>如图是 HTML 报告；
<img src=/frontEndDemo/images/20190220_211423.png loading=lazy alt=image></p><h4 id=配置任务定时执行>配置任务定时执行</h4><p>在持续集成中，自动化测试的自动触发是非常重要的，这是在任务配置的 <code>Build Triggers</code> 中进行配置的，如图是配置定时触发的方法。这里的触发计划符合 Linux <code>Crontab</code> 的语法。具体语法可以参照 Jenkins 给出的语法帮助</p><p><img src=/frontEndDemo/images/20190220_212943.png loading=lazy alt=image></p><h4 id=自动发送测试结果邮件>自动发送测试结果邮件</h4><p>同样，在持续集成中，及时将测试结果通知到相关人员非常重要。这里需要安装 Jenkins 的邮件通知扩展插件：<code>Email Extension Plugin</code>，同样参照上文插件安装的方法在插件管理界面中完成安装。</p><p>要使用邮件通知，需要接收邮箱支持 smtp 服务。以 QQ 邮箱为例，在邮箱账号的设置界面中，开启 SMTP 服务，并生成对应的授权码</p><p><img src=/frontEndDemo/images/20190221_220220.png loading=lazy alt=image></p><p>回到 Jenkins，安装完插件以后，需要对插件进行配置。来到系统管理 > 系统设置中，首先设置管理员邮箱地址。</p><p><img src=/frontEndDemo/images/20190221_215412.png loading=lazy alt=image></p><p>在 <code>Extend E-Mail Notification</code> 配置中，如图进行配置，注意点开高级后，这里的用户密码是在 QQ 邮箱中生成的授权码</p><p><img src=/frontEndDemo/images/20190221_215856.png loading=lazy alt=image></p><p>同样 <code>E-mail Notification</code> 配置中进行类似配置。</p><p><img src=/frontEndDemo/images/20190221_220130.png loading=lazy alt=image></p><p>完成系统配置后，来到任务配置界面。在配置的最后添加 <code>Post build Action</code>，选择 <code>Editable Email Notification</code>，参见如图进行设置。</p><p><img src=/frontEndDemo/images/20190221_223117.png loading=lazy alt=image></p><p><img src=/frontEndDemo/images/20190221_223508.png loading=lazy alt=image></p><p>保存后，触发构建。可以从 console output 中看到邮件是否有成功发送。发送后进入邮箱即可看到已经收到了对应的结果通知邮件。</p><p><img src=/frontEndDemo/images/20190221_222143.png loading=lazy alt=image></p><h4 id=附件结果邮件模板>附件：结果邮件模板</h4><p>附上这里使用的邮件模板文件，邮件模板中可以使用 Jenkins 的一些默认变量，如：项目名称 <strong>$PROJECT_NAME</strong>， 构建编号 <strong>$BUILD_NUMBER</strong>，构建状态 <strong>$BUILD_STATUS</strong> 等，大家可以参照模板内容对照看一下，也可以参考 Jenkins 官方给出的一些<a class=link href=https://wiki.jenkins.io/display/JENKINS/Building+a+software+project#Buildingasoftwareproject-belowJenkinsSetEnvironmentVariables target=_blank rel=noopener>说明</a>。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-HTML data-lang=HTML><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #5e9ca0; text-align: center;&#34;</span><span class=p>&gt;</span>本邮件是 NewMan 自动化测试邮件，请勿回复！！！<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>table</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;editorDemoTable&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;height: 273px;&#34;</span> <span class=na>width</span><span class=o>=</span><span class=s>&#34;430&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>thead</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>nowrap</span><span class=o>=</span><span class=s>&#34;nowrap&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;background-color: #3498db; text-align: center;&#34;</span> <span class=na>colspan</span><span class=o>=</span><span class=s>&#34;2&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;&lt;</span><span class=nt>span</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #000000;&#34;</span><span class=p>&gt;</span>NewMan 自动化测试执行报告<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>thead</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>tbody</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>nowrap</span><span class=o>=</span><span class=s>&#34;nowrap&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;border-color: gray;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>span</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #808000;&#34;</span><span class=p>&gt;</span>项目名称：<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>nowrap</span><span class=o>=</span><span class=s>&#34;nowrap&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;border-color: gray;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>span</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #808000;&#34;</span><span class=p>&gt;</span>$PROJECT_NAME<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>nowrap</span><span class=o>=</span><span class=s>&#34;nowrap&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;border-color: gray;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>span</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #808000;&#34;</span><span class=p>&gt;</span>构建编号：<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>nowrap</span><span class=o>=</span><span class=s>&#34;nowrap&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;border-color: gray;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>span</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #808000;&#34;</span><span class=p>&gt;</span>$BUILD_NUMBER<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>nowrap</span><span class=o>=</span><span class=s>&#34;nowrap&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;border-color: gray;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>span</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #808000;&#34;</span><span class=p>&gt;</span>构建状态：<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>nowrap</span><span class=o>=</span><span class=s>&#34;nowrap&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;border-color: gray;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>span</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #808000;&#34;</span><span class=p>&gt;</span>$BUILD_STATUS<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>nowrap</span><span class=o>=</span><span class=s>&#34;nowrap&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;border-color: gray;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>span</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #808000;&#34;</span><span class=p>&gt;</span>触发原因：<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>nowrap</span><span class=o>=</span><span class=s>&#34;nowrap&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;border-color: gray;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>span</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #808000;&#34;</span><span class=p>&gt;</span>${CAUSE}<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>nowrap</span><span class=o>=</span><span class=s>&#34;nowrap&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;border-color: gray;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>span</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #808000;&#34;</span><span class=p>&gt;</span>构建日志地址：<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>nowrap</span><span class=o>=</span><span class=s>&#34;nowrap&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;border-color: gray;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>span</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #00ccff;&#34;</span><span class=p>&gt;</span><span class=ni>&amp;nbsp;</span><span class=p>&lt;</span><span class=nt>a</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #00ccff;&#34;</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;构建日志&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;${BUILD_URL}console&#34;</span><span class=p>&gt;</span>${BUILD_URL}console<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;&lt;/</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>nowrap</span><span class=o>=</span><span class=s>&#34;nowrap&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;border-color: gray;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>span</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #808000;&#34;</span><span class=p>&gt;</span>构建地址：<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>nowrap</span><span class=o>=</span><span class=s>&#34;nowrap&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;border-color: gray;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>span</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #00ccff;&#34;</span><span class=p>&gt;</span><span class=ni>&amp;nbsp;</span><span class=p>&lt;</span><span class=nt>a</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #00ccff;&#34;</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;构建地址&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;$BUILD_URL&#34;</span><span class=p>&gt;</span>$BUILD_URL<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;&lt;/</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>nowrap</span><span class=o>=</span><span class=s>&#34;nowrap&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;border-color: gray;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>span</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #808000;&#34;</span><span class=p>&gt;</span>测试报告地址：<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>nowrap</span><span class=o>=</span><span class=s>&#34;nowrap&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;border-color: gray;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>span</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #00ccff;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>a</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #00ccff;&#34;</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;NewMan测试报告地址&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;${BUILD_URL}HTML_20Report/&#34;</span><span class=p>&gt;</span>${BUILD_URL}HTML_20Report/<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;&lt;/</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>nowrap</span><span class=o>=</span><span class=s>&#34;nowrap&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;border-color: gray;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>span</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #808000;&#34;</span><span class=p>&gt;</span>Junit测试结果地址：<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>nowrap</span><span class=o>=</span><span class=s>&#34;nowrap&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;border-color: gray;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>span</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #00ccff;&#34;</span><span class=p>&gt;</span><span class=ni>&amp;nbsp;</span><span class=p>&lt;</span><span class=nt>a</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: #00ccff;&#34;</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;测试结果地址&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;${BUILD_URL}testReport/&#34;</span><span class=p>&gt;</span>${BUILD_URL}testReport/<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;&lt;/</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>tbody</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>table</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=结语及预告>结语及预告</h3><p>以上就是本篇 Postman 自动化测试相关内容的介绍，再简单总结下，在本篇 Chat 中，我们学习了：</p><ul><li>通过外部数据文件结合 Runner 模块完成数据驱动的自动化测试执行</li><li>通过 Postman 的内建方法 <strong>postman.setNextRequest()</strong> 来控制接口的流程走向</li><li>命令行工具 Newman 的安装和使用实例</li><li>持续集成工具 Jenkins 的安装配置以及如何与 newman 结合完成自动化测试脚本的触发，以及结果报告生成和通过邮件模板进行邮件通知。</li></ul><p>通过本系列这三篇介绍，我们学习了 Postman 作为一个本地运行的接口测试工具的详细使用方法。但我们还知道使用 Postman 前还注册了一个官网账号，这个账号其实就关联了 Postman 的云端服务。而 Postman Cloud 向用户提供了很多高级增值功能，目前普通注册用户也能在一定限额下免费使用，完全可满足一般的测试、学习需要。在下一篇中我们就和大家再一起来学习 Postman 提供的云端增值高级功能。主要有：</p><ul><li>Postman 的在线文档功能</li><li>Postman 的 Mock 服务</li><li>Postman 的监控服务</li><li>Postman 的开放 API</li></ul><p>PS：欢迎大家到读者圈中共同讨论，携手进步。</p></section><footer class=article-footer><section class=article-tags><a href=/tags/postman/>Postman</a>
<a href=/tags/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/>接口测试</a></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/post/088-bruno%E5%9F%BA%E7%A1%80/><div class=article-details><h2 class=article-title>Postman最佳平替, API测试工具Bruno实用教程(一)：基础篇</h2></div></a></article><article class=has-image><a href=/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/><div class=article-image><img src=/post/015-postmanv11%E6%9B%B4%E6%96%B0%E4%BE%BF%E8%A7%88/v11-Launch-Blog.a608c30644c420f9807534f7846be2b8_hu_90c53885421b2aff.jpg width=250 height=150 loading=lazy alt="Featured image of post PostmanV11更新便览" data-hash="md5-pgjDBkTEIPmAdTT3hGviuA=="></div><div class=article-details><h2 class=article-title>PostmanV11更新便览</h2></div></a></article><article class=has-image><a href=/post/004-postman-advanced/><div class=article-image><img src=https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_210709.png loading=lazy data-key data-hash=https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_210709.png></div><div class=article-details><h2 class=article-title>Postman高级篇</h2></div></a></article><article class=has-image><a href=/post/002-postman-middle/><div class=article-image><img src=https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_210709.png loading=lazy data-key data-hash=https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_210709.png></div><div class=article-details><h2 class=article-title>Postman进阶篇</h2></div></a></article><article class=has-image><a href=/post/001-postman-basic/><div class=article-image><img src=https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_210709.png loading=lazy data-key data-hash=https://chengxiaqiucao.github.io/frontEndDemo/images/20181225_210709.png></div><div class=article-details><h2 class=article-title>Postman基础篇</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2023 -
2025 |by 城下秋草（公众号： 秋草说测试）</section><section class=powerby>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>
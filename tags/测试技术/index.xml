<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>测试技术 on 秋 草 观 “测” 台</title><link>https://chengxiaqiucao.github.io/tags/%E6%B5%8B%E8%AF%95%E6%8A%80%E6%9C%AF/</link><description>Recent content in 测试技术 on 秋 草 观 “测” 台</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>|by 城下秋草（公众号： 秋草说测试）</copyright><lastBuildDate>Thu, 19 Jun 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://chengxiaqiucao.github.io/tags/%E6%B5%8B%E8%AF%95%E6%8A%80%E6%9C%AF/index.xml" rel="self" type="application/rss+xml"/><item><title>开源一个测试练习项目，邀请大家共建</title><link>https://chengxiaqiucao.github.io/post/101-testmybookshelf/</link><pubDate>Thu, 19 Jun 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/101-testmybookshelf/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/101-testmybookshelf/snap_20250611.png" alt="Featured image of post 开源一个测试练习项目，邀请大家共建" />&lt;p>之前曾经收集过一些用于测试练习的项目，清单详见（），但这些项目更多还是基于自动化测试练习目的，却很少有真正用于练习软件测试和故障发现能力的项目，所以便萌生了自己做一个这种项目的目的。&lt;/p>
&lt;h3 id="设计思路">设计思路
&lt;/h3>&lt;p>以一个真实需求的的项目开发为例，参照模拟敏捷研发的流程，按Sprint来进行迭代。每个迭代根据指定的需求来进行实现，但同时包含一些注入的已知Bug。&lt;/p>
&lt;p>练习者可以将每个迭代对应的分支（如sprint0，sprint1）看作提测版本进行测试和练习。同时也可以&lt;/p>
&lt;h3 id="诚邀共建">诚邀共建
&lt;/h3>&lt;p>个人力量有限，现邀请各位测试小伙伴一起共同完善该Demo项目，包括完善测试用例，补充存在的Bug清单和其他关联文档等，争取可以为测试初学者提供一个贴合实际软件研发、有实际学习价值的Demo。&lt;/p>
&lt;p>回复 &lt;code>进群&lt;/code> 进入测试交流群，和群友交流测试技术，共同完善和进步~&lt;/p>
&lt;h2 id="项目地址和介绍">项目地址和介绍
&lt;/h2>&lt;p>&lt;a class="link" href="https://github.com/chengxiaqiucao/TestMyBookshelf" target="_blank" rel="noopener"
>https://github.com/chengxiaqiucao/TestMyBookshelf&lt;/a>&lt;/p>
&lt;p>sprint 首页
&lt;img src="https://chengxiaqiucao.github.io/post/101-testmybookshelf/snap_20250611-1.png"
width="1309"
height="392"
srcset="https://chengxiaqiucao.github.io/post/101-testmybookshelf/snap_20250611-1_hu_7443ff5a6cddf002.png 480w, https://chengxiaqiucao.github.io/post/101-testmybookshelf/snap_20250611-1_hu_ff5bd7d93bfa99ee.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="333"
data-flex-basis="801px"
>&lt;/p>
&lt;p>sprint1 首页
&lt;img src="https://chengxiaqiucao.github.io/post/101-testmybookshelf/snap_20250611.png"
width="1323"
height="859"
srcset="https://chengxiaqiucao.github.io/post/101-testmybookshelf/snap_20250611_hu_e37fde2dc07b2672.png 480w, https://chengxiaqiucao.github.io/post/101-testmybookshelf/snap_20250611_hu_77f871333557b07d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="154"
data-flex-basis="369px"
>&lt;/p>
&lt;p>欢迎多提Issue~~&lt;/p>
&lt;p>ReadMe文档如下：&lt;/p>
&lt;hr>
&lt;h1 id="个人图书管理--我的书架">个人图书管理 &amp;ndash; 我的书架
&lt;/h1>&lt;p>测试练习项目 | 包含注入缺陷的图书管理系统 | FastAPI + SQLite 实现 | 适合 QA 培训使用&lt;/p>
&lt;p>这是一个用于测试练习作用的个人图书管理系统。该项目故意注入了一些典型的 Bug，用于测试人员练习 Bug 发现和验证。&lt;/p>
&lt;h2 id="项目特点">项目特点
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>基础功能完整：实现了图书的增删改查等基本功能&lt;/p>
&lt;/li>
&lt;li>
&lt;p>典型 Bug 注入：包含多个常见的问题场景&lt;/p>
&lt;/li>
&lt;li>
&lt;p>技术栈简单：使用主流但轻量级的技术组合&lt;/p>
&lt;/li>
&lt;li>
&lt;p>适合测试练习：Bug 类型多样，重现步骤清晰&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="使用">使用
&lt;/h2>&lt;p>切换到不同sprint分支，针对分支需求进行测试&lt;/p>
&lt;h2 id="注意事项">注意事项
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>本项目主要用于测试练习，不建议用于生产环境&lt;/p>
&lt;/li>
&lt;li>
&lt;p>所有 Bug 都是故意注入的，用于测试练习&lt;/p>
&lt;/li>
&lt;li>
&lt;p>项目代码中不会标注 Bug 的位置，需要测试人员自行发现&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="测试目标">测试目标
&lt;/h2>&lt;ol>
&lt;li>
&lt;p>验证所有注入的 Bug 是否可重现&lt;/p>
&lt;/li>
&lt;li>
&lt;p>练习 Bug 报告编写&lt;/p>
&lt;/li>
&lt;li>
&lt;p>熟悉常见 Web 应用问题&lt;/p>
&lt;/li>
&lt;li>
&lt;p>提高测试用例设计能力&lt;/p>
&lt;/li>
&lt;/ol></description></item><item><title> 自动化测试中应用Docker的正反两面</title><link>https://chengxiaqiucao.github.io/post/096-docker%E5%9C%A8%E8%87%AA%E5%8A%A8%E5%8C%96/</link><pubDate>Sat, 24 May 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/096-docker%E5%9C%A8%E8%87%AA%E5%8A%A8%E5%8C%96/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/096-docker%E5%9C%A8%E8%87%AA%E5%8A%A8%E5%8C%96/Docker%E8%87%AA%E5%8A%A8%E5%8C%96.png" alt="Featured image of post 自动化测试中应用Docker的正反两面" />&lt;h2 id="前言">前言
&lt;/h2>&lt;p>自动化测试是现如今软件研发中不可或缺的重要环节。而为了确保测试环境的一致性、简化配置并加速测试的反馈，Docker 技术被广泛应用于测试自动化框架，进行容器化封装。&lt;/p>
&lt;p>通常的共识是：一旦测试套件被 Docker 化，即可实现 &lt;strong>“一次构建，处处运行”&lt;/strong> 的理想状态，彻底消除环境差异带来的测试不确定性。&lt;/p>
&lt;p>然而，在实际工程实践中，Docker 化是否真的能完美保障测试执行的一致性？本篇我们将深入探讨 Docker 在自动化测试应用中的承诺与现实，揭示那些可能导致“一致性幻象”的关键因素，并提供相应的规避策略。&lt;/p>
&lt;h2 id="docker-的承诺环境封装与一致性">Docker 的承诺：环境封装与一致性
&lt;/h2>&lt;p>Docker 的核心价值在于通过镜像（Image）封装应用的完整运行环境（操作系统层、运行时、库、工具、代码及配置）。其工作流程通常为：&lt;/p>
&lt;ol>
&lt;li>&lt;strong>构建镜像&lt;/strong>：在开发环境（如开发者本地PC）中，通过 Dockerfile 定义依赖安装和配置步骤，构建包含测试套件及其运行环境的镜像。&lt;/li>
&lt;li>&lt;strong>分发镜像&lt;/strong>：将构建好的镜像推送到镜像仓库（如 Docker Hub, Artifactory）。&lt;/li>
&lt;li>&lt;strong>运行容器&lt;/strong>：在目标环境（CI/CD 流水线、其他开发者机器、生产前环境等）中拉取该镜像并实例化为容器执行测试。&lt;/li>
&lt;/ol>
&lt;p>理论上，此流程应确保无论底层宿主机的具体配置如何，容器内部的测试执行环境始终保持一致，从而消除开发者 &lt;strong>“在我机器上能跑”&lt;/strong> 的经典问题，实现测试结果的可靠复现。&lt;/p>
&lt;h2 id="现实一致性的幻想">现实：一致性的幻想
&lt;/h2>&lt;p>理想丰满，现实骨感。尽管 Docker 提供了强大的环境隔离能力，但以下因素仍可能破坏测试的绝对一致性，形成“幻象”：&lt;/p>
&lt;h3 id="跨平台的宿主架构差异">跨平台的宿主架构差异
&lt;/h3>&lt;p>在 x86 架构宿主机上构建的镜像，在基于 ARM 架构的 CI 节点（如 Apple Silicon M1/M2）上运行时，可能导致依赖特定 CPU 指令集的二进制文件、包含 C 扩展的 Python 包等运行异常或崩溃，致使本地通过的测试在 CI 失败。&lt;/p>
&lt;blockquote>
&lt;p>原因：Docker 容器共享宿主机的内核。不同 CPU 架构（x86_64 vs arm64）的指令集不兼容。&lt;/p>&lt;/blockquote>
&lt;h4 id="如何解决">如何解决？
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>多架构镜像构建&lt;/strong>：使用 &lt;code>docker buildx&lt;/code> 工具构建支持多平台（如 linux/amd64, linux/arm64）的镜像。&lt;/li>
&lt;li>&lt;strong>显式指定平台&lt;/strong>：在运行或构建时通过 &lt;code>--platform&lt;/code> 参数强制指定目标平台（如 &lt;code>docker run --platform linux/amd64 my-test-image&lt;/code>）。&lt;/li>
&lt;/ul>
&lt;h3 id="外部依赖">外部依赖
&lt;/h3>&lt;p>测试容器内运行良好，但若测试用例需要访问容器外的真实服务（数据库、API、S3、需 VPN 访问的内部系统），则测试结果可能受外部服务的状态、网络延迟、DNS 解析差异、防火墙规则或 VPN 连接状态影响而波动。&lt;/p>
&lt;blockquote>
&lt;p>原因：Docker 容器化的是测试套件本身，而非其依赖的所有外部系统。网络请求突破了容器的隔离边界。&lt;/p>&lt;/blockquote>
&lt;h4 id="如何解决-1">如何解决？
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>依赖容器化&lt;/strong>：使用 Docker Compose 在测试运行时动态拉起所需的外部服务（如数据库、Mock 服务器）作为独立的容器，并与测试容器建立内部网络连接。&lt;/li>
&lt;li>&lt;strong>Mock/Stub 技术&lt;/strong>：在单元测试和集成测试中广泛应用 Mock 和 Stub 技术替代真实的外部依赖调用。&lt;/li>
&lt;li>&lt;strong>网络环境控制&lt;/strong>：严格管理测试环境的网络配置（DNS、代理、防火墙），确保其可预测性。&lt;/li>
&lt;/ul>
&lt;h3 id="宿主操作系统差异">宿主操作系统差异
&lt;/h3>&lt;p>在 Linux 宿主机上运行正常的挂载卷（Volume Mounts）操作或网络访问（&lt;code>localhost&lt;/code>），在 macOS 或 Windows（通过 Docker Desktop）上可能出现文件权限错误、符号链接失效、换行符（CRLF vs LF）问题、&lt;code>inotify&lt;/code> 事件监听失效，或 &lt;code>localhost&lt;/code> 指向歧义。&lt;/p>
&lt;blockquote>
&lt;p>原因：虽然容器内 OS 一致，但 Docker 与宿主 OS 交互的机制存在差异：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>文件卷挂载&lt;/strong>：涉及主机文件系统到容器文件系统的映射，不同 OS 对文件权限、元数据、事件通知的支持不同。&lt;/li>
&lt;li>&lt;strong>网络模型&lt;/strong>：在 Linux 上，容器网络通常更直接集成；在 macOS/Windows 上，Docker Desktop 使用虚拟机桥接，访问宿主机服务需使用特殊主机名 &lt;code>host.docker.internal&lt;/code> 而非 &lt;code>localhost&lt;/code>。&lt;/li>
&lt;/ul>&lt;/blockquote>
&lt;h4 id="如何解决-2">如何解决？
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>理解平台差异&lt;/strong>：明确意识到 Docker 并非完全 OS 无关，其行为受宿主机影响。&lt;/li>
&lt;li>&lt;strong>谨慎使用挂载卷&lt;/strong>：避免测试核心逻辑过度依赖主机卷挂载，尤其对于写操作（如生成报告、缓存）。优先使用容器内路径或复制（&lt;code>COPY&lt;/code>）机制。如需挂载，注意文件权限和换行符问题。&lt;/li>
&lt;li>&lt;strong>使用正确的网络访问方式&lt;/strong>：在容器内访问宿主机服务时，统一使用 &lt;code>host.docker.internal&lt;/code>（Mac/Windows）或了解 Docker 网络模式（bridge/host）下的服务访问规则（Compose 服务名）。避免硬编码 &lt;code>localhost&lt;/code>。&lt;/li>
&lt;/ul>
&lt;h3 id="资源约束">资源约束
&lt;/h3>&lt;p>在资源充沛的本地开发机（如 16 核 32GB RAM）上测试通过，但在资源受限的 CI 节点（可能 CPU 被限流、内存不足、或与其他任务共享资源）上运行时，测试因超时、资源竞争（CPU、IO）而失败或变得不稳定（Flaky）。&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>原因&lt;/strong>：Docker 容器共享宿主机的物理资源（CPU、内存、磁盘 IO、网络带宽）。CI 环境的资源配额通常低于开发机且存在竞争。&lt;/p>&lt;/blockquote>
&lt;h4 id="如何解决-3">如何解决？
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>资源限制与监控&lt;/strong>：在 Docker 运行命令或 Compose 文件中为测试容器明确设置资源限制（&lt;code>--cpus&lt;/code>, &lt;code>--memory&lt;/code>），使其更接近 CI 环境。监控 CI 节点的资源使用情况。&lt;/li>
&lt;li>&lt;strong>性能优化&lt;/strong>：优化测试用例和框架本身，减少资源消耗（如并行化控制、避免内存泄漏、优化 I/O 操作）。&lt;/li>
&lt;li>&lt;strong>选择匹配的 CI 环境&lt;/strong>：确保 CI 环境的基础资源配置能满足测试运行的最低要求。&lt;/li>
&lt;/ul>
&lt;h3 id="可变依赖与版本漂移latest标签的隐患">可变依赖与版本漂移：“latest”标签的隐患
&lt;/h3>&lt;p>镜像构建时使用基础镜像标签 &lt;code>FROM python:latest&lt;/code> 或未严格锁定依赖版本 &lt;code>pip install -r requirements.txt&lt;/code>（未使用 &lt;code>pip freeze&lt;/code> 或版本锁文件），导致后续构建的镜像因底层依赖（Python 解释器、库）的意外升级而引入不兼容或 Bug，破坏测试稳定性。&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>原因&lt;/strong>：依赖项的“latest”标签或未锁定的版本号会随时间推移指向新版本，带来不确定性。&lt;/p>&lt;/blockquote>
&lt;h4 id="如何解决-4">如何解决？
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>严格版本锁定&lt;/strong>：在 Dockerfile 中使用确定版本的基础镜像标签（如 &lt;code>FROM python:3.11-slim&lt;/code>）。使用版本锁文件（如 &lt;code>requirements.txt&lt;/code> 明确每个依赖的版本号，或使用 &lt;code>poetry.lock&lt;/code>/&lt;code>Pipfile.lock&lt;/code>）管理依赖项。&lt;/li>
&lt;li>&lt;strong>可重现的构建&lt;/strong>：确保基于相同的锁文件，每次构建都能生成完全一致的镜像。定期有计划地更新依赖版本并重新测试验证。&lt;/li>
&lt;/ul>
&lt;h2 id="理性看待docker-的价值与工程实践">理性看待Docker 的价值与工程实践
&lt;/h2>&lt;p>尽管存在上述诸多问题，我们还是&lt;strong>不应否定 Docker 在测试自动化中的巨大价值&lt;/strong>。它在环境标准化、简化依赖管理、让CI/CD流水线更易管理等方面，依然有着不可替代的优势。&lt;/p>
&lt;p>所以应用Docker，关键在于理解：&lt;strong>Docker 是实现一致性的强大工具，但非一劳永逸的“银弹”&lt;/strong>。技术的应用还是需要通过良好的工程实践和有效约束发挥作用！&lt;/p>
&lt;h2 id="总结">&lt;strong>总结&lt;/strong>
&lt;/h2>&lt;p>Docker 为测试自动化环境的一致性筑起了一道坚固的“围栏”，极大地提升了测试的可信度和效率。然而，“围栏”并非密不透风。&lt;/p>
&lt;p>宿主架构差异、外部依赖渗透、OS 交互特性、资源竞争以及依赖版本漂移等因素，都可能悄然侵蚀预期的绝对一致性。&lt;/p>
&lt;p>实现真正可靠的 Docker 化测试自动化，不仅需要熟练运用 Docker 技术本身，更要求我们秉持严谨的工程实践——明确环境边界、严格依赖管理、优化资源利用、持续监控改进。唯有如此，我们才能有效破除“一致性幻象”，让 Docker 真正成为保障软件质量的坚实基石。&lt;/p>
&lt;p>所以，下次当我们听到 “&lt;strong>没问题，它已经 通过Docker容器化了&lt;/strong>”，不妨多问一句：&lt;/p>
&lt;ul>
&lt;li>它运行在什么架构上？&lt;/li>
&lt;li>依赖是否锁定？&lt;/li>
&lt;li>网络和文件访问是如何处理的？&lt;/li>
&lt;li>资源足够吗？&lt;/li>
&lt;/ul>
&lt;p>知己知彼，方能运筹帷幄。&lt;/p>
&lt;hr></description></item><item><title>AI技巧，用本地Deepseek也可以生图啦</title><link>https://chengxiaqiucao.github.io/post/095-deepseek%E7%94%9F%E5%9B%BE/</link><pubDate>Sun, 18 May 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/095-deepseek%E7%94%9F%E5%9B%BE/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/095-deepseek%E7%94%9F%E5%9B%BE/snap_20250613.png" alt="Featured image of post AI技巧，用本地Deepseek也可以生图啦" />&lt;blockquote>
&lt;p>我们都知道，Deepseek是个文本模型，不具备生成图像能力。而在线的各种图像生成AI要么收费，要么有额度限制，这里就跟大家分享一个通过本地部署的Deepseek，全免费的AI生图技巧。&lt;/p>&lt;/blockquote>
&lt;h2 id="ai生图接口">AI生图接口
&lt;/h2>&lt;p>Deepseek本身目前当然是没办法生成图片，但 github 这个宝藏，自然是能找到惊喜。本文我们介绍的这个图像生成工具，来自一个德国的AI初创公司，支持文生图、文生音频等功能。&lt;/p>
&lt;h3 id="pollinationsai-介绍">pollinations.ai 介绍
&lt;/h3>&lt;p>该项目支持通过基本的Restful API接口来完成图像的生成。&lt;/p>
&lt;p>开源项目地址：&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/pollinations/pollinations" target="_blank" rel="noopener"
>https://github.com/pollinations/pollinations&lt;/a>&lt;/p>
&lt;p>官网：&lt;/p>
&lt;p>&lt;a class="link" href="https://pollinations.ai/" target="_blank" rel="noopener"
>https://pollinations.ai/&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/095-deepseek%E7%94%9F%E5%9B%BE/snap_20250613.png"
width="1900"
height="736"
srcset="https://chengxiaqiucao.github.io/post/095-deepseek%E7%94%9F%E5%9B%BE/snap_20250613_hu_8e574bda685cf311.png 480w, https://chengxiaqiucao.github.io/post/095-deepseek%E7%94%9F%E5%9B%BE/snap_20250613_hu_d0e934fe2a6c5b3d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="258"
data-flex-basis="619px"
>&lt;/p>
&lt;p>官网虽简陋，但无需注册和密钥，开源免费，简直太香了&lt;/p>
&lt;h3 id="api定义">API定义
&lt;/h3>&lt;p>生成图像的API 是最基本的 &lt;code>get&lt;/code> 方法&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">GET https://image.pollinations.ai/prompt/{prompt}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>API支持的参数：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: center">参数&lt;/th>
&lt;th style="text-align: center">是否必须&lt;/th>
&lt;th style="text-align: center">作用&lt;/th>
&lt;th style="text-align: center">默认值&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: center">&lt;code>prompt&lt;/code>&lt;/td>
&lt;td style="text-align: center">Yes&lt;/td>
&lt;td style="text-align: center">图像生成提示词&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">&lt;code>model&lt;/code>&lt;/td>
&lt;td style="text-align: center">No&lt;/td>
&lt;td style="text-align: center">使用的生图模型&lt;/td>
&lt;td style="text-align: center">&lt;code>flux&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">&lt;code>seed&lt;/code>&lt;/td>
&lt;td style="text-align: center">No&lt;/td>
&lt;td style="text-align: center">随机种子&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">&lt;code>width&lt;/code>&lt;/td>
&lt;td style="text-align: center">No&lt;/td>
&lt;td style="text-align: center">图像宽度（像素）&lt;/td>
&lt;td style="text-align: center">1024&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">&lt;code>height&lt;/code>&lt;/td>
&lt;td style="text-align: center">No&lt;/td>
&lt;td style="text-align: center">图像高度（像素）&lt;/td>
&lt;td style="text-align: center">1024&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">&lt;code>nologo&lt;/code>&lt;/td>
&lt;td style="text-align: center">No&lt;/td>
&lt;td style="text-align: center">是否保留pollinations的logo&lt;/td>
&lt;td style="text-align: center">&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">&lt;code>private&lt;/code>&lt;/td>
&lt;td style="text-align: center">No&lt;/td>
&lt;td style="text-align: center">是否公开生成的图像&lt;/td>
&lt;td style="text-align: center">&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">&lt;code>enhance&lt;/code>&lt;/td>
&lt;td style="text-align: center">No&lt;/td>
&lt;td style="text-align: center">是否使用LLM增强提示词&lt;/td>
&lt;td style="text-align: center">&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">&lt;code>safe&lt;/code>&lt;/td>
&lt;td style="text-align: center">No&lt;/td>
&lt;td style="text-align: center">十八禁&lt;/td>
&lt;td style="text-align: center">&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">&lt;code>transparent&lt;/code>&lt;/td>
&lt;td style="text-align: center">No&lt;/td>
&lt;td style="text-align: center">透明背景(仅gptimage model有效).&lt;/td>
&lt;td style="text-align: center">&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>支持的模型清单：&lt;/p>
&lt;ul>
&lt;li>&lt;code>flux&lt;/code>（基本模型）&lt;/li>
&lt;li>&lt;code>flux-pro&lt;/code>（加强效果）&lt;/li>
&lt;li>&lt;code>flux-realism&lt;/code>（写实风格）&lt;/li>
&lt;li>&lt;code>flux-anime&lt;/code>（动漫风格）&lt;/li>
&lt;li>&lt;code>flux-3d&lt;/code>（3D 风格）&lt;/li>
&lt;li>&lt;code>flux-cablyai&lt;/code>（未知）&lt;/li>
&lt;li>&lt;code>turbo&lt;/code>（快速生成）&lt;/li>
&lt;/ul>
&lt;p>http的get方法，其实通过html是可以直接请求并渲染的，这就给我们基于Deepseek来完成图像生成带来机会。也就是我们可以制定规则，让Deepseek生成需要的提示词，并按HTML格式将 pollinations api 生成的图像在html中呈现出来&lt;/p>
&lt;h2 id="本地deepseek和cherry-studio配置">本地Deepseek和cherry studio配置
&lt;/h2>&lt;p>本地通过 Ollama 部署 Deepseek，并通过cherry studio 交互的方法，在前文 【】中有详细描述，这里不再赘述。&lt;/p>
&lt;p>本地运行 Deepseek 模型后，比如 &lt;code>deepseek-r1:14b&lt;/code>, 打开cherry studio， 增加一个角色，如图像生成助手。并设置其系统提示词，定义相关规则(具体提示词参见文末)&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/095-deepseek%E7%94%9F%E5%9B%BE/snap_20250613-1.png"
width="1901"
height="1004"
srcset="https://chengxiaqiucao.github.io/post/095-deepseek%E7%94%9F%E5%9B%BE/snap_20250613-1_hu_34b11996a56598f6.png 480w, https://chengxiaqiucao.github.io/post/095-deepseek%E7%94%9F%E5%9B%BE/snap_20250613-1_hu_4096203d1e2a2826.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="189"
data-flex-basis="454px"
>&lt;/p>
&lt;p>接下来，测试一下，在 cherry studio 中输入：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">秋天，古城墙根下，一丛荒草随风摇摆 动漫风格，16:9
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Deepseek 经过一番思考，成功生成了一幅 &lt;strong>城下秋草图&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/095-deepseek%E7%94%9F%E5%9B%BE/snap_20250613-2.png"
width="1504"
height="1773"
srcset="https://chengxiaqiucao.github.io/post/095-deepseek%E7%94%9F%E5%9B%BE/snap_20250613-2_hu_f78de925c2993027.png 480w, https://chengxiaqiucao.github.io/post/095-deepseek%E7%94%9F%E5%9B%BE/snap_20250613-2_hu_68c75c1b14119bbc.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="84"
data-flex-basis="203px"
>&lt;/p>
&lt;p>大家快试试吧~~&lt;/p>
&lt;h3 id="附">附：
&lt;/h3>&lt;p>提示词设定规则模板&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-mysql" data-lang="mysql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#角色：你是一个专业的图像创作助手
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">#技能：能根据用户输入的简单描述，生成一幅完整画面的&amp;#34;详细描述&amp;#34;。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">#规则：
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">用户输入的简单描述，插入到【输出】的{&lt;/span>&lt;span class="n">user_prompt&lt;/span>&lt;span class="err">}部分&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">生成的&lt;/span>&lt;span class="s2">&amp;#34;详细描述&amp;#34;&lt;/span>&lt;span class="err">尽可能全面，细节丰富，从图像的专业生成角度补充如光线使用、构图、材质、视角、色彩、渲染方式等。&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">将&lt;/span>&lt;span class="s2">&amp;#34;详细描述&amp;#34;&lt;/span>&lt;span class="err">插入到【输出】的{&lt;/span>&lt;span class="n">ai_chinese_prompt&lt;/span>&lt;span class="err">}部分&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">将&lt;/span>&lt;span class="s2">&amp;#34;详细描述&amp;#34;&lt;/span>&lt;span class="err">完整、准确翻译成英文，插入到【输出】的{&lt;/span>&lt;span class="n">ai_english_prompt&lt;/span>&lt;span class="err">}部分&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">如果用户的描述中包含高度信息，直接插入到【输出】的{&lt;/span>&lt;span class="n">width&lt;/span>&lt;span class="err">}部分，否则插入默认值&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">1280&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">如果用户的描述中包含宽度信息，直接插入到【输出】的{&lt;/span>&lt;span class="n">height&lt;/span>&lt;span class="err">}部分，否则插入默认值&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">1280&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">如果出现比例，指宽&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="err">高，宽度默认用&lt;/span>&lt;span class="mi">1280&lt;/span>&lt;span class="err">，根据比例计算高度，插入到【输出】的{&lt;/span>&lt;span class="n">height&lt;/span>&lt;span class="err">}部分&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">随机生成一个整数，插入到【输出】的{&lt;/span>&lt;span class="n">seed&lt;/span>&lt;span class="err">}部分&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">根据用户对画面风格的描述，选择对应的模型。如果用户没有特别指定，从下面&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">个模型中随机选一个模型，插入到【输出】的{&lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="err">}部分&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">flux&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="err">（基本模型）&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">flux&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">pro&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="err">（加强效果）&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">flux&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">realism&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="err">（写实风格）&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">flux&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">anime&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="err">（动漫风格）&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">flux&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="err">（&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="n">D&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">风格）&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">flux&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cablyai&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="err">（未知）&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">turbo&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="err">（快速生成）&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">输出结果直接渲染，不展示为代码块&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">#输出：
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">html&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">title&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">Image&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Generator&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">title&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">body&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">h2&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="err">{&lt;/span>&lt;span class="n">ai_chinese_prompt&lt;/span>&lt;span class="err">}&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">h2&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">h4&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="err">{&lt;/span>&lt;span class="n">ai_english_prompt&lt;/span>&lt;span class="err">}&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">h4&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">img&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;https://image.pollinations.ai/prompt/{ai_english_prompt}?width={width}&amp;amp;height={height}&amp;amp;seed={seed}&amp;amp;enhance=true&amp;amp;private=true&amp;amp;nologo=true&amp;amp;safe=false&amp;amp;model={model}&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">alt&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;{user_prompt}&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">body&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">html&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>W3C ARIA Roles标准及其在AI驱动自动化测试中的作用</title><link>https://chengxiaqiucao.github.io/post/084-aria%E4%BB%8B%E7%BB%8D/</link><pubDate>Sun, 27 Apr 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/084-aria%E4%BB%8B%E7%BB%8D/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/084-aria%E4%BB%8B%E7%BB%8D/-20250417.png" alt="Featured image of post W3C ARIA Roles标准及其在AI驱动自动化测试中的作用" />&lt;h2 id="前言">前言
&lt;/h2>&lt;p>自动化测试领域目前最火热的自动化框架非&lt;code>Playwright&lt;/code> 莫属，而在 Playwright 中，对于自动化测试中极为关键的页面元素定位，相比传统的&lt;code>Selenium&lt;/code>等工具, 它引入了一个新的元素定位方法 &lt;code>getByRole&lt;/code>，也就是它充分利用了W3C 定义的 ARIA Roles对象, 来进行元素的识别。在提升元素识别灵活性及识别效率的同时，其实也同步对页面的无障碍合规进行了验证。 比如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 定位名为&amp;#34;搜索&amp;#34;的按钮
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;button&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;搜索&amp;#39;&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 定位复选框并勾选
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;checkbox&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;同意条款&amp;#39;&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">check&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 定位文本输入框并填写内容
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;textbox&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;用户名&amp;#39;&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">fill&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;testuser&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 定位下拉选择框并选择选项
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;combobox&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;国家&amp;#39;&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">selectOption&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;中国&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>而目前，AI 越来越多地参与到我们实际工作中，正如前文 【】中展示的，AI 通过 &lt;code>mcp server&lt;/code>驱动页面完成自动化测试已经具备相当的落地可能。在这个文章后，很多小伙伴对于 AI 如何对页面元素进行识别和定位，并通过工具来驱动执行，实际应用后效果能否达到预期抱有较大的怀疑。&lt;/p>
&lt;p>其实这里，&lt;code>W3C&lt;/code>web规范中的&lt;code>ARIA&lt;/code>标准，对于将页面对象结构化展示给AI，便于AI对页面完成分析，有着重要意义。 本文，我们就来探讨一下&lt;code>ARIA&lt;/code>标准，及其在AI驱动自动化测试中的重要作用。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/084-aria%E4%BB%8B%E7%BB%8D/-20250417.png"
width="899"
height="328"
srcset="https://chengxiaqiucao.github.io/post/084-aria%E4%BB%8B%E7%BB%8D/-20250417_hu_9d3e9eb2060ef8a4.png 480w, https://chengxiaqiucao.github.io/post/084-aria%E4%BB%8B%E7%BB%8D/-20250417_hu_29fab63ac4f3149d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="274"
data-flex-basis="657px"
>&lt;/p>
&lt;h2 id="什么是aria">什么是ARIA？
&lt;/h2>&lt;h3 id="定义">定义
&lt;/h3>&lt;p>&lt;strong>WAI-ARIA&lt;/strong> (Web Accessibility Initiative – Accessible Rich Internet Applications)，即 &lt;strong>web无障碍倡议-无障碍富互联网应用标准&lt;/strong>， 是一个让Web应用可以更好支持残障人士使用的规范。&lt;/p>
&lt;p>而&lt;strong>ARIA Roles&lt;/strong>是W3C &lt;strong>WAI-ARIA&lt;/strong> 规范中定义的一组属性，用于描述Web元素的功能和目的，帮助辅助技术（如屏幕阅读器）更准确地理解和传达页面内容。**ARIA Roles **通过&lt;code>role&lt;/code>属性添加到HTML元素中，例如&lt;code>&amp;lt;div role=&amp;quot;button&amp;quot;&amp;gt;&lt;/code>表示该div元素应被视为按钮。&lt;/p>
&lt;h3 id="标准的演进及aria的优势">标准的演进及ARIA的优势
&lt;/h3>&lt;p>该标准经历了三个重要发展阶段：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>2008年&lt;/strong>：W3C首次发布ARIA 1.0&lt;/li>
&lt;li>&lt;strong>2014年&lt;/strong>：ARIA 1.1引入新角色如&lt;code>searchbox&lt;/code>、&lt;code>switch&lt;/code>&lt;/li>
&lt;li>&lt;strong>2021年&lt;/strong>：ARIA 1.2增加了&lt;code>comment&lt;/code>、&lt;code>mark&lt;/code>等数字内容相关Role&lt;/li>
&lt;/ul>
&lt;p>和传统 UI 自动化测试的比较：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>维度&lt;/th>
&lt;th>传统UI测试&lt;/th>
&lt;th>基于ARIA的测试&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>元素识别依据&lt;/td>
&lt;td>DOM结构/视觉特征&lt;/td>
&lt;td>语义角色/功能属性&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>维护成本&lt;/td>
&lt;td>高(随UI变化频繁更新)&lt;/td>
&lt;td>低(角色定义更稳定)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>跨平台一致性&lt;/td>
&lt;td>依赖渲染引擎&lt;/td>
&lt;td>标准化行为&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>无障碍支持&lt;/td>
&lt;td>需额外验证&lt;/td>
&lt;td>内置支持&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="aria-roles类别">ARIA Roles类别
&lt;/h3>&lt;p>根据W3C规范，ARIA Roles可分为以下几大类：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>Widget Roles&lt;/strong>：描述交互式UI组件&lt;/p>
&lt;ul>
&lt;li>&lt;code>button&lt;/code>：可点击的按钮&lt;/li>
&lt;li>&lt;code>checkbox&lt;/code>：复选框&lt;/li>
&lt;li>&lt;code>radio&lt;/code>：单选按钮&lt;/li>
&lt;li>&lt;code>textbox&lt;/code>：文本输入框&lt;/li>
&lt;li>&lt;code>combobox&lt;/code>：下拉组合框&lt;/li>
&lt;li>&lt;code>slider&lt;/code>：滑块控件&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Document Structure Roles&lt;/strong>：描述页面内容结构&lt;/p>
&lt;ul>
&lt;li>&lt;code>heading&lt;/code>：标题 (h1-h6的替代)&lt;/li>
&lt;li>&lt;code>list&lt;/code>/&lt;code>listitem&lt;/code>：列表和列表项&lt;/li>
&lt;li>&lt;code>table&lt;/code>/&lt;code>row&lt;/code>/&lt;code>cell&lt;/code>：表格结构&lt;/li>
&lt;li>&lt;code>img&lt;/code>：图像&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Landmark Roles&lt;/strong>：标识页面主要区域&lt;/p>
&lt;ul>
&lt;li>&lt;code>banner&lt;/code>：页眉&lt;/li>
&lt;li>&lt;code>navigation&lt;/code>：导航区域&lt;/li>
&lt;li>&lt;code>main&lt;/code>：主要内容&lt;/li>
&lt;li>&lt;code>search&lt;/code>：搜索区域&lt;/li>
&lt;li>&lt;code>contentinfo&lt;/code>：页脚信息&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Live Region Roles&lt;/strong>：动态内容更新区域&lt;/p>
&lt;ul>
&lt;li>&lt;code>alert&lt;/code>：重要且需立即通知的信息&lt;/li>
&lt;li>&lt;code>status&lt;/code>：操作状态反馈&lt;/li>
&lt;li>&lt;code>timer&lt;/code>：计时器或计数器&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>除基础Role外， 现代Web应用常用的高级角色还包括：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>复合组件角色&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">role&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;tree&amp;#34;&lt;/span> &lt;span class="na">aria-label&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;文件浏览器&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">role&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;treeitem&amp;#34;&lt;/span> &lt;span class="na">aria-expanded&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;true&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>文档
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">role&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;group&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">role&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;treeitem&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>工作文档.docx&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>实时通信角色&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">role&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;feed&amp;#34;&lt;/span> &lt;span class="na">aria-busy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;false&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">article&lt;/span> &lt;span class="na">role&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;article&amp;#34;&lt;/span> &lt;span class="na">aria-posinset&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span> &lt;span class="na">aria-setsize&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;10&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>...&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">article&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>拖放操作角色&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">role&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;draggable&amp;#34;&lt;/span> &lt;span class="na">aria-grabbed&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;false&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>可拖动项&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">role&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;droppable&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="aria在-ai-驱动测试中的核心作用">ARIA在 AI 驱动测试中的核心作用
&lt;/h2>&lt;h3 id="语义理解增强">语义理解增强
&lt;/h3>&lt;p>AI 测试系统通过ARIA角色建立的语义网络，能更准确地理解UI功能：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">graph TD
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> A[原始DOM] --&amp;gt; B(视觉特征分析)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> A --&amp;gt; C(ARIA角色解析)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> C --&amp;gt; D[语义理解层]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> B --&amp;gt; D
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> D --&amp;gt; E[组件功能分类]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> D --&amp;gt; F[操作意图推断]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>典型应用场景&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>自动识别未标注的表单必填字段（通过&lt;code>aria-required&lt;/code>）&lt;/li>
&lt;li>发现动态内容更新的优先级（通过&lt;code>aria-live&lt;/code>的&lt;code>polite&lt;/code>/&lt;code>assertive&lt;/code>）&lt;/li>
&lt;li>识别复合组件的交互边界（如&lt;code>role=&amp;quot;dialog&amp;quot;&lt;/code>的模态范围）&lt;/li>
&lt;/ul>
&lt;h3 id="测试用例智能生成">测试用例智能生成
&lt;/h3>&lt;p>基于ARIA的AI测试生成流程：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>角色图谱构建&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">build_role_graph&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">graph&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">element&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">page&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">query_selector_all&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[role]&amp;#39;&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">role&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">element&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_attribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;role&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">related&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">get_related_aria_attributes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">element&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">graph&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">element&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;role&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">role&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;attributes&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">related&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">graph&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>测试策略匹配&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>按钮类角色(&lt;code>button&lt;/code>, &lt;code>switch&lt;/code>) → 点击操作序列&lt;/li>
&lt;li>输入类角色(&lt;code>textbox&lt;/code>, &lt;code>spinbutton&lt;/code>) → 输入验证测试&lt;/li>
&lt;li>状态类角色(&lt;code>progressbar&lt;/code>, &lt;code>timer&lt;/code>) → 动态监控测试&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>边缘用例推导&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>当检测到&lt;code>role=&amp;quot;combobox&amp;quot;&lt;/code>但缺少&lt;code>aria-controls&lt;/code>时&lt;/li>
&lt;li>发现&lt;code>role=&amp;quot;tablist&amp;quot;&lt;/code>中子项未正确设置&lt;code>aria-selected&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="23-自愈测试维护">2.3 自愈测试维护
&lt;/h3>&lt;p>AI 系统利用ARIA实现的测试自愈机制：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sequenceDiagram
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Test Case-&amp;gt;&amp;gt;+AI Engine: 定位失败(旧选择器)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> AI Engine-&amp;gt;&amp;gt;+DOM: 查询同角色元素
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> DOM--&amp;gt;&amp;gt;-AI Engine: 返回候选元素
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> AI Engine-&amp;gt;&amp;gt;+ARIA Analyzer: 验证名称/状态
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ARIA Analyzer--&amp;gt;&amp;gt;-AI Engine: 最佳匹配结果
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> AI Engine-&amp;gt;&amp;gt;Test Case: 更新定位器
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>效果预期&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>选择器维护工作量减少&lt;/li>
&lt;li>相比传统方法，降低误报率&lt;/li>
&lt;li>跨平台测试一致性提升&lt;/li>
&lt;/ul>
&lt;h2 id="aria与计算机视觉测试的协同">ARIA与计算机视觉测试的协同
&lt;/h2>&lt;h3 id="31-多模态测试融合">3.1 多模态测试融合
&lt;/h3>&lt;p>现代AI测试平台结合ARIA与CV的优势：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>检测维度&lt;/th>
&lt;th>ARIA提供信息&lt;/th>
&lt;th>CV补充信息&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>元素功能&lt;/td>
&lt;td>明确角色定义&lt;/td>
&lt;td>视觉样式验证&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>交互状态&lt;/td>
&lt;td>aria-pressed等属性&lt;/td>
&lt;td>实际渲染状态&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>层级关系&lt;/td>
&lt;td>aria-owns等属性&lt;/td>
&lt;td>空间位置关系&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>动态变化&lt;/td>
&lt;td>aria-live区域&lt;/td>
&lt;td>像素级变化检测&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>协同工作流示例&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">validate_accessible_button&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">element&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ARIA验证&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="n">element&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_attribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;role&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;button&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="n">element&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_attribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;aria-label&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="kc">None&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># CV验证&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">screenshot&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">element&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">screenshot&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cv_result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">analyze_button_visuals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">screenshot&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="n">cv_result&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;contrast_ratio&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mf">4.5&lt;/span> &lt;span class="c1"># WCAG AA标准&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="无障碍智能审计">无障碍智能审计
&lt;/h3>&lt;p>AI驱动的ARIA审计系统架构：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[页面爬取模块]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ↓
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[ARIA属性提取器]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ↓
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[规则引擎]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── WCAG 2.1规则集
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── 自定义业务规则
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">└── 机器学习异常检测
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ↓
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[修复建议生成]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── 自动修复方案
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── 设计模式推荐
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">└── 代码补全提示
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ai自动化测试应用场景">AI自动化测试应用场景
&lt;/h2>&lt;h3 id="大语言模型llm集成">大语言模型(LLM)集成
&lt;/h3>&lt;p>ARIA可为LLM提供的结构化上下文：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-markdown" data-lang="markdown">&lt;span class="line">&lt;span class="cl">给定以下ARIA上下文：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">-&lt;/span> 当前焦点元素: role=&amp;#34;combobox&amp;#34;, aria-expanded=&amp;#34;false&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">-&lt;/span> 相关元素:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">*&lt;/span> role=&amp;#34;listbox&amp;#34; (hidden)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">*&lt;/span> role=&amp;#34;option&amp;#34; x3 (hidden)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">LLM生成的测试操作序列：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">1.&lt;/span> 触发combobox的展开操作
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">2.&lt;/span> 验证listbox可见性变为true
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">3.&lt;/span> 获取选项列表并选择第二项
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">4.&lt;/span> 验证combobox的aria-activedescendant更新
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="无脚本测试自动化">无脚本测试自动化
&lt;/h3>&lt;p>基于ARIA和MCP结合，实现零代码测试：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>录制阶段&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>监听所有交互事件的ARIA角色变化&lt;/li>
&lt;li>构建操作-状态转换图&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>回放阶段&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">replay_by_aria&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">flow&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">step&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">flow&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">find_element_by_role_state&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">step&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;role&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">step&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;attributes&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">execute_action&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">target&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">step&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;action&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">validate_aria_states&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">step&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;expected_states&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h3 id="跨设备测试适配">跨设备测试适配
&lt;/h3>&lt;p>ARIA角色在不同设备上的映射策略：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>桌面端角色&lt;/th>
&lt;th>移动端等效模式&lt;/th>
&lt;th>AI处理策略&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>tablist&lt;/td>
&lt;td>底部导航栏&lt;/td>
&lt;td>基于aria-orientation自动适配&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>tooltip&lt;/td>
&lt;td>长按提示&lt;/td>
&lt;td>交互超时自动调整&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>slider&lt;/td>
&lt;td>触摸滑块&lt;/td>
&lt;td>根据屏幕尺寸优化步长&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="发展方向">发展方向
&lt;/h2>&lt;h3 id="aria与testing-ai的深度结合">ARIA与Testing AI的深度结合：
&lt;/h3>&lt;ul>
&lt;li>角色驱动的自主探索式测试&lt;/li>
&lt;li>基于角色相似性的迁移学习&lt;/li>
&lt;/ul>
&lt;h3 id="和其他新测试技术整合">和其他新测试技术整合：
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">graph LR
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> A[ARIA语义] --&amp;gt; B[VR/AR测试]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> A --&amp;gt; C[语音交互测试]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> A --&amp;gt; D[物联网界面测试]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="标准化演进">标准化演进：
&lt;/h3>&lt;p>正在制定的ARIA 2.0将增加：&lt;/p>
&lt;ul>
&lt;li>更细粒度的状态描述&lt;/li>
&lt;li>增强的AI辅助属性&lt;/li>
&lt;li>三维界面支持&lt;/li>
&lt;/ul>
&lt;h2 id="结语">结语
&lt;/h2>&lt;p>ARIA标准正在成为智能测试自动化的关键基础设施，其提供的丰富语义层使得AI系统能像人类一样理解Web应用的交互逻辑。随着W3C对标准的持续完善和测试工具链的进化，基于ARIA的AI驱动测试必将成为Web自动化测试领域的核心支柱。&lt;/p>
&lt;hr>
&lt;h1 id="w3c-aria-roles及其在playwright自动化测试中的应用">W3C ARIA Roles及其在Playwright自动化测试中的应用
&lt;/h1>&lt;p>作为自动化测试工程师，理解并正确应用W3C标准中的ARIA（Accessible Rich Internet Applications）Roles对于构建可访问的Web应用和编写可靠的自动化测试脚本至关重要。本文将详细介绍ARIA Roles的核心概念、分类、最佳实践，并重点阐述如何在Playwright测试框架中有效利用这些角色进行元素定位和验证。&lt;/p>
&lt;h2 id="一aria-roles概述">一、ARIA Roles概述
&lt;/h2>&lt;h3 id="11-什么是aria-roles">1.1 什么是ARIA Roles
&lt;/h3>&lt;p>ARIA Roles是W3C WAI-ARIA规范中定义的一组属性，用于描述Web元素的功能和目的，帮助辅助技术（如屏幕阅读器）更准确地理解和传达页面内容。ARIA Roles通过&lt;code>role&lt;/code>属性添加到HTML元素中，例如&lt;code>&amp;lt;div role=&amp;quot;button&amp;quot;&amp;gt;&lt;/code>表示该div元素应被视为按钮。&lt;/p>
&lt;h3 id="12-aria-roles的重要性">1.2 ARIA Roles的重要性
&lt;/h3>&lt;p>在Web自动化测试中，ARIA Roles提供了以下优势：&lt;/p>
&lt;ol>
&lt;li>&lt;strong>增强元素语义&lt;/strong>：为自定义控件或非标准HTML元素提供明确的语义&lt;/li>
&lt;li>&lt;strong>提高测试可靠性&lt;/strong>：相比脆弱的CSS选择器或XPath，基于角色的定位更稳定&lt;/li>
&lt;li>&lt;strong>支持无障碍测试&lt;/strong>：验证应用是否符合无障碍标准(WCAG)&lt;/li>
&lt;li>&lt;strong>跨浏览器一致性&lt;/strong>：ARIA Roles在不同浏览器中表现一致，减少测试差异&lt;/li>
&lt;/ol>
&lt;h2 id="二aria-roles分类及常见角色">二、ARIA Roles分类及常见角色
&lt;/h2>&lt;h3 id="21-aria-roles主要类别">2.1 ARIA Roles主要类别
&lt;/h3>&lt;p>根据W3C规范，ARIA Roles可分为以下几大类：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>Widget Roles&lt;/strong>：描述交互式UI组件&lt;/p>
&lt;ul>
&lt;li>&lt;code>button&lt;/code>：可点击的按钮&lt;/li>
&lt;li>&lt;code>checkbox&lt;/code>：复选框&lt;/li>
&lt;li>&lt;code>radio&lt;/code>：单选按钮&lt;/li>
&lt;li>&lt;code>textbox&lt;/code>：文本输入框&lt;/li>
&lt;li>&lt;code>combobox&lt;/code>：下拉组合框&lt;/li>
&lt;li>&lt;code>slider&lt;/code>：滑块控件&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Document Structure Roles&lt;/strong>：描述页面内容结构&lt;/p>
&lt;ul>
&lt;li>&lt;code>heading&lt;/code>：标题(h1-h6的替代)&lt;/li>
&lt;li>&lt;code>list&lt;/code>/&lt;code>listitem&lt;/code>：列表和列表项&lt;/li>
&lt;li>&lt;code>table&lt;/code>/&lt;code>row&lt;/code>/&lt;code>cell&lt;/code>：表格结构&lt;/li>
&lt;li>&lt;code>img&lt;/code>：图像&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Landmark Roles&lt;/strong>：标识页面主要区域&lt;/p>
&lt;ul>
&lt;li>&lt;code>banner&lt;/code>：页眉&lt;/li>
&lt;li>&lt;code>navigation&lt;/code>：导航区域&lt;/li>
&lt;li>&lt;code>main&lt;/code>：主要内容&lt;/li>
&lt;li>&lt;code>search&lt;/code>：搜索区域&lt;/li>
&lt;li>&lt;code>contentinfo&lt;/code>：页脚信息&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Live Region Roles&lt;/strong>：动态内容更新区域&lt;/p>
&lt;ul>
&lt;li>&lt;code>alert&lt;/code>：重要且需立即通知的信息&lt;/li>
&lt;li>&lt;code>status&lt;/code>：操作状态反馈&lt;/li>
&lt;li>&lt;code>timer&lt;/code>：计时器或计数器&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="22-常用aria-roles示例">2.2 常用ARIA Roles示例
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- 按钮角色 --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">role&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span> &lt;span class="na">tabindex&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;0&amp;#34;&lt;/span> &lt;span class="na">aria-pressed&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;false&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>自定义按钮&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- 导航区域 --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">nav&lt;/span> &lt;span class="na">role&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;navigation&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>首页&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">nav&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- 警告信息 --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">role&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;alert&amp;#34;&lt;/span> &lt;span class="na">aria-live&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;assertive&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 您的操作已成功保存
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- 进度条 --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">role&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;progressbar&amp;#34;&lt;/span> &lt;span class="na">aria-valuenow&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;75&amp;#34;&lt;/span> &lt;span class="na">aria-valuemin&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;0&amp;#34;&lt;/span> &lt;span class="na">aria-valuemax&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;100&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="三playwright中的aria应用">三、Playwright中的ARIA应用
&lt;/h2>&lt;h3 id="31-基于aria-roles的元素定位">3.1 基于ARIA Roles的元素定位
&lt;/h3>&lt;p>Playwright提供了专门的&lt;code>getByRole()&lt;/code>定位器方法，这是使用ARIA Roles进行元素定位的最佳方式。相比传统的CSS或XPath选择器，基于角色的定位更加稳定且语义化明确。&lt;/p>
&lt;p>&lt;strong>基本语法&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;button&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;提交&amp;#39;&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>常见角色定位示例&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 定位名为&amp;#34;搜索&amp;#34;的按钮
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;button&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;搜索&amp;#39;&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 定位复选框并勾选
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;checkbox&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;同意条款&amp;#39;&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">check&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 定位文本输入框并填写内容
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;textbox&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;用户名&amp;#39;&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">fill&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;testuser&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 定位下拉选择框并选择选项
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;combobox&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;国家&amp;#39;&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">selectOption&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;中国&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="32-角色定位器的选项参数">3.2 角色定位器的选项参数
&lt;/h3>&lt;p>&lt;code>getByRole()&lt;/code>方法支持多种选项参数，可以更精确地定位元素：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;button&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;提交&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 可访问名称
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">pressed&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 按钮状态(是否按下)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expanded&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 是否展开(用于菜单等)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">disabled&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 是否禁用
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">checked&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 是否选中(复选框/单选按钮)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">selected&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 是否被选择(标签页等)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">includeHidden&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 是否包含隐藏元素
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">exact&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="c1">// 名称是否精确匹配
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="33-验证aria属性和状态">3.3 验证ARIA属性和状态
&lt;/h3>&lt;p>Playwright不仅可以定位元素，还可以验证ARIA属性和状态：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 验证按钮是否禁用
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;button&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;提交&amp;#39;&lt;/span> &lt;span class="p">})).&lt;/span>&lt;span class="nx">toBeDisabled&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 验证复选框是否选中
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;checkbox&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;记住我&amp;#39;&lt;/span> &lt;span class="p">})).&lt;/span>&lt;span class="nx">toBeChecked&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 验证元素是否可见
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;alert&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBeVisible&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 验证元素的ARIA属性值
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">button&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;button&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;展开&amp;#39;&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">await&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">button&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;aria-expanded&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;false&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="四playwright的aria快照测试">四、Playwright的ARIA快照测试
&lt;/h2>&lt;p>Playwright提供了强大的ARIA快照功能，可以捕获和验证页面的无障碍树结构。&lt;/p>
&lt;h3 id="41-aria快照基础">4.1 ARIA快照基础
&lt;/h3>&lt;p>ARIA快照是页面无障碍树的YAML表示，包含元素的角色、名称、状态和层级关系：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">- &lt;span class="nt">banner&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">heading &amp;#34;欢迎页面&amp;#34; [level=1]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">main&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">button &amp;#34;提交&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">textbox &amp;#34;用户名&amp;#34; [placeholder=&amp;#34;请输入用户名&amp;#34;]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="42-快照匹配断言">4.2 快照匹配断言
&lt;/h3>&lt;p>使用&lt;code>toMatchAriaSnapshot()&lt;/code>进行快照验证：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">await&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">locator&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;body&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toMatchAriaSnapshot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - heading &amp;#34;欢迎页面&amp;#34; [level=1]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - button &amp;#34;提交&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="43-部分匹配和正则表达式">4.3 部分匹配和正则表达式
&lt;/h3>&lt;p>快照支持灵活的部分匹配：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 只匹配角色不匹配名称
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">locator&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;dialog&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toMatchAriaSnapshot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - dialog
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 使用正则表达式匹配动态文本
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">locator&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;body&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toMatchAriaSnapshot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - heading /订单 \d+/
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="44-生成和更新快照">4.4 生成和更新快照
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 使用--update-snapshots标志更新快照&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npx playwright &lt;span class="nb">test&lt;/span> --update-snapshots
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>或以编程方式生成：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">snapshot&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">locator&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#main&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">ariaSnapshot&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">snapshot&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="五aria测试最佳实践">五、ARIA测试最佳实践
&lt;/h2>&lt;h3 id="51-角色使用原则">5.1 角色使用原则
&lt;/h3>&lt;ol>
&lt;li>&lt;strong>优先使用原生HTML元素&lt;/strong>：如&lt;code>&amp;lt;button&amp;gt;&lt;/code>而非&lt;code>&amp;lt;div role=&amp;quot;button&amp;quot;&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;strong>避免冗余角色&lt;/strong>：如&lt;code>&amp;lt;nav role=&amp;quot;navigation&amp;quot;&amp;gt;&lt;/code>是多余的，因为&lt;code>&amp;lt;nav&amp;gt;&lt;/code>已隐含该角色&lt;/li>
&lt;li>&lt;strong>正确组合角色和属性&lt;/strong>：如&lt;code>role=&amp;quot;checkbox&amp;quot;&lt;/code>应配合&lt;code>aria-checked&lt;/code>使用&lt;/li>
&lt;/ol>
&lt;h3 id="52-playwright测试建议">5.2 Playwright测试建议
&lt;/h3>&lt;ol>
&lt;li>&lt;strong>优先使用ARIA定位器&lt;/strong>：比CSS/XPath更稳定可靠&lt;/li>
&lt;li>&lt;strong>结合可访问名称&lt;/strong>：使用&lt;code>name&lt;/code>选项提高定位准确性&lt;/li>
&lt;li>&lt;strong>验证动态ARIA状态&lt;/strong>：如&lt;code>aria-expanded&lt;/code>、&lt;code>aria-selected&lt;/code>等&lt;/li>
&lt;li>&lt;strong>定期检查ARIA快照&lt;/strong>：确保页面结构符合无障碍标准&lt;/li>
&lt;li>&lt;strong>测试键盘导航&lt;/strong>：配合&lt;code>page.keyboard&lt;/code>测试可访问性&lt;/li>
&lt;/ol>
&lt;h3 id="53-常见问题解决">5.3 常见问题解决
&lt;/h3>&lt;ol>
&lt;li>&lt;strong>元素不可见&lt;/strong>：添加&lt;code>includeHidden: true&lt;/code>或检查&lt;code>aria-hidden&lt;/code>属性&lt;/li>
&lt;li>&lt;strong>名称不匹配&lt;/strong>：使用&lt;code>exact: false&lt;/code>或正则表达式&lt;/li>
&lt;li>&lt;strong>动态内容&lt;/strong>：使用&lt;code>await expect().toHaveAttribute()&lt;/code>等待状态变化&lt;/li>
&lt;li>&lt;strong>自定义控件&lt;/strong>：确保添加适当的ARIA角色和属性&lt;/li>
&lt;/ol>
&lt;h2 id="六aria在复杂组件中的应用">六、ARIA在复杂组件中的应用
&lt;/h2>&lt;h3 id="61-导航菜单测试">6.1 导航菜单测试
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 展开菜单
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;button&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;菜单&amp;#39;&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 验证菜单项
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;menu&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toMatchAriaSnapshot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - menu:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - menuitem &amp;#34;首页&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - menuitem &amp;#34;产品&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - menuitem &amp;#34;关于我们&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 选择菜单项
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;menuitem&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;产品&amp;#39;&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="62-标签页tabs测试">6.2 标签页(Tabs)测试
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 验证标签页结构
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">locator&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.tabs-container&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toMatchAriaSnapshot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - tablist:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - tab &amp;#34;基本信息&amp;#34; [selected=true]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - tab &amp;#34;高级设置&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - tabpanel:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - textbox &amp;#34;用户名&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 切换标签页
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;tab&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;高级设置&amp;#39;&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">await&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;tab&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;高级设置&amp;#39;&lt;/span> &lt;span class="p">})).&lt;/span>&lt;span class="nx">toHaveAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;aria-selected&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;true&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="63-模态对话框测试">6.3 模态对话框测试
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 打开对话框
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;button&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;删除&amp;#39;&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 验证对话框
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;dialog&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toMatchAriaSnapshot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - dialog &amp;#34;确认删除&amp;#34;:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - heading &amp;#34;确认删除&amp;#34; [level=2]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - button &amp;#34;取消&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> - button &amp;#34;确认&amp;#34; [disabled=false]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 操作对话框
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">page&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getByRole&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;button&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;确认&amp;#39;&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="七总结">七、总结
&lt;/h2>&lt;p>作为自动化测试工程师，掌握W3C ARIA Roles并在Playwright测试中有效应用可以带来多重好处：&lt;/p>
&lt;ol>
&lt;li>&lt;strong>提高测试稳定性&lt;/strong>：基于语义角色的定位比基于实现细节的定位更可靠&lt;/li>
&lt;li>&lt;strong>增强可访问性&lt;/strong>：确保应用符合WCAG标准，服务更广泛的用户群体&lt;/li>
&lt;li>&lt;strong>简化测试维护&lt;/strong>：当UI样式变化时，基于角色的测试通常不需要更新&lt;/li>
&lt;li>&lt;strong>支持跨平台测试&lt;/strong>：ARIA Roles在不同浏览器和设备上表现一致&lt;/li>
&lt;/ol>
&lt;p>通过结合Playwright的ARIA定位器、状态验证和快照测试功能，您可以构建健壮、可维护且关注可访问性的自动化测试套件。随着Web应用越来越复杂，ARIA Roles在自动化测试中的重要性将持续增长，成为现代Web测试工程师必备的核心技能之一。&lt;/p>
&lt;hr>
&lt;h2 id="五实施建议与挑战">五、实施建议与挑战
&lt;/h2>&lt;h3 id="51-采用路线图">5.1 采用路线图
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>&lt;strong>基础阶段&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>在现有测试中逐步引入&lt;code>getByRole&lt;/code>定位器&lt;/li>
&lt;li>添加ARIA快照比对&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>进阶阶段&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>建立角色驱动的测试用例库&lt;/li>
&lt;li>开发ARIA合规性监控&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>AI集成阶段&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>训练专用的角色分类模型&lt;/li>
&lt;li>实现测试脚本自动生成&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="52-常见挑战解决方案">5.2 常见挑战解决方案
&lt;/h3>&lt;p>&lt;strong>挑战1：动态角色分配&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>解决方案：结合MutationObserver监听role变化
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="k">new&lt;/span> &lt;span class="nx">MutationObserver&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">mutations&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mutations&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">forEach&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">m&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">attributeName&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;role&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">updateAIElementRegistry&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}).&lt;/span>&lt;span class="nx">observe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">attributes&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>挑战2：角色滥用检测&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>解决方案：模式识别算法
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">detect_role_misuse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">element&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">valid_roles&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">get_valid_roles_for_tag&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">element&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tag_name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">current_role&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">element&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_attribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;role&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">current_role&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">valid_roles&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">suggest_native_element&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">element&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tag_name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">current_role&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>挑战3：跨框架一致性&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>解决方案：中间抽象层
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[React/Vue/Angular组件]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> → [ARIA适配层]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> → [标准化角色树]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> → [AI测试引擎]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>AI测试，测试团队的必由之路</title><link>https://chengxiaqiucao.github.io/post/083-ai%E6%B5%8B%E8%AF%95%E8%B7%AF%E7%BA%BF%E5%9B%BE/</link><pubDate>Sat, 26 Apr 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/083-ai%E6%B5%8B%E8%AF%95%E8%B7%AF%E7%BA%BF%E5%9B%BE/</guid><description>&lt;blockquote>
&lt;p>本文根据知名测试博客 &lt;a class="link" href="https://testguild.com/" target="_blank" rel="noopener"
>https://testguild.com/&lt;/a> 的最新博文翻译整理，谈到了在测试团队中系统实施、推进 AI 测试的路线图，很有参考价值，现分享给大家&lt;/p>&lt;/blockquote>
&lt;h2 id="ai-测试自动化不再是可选项">AI 测试自动化不再是可选项
&lt;/h2>&lt;p>在当今的软件测试领域，人工智能（AI）已不再仅仅是一种选择，而是一种重要的战略优势 。AI 驱动的测试工具能够将从测试用例生成到测试执行的各个环节实现自动化，从而使您的团队能够专注于交付更高质量的软件版本 。&lt;/p>
&lt;p>Blinq.io 首席执行官 Tal Barmeir 曾指出：“生成式 AI 的作用在于帮助我们真正解决大量测试需求积压且覆盖范围非常有限的问题——这是我们在所有行业中都普遍看到的现象。”&lt;/p>
&lt;p>AI 驱动的测试工具能自动化从测试用例创建到执行和维护的整个流程，将助力测试团队：&lt;/p>
&lt;ul>
&lt;li>将测试创建时间缩短高达 80%&lt;/li>
&lt;li>将测试维护成本降低 40-60%&lt;/li>
&lt;li>通过更快的发布周期加速产品上市时间&lt;/li>
&lt;li>提高跨浏览器、设备和环境的测试覆盖率&lt;/li>
&lt;li>释放宝贵的工程资源用于创新&lt;/li>
&lt;/ul>
&lt;p>本指南提供了一种结构化的方法来实施 AI 测试，旨在带来即时效益和长期的转型。&lt;/p>
&lt;h2 id="阶段一第-1-15-天制定您的-ai-测试策略">阶段一（第 1-15 天）：制定您的 AI 测试策略
&lt;/h2>&lt;p>在深入研究具体的工具之前，首先需要明确您希望如何应用 AI ：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>辅助式 AI&lt;/strong>：增强以人工为主导的测试流程。&lt;/li>
&lt;li>&lt;strong>自主式 AI&lt;/strong>：由 AI 完全驱动的测试自动化，并有人工监督。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>“大多数组织从辅助式 AI 开始。但很快他们就会意识到其价值有限，并尝试转向完全由 AI 主导。这种转变需要不同的工具、结构和思维模式。”&lt;/p>&lt;/blockquote>
&lt;p>对于 测试团队决策Leader 而言，关键的战略决策包括：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>自动化范围&lt;/strong>：您的团队是自动化现有测试用例，还是允许 AI 全权负责测试脚本的创建、执行和维护？&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>集成要求&lt;/strong>：AI 测试将如何与您现有的 CI/CD 管道和开发工作流程集成？&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>成功指标&lt;/strong>：将使用哪些 KPI 来衡量成功？（如测试覆盖率、执行时间、缺陷检测等）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>风险评估&lt;/strong>：哪些应用程序或功能最适合作为 AI 测试的初始实施对象？&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>行动建议&lt;/strong>：在进行工具评估之前，请务必明确 AI 测试愿景、范围和成功标准 。&lt;/p>
&lt;h2 id="阶段二第-16-30-天重新定义-qa-角色和测试输入">阶段二（第 16-30 天）：重新定义 QA 角色和测试输入
&lt;/h2>&lt;p>AI 测试自动化并不会消除现有角色，而是会对其进行转型 。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>传统角色&lt;/strong>&lt;/th>
&lt;th>&lt;strong>AI 增强角色&lt;/strong>&lt;/th>
&lt;th>&lt;strong>主要职责&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>手工测试人员&lt;/td>
&lt;td>提示词工程师&lt;/td>
&lt;td>创建有效的测试提示，审查 AI 生成的测试&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>自动化工程师&lt;/td>
&lt;td>AI 测试主管&lt;/td>
&lt;td>监督 AI 测试的生成、执行和维护&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>QA 经理&lt;/td>
&lt;td>AI 测试战略家&lt;/td>
&lt;td>定义 AI 测试策略，衡量投资回报率，优化流程&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>“人们常常认为 AI 意味着失业。这并非事实。它真正做的是重新利用测试人员——手动测试人员成为提示工程师，自动化工程师成为 AI 工作的监督者。”&lt;/p>&lt;/blockquote>
&lt;h3 id="扩展测试输入源">&lt;strong>扩展测试输入源&lt;/strong>
&lt;/h3>&lt;p>AI 测试平台能够从多种输入生成全面的测试用例 ，包括：&lt;/p>
&lt;ul>
&lt;li>Jira 工单和用户故事&lt;/li>
&lt;li>应用程序使用屏幕录像&lt;/li>
&lt;li>自然语言需求&lt;/li>
&lt;li>API 规范和文档&lt;/li>
&lt;li>现有手动测试用例&lt;/li>
&lt;/ul>
&lt;p>这种灵活性使得 AI 测试无需严格遵循 BDD 框架或特定的测试用例格式，从而使各种成熟度级别的团队都能够使用 AI 测试 。&lt;/p>
&lt;h2 id="阶段三第-31-45-天评估-ai-测试工具">阶段三（第 31-45 天）：评估 AI 测试工具
&lt;/h2>&lt;p>选择正确的 AI 测试工具，必须使其与您的基础设施、团队技能和长期愿景保持一致 。&lt;/p>
&lt;h3 id="企业级-ai-测试平台的基本功能">&lt;strong>企业级 AI 测试平台的基本功能&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>开源测试代码生成&lt;/strong>：以标准框架（如 Playwright、Selenium 等）生成可维护的代码。&lt;/li>
&lt;li>&lt;strong>自愈能力&lt;/strong>：无需人工干预即可自动适应用户界面（UI）变化。&lt;/li>
&lt;li>&lt;strong>全面测试支持&lt;/strong>：涵盖功能、视觉、性能和安全测试。&lt;/li>
&lt;li>&lt;strong>企业集成&lt;/strong>：与您的 CI/CD 管道、测试管理和缺陷跟踪系统协同工作。&lt;/li>
&lt;li>&lt;strong>跨平台测试&lt;/strong>：支持 Web、移动、API 和企业应用程序（如 Salesforce、SAP 等）。&lt;/li>
&lt;li>&lt;strong>视觉测试&lt;/strong>：AI 驱动的视觉比较和异常检测。&lt;/li>
&lt;li>&lt;strong>不稳定测试管理&lt;/strong>：自动识别和解决不一致的测试。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>“即使您停止使用某个供应商，您仍然拥有一个可以维护的代码项目。没有黑盒，没有供应商锁定。”&lt;/p>&lt;/blockquote>
&lt;p>&lt;strong>决策框架&lt;/strong>：根据您的具体需求、现有基础设施和团队能力评估工具 。优先选择那些能够生成标准、可维护测试代码而非专有格式的平台 。&lt;/p>
&lt;h2 id="阶段四第-46-60-天为新的-ai-增强测试角色进行培训">阶段四（第 46-60 天）：为新的 AI 增强测试角色进行培训
&lt;/h2>&lt;p>测试自动化中引入 AI，将带来新的 AI 功能和职责，从而提升 QA 团队的角色 。&lt;/p>
&lt;h3 id="ai-测试时代的关键技能">&lt;strong>AI 测试时代的关键技能&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>提示工程&lt;/strong>：创建有效的测试提示，以生成全面的测试覆盖。&lt;/li>
&lt;li>&lt;strong>AI 测试审查&lt;/strong>：评估和完善 AI 生成的测试脚本。&lt;/li>
&lt;li>&lt;strong>测试维护管理&lt;/strong>：监督自愈能力和测试稳定性。&lt;/li>
&lt;li>&lt;strong>测试优先级排序&lt;/strong>：确定每次发布中哪些测试能带来最高价值。&lt;/li>
&lt;li>&lt;strong>探索性测试&lt;/strong>：将人类创造力集中于边缘情况和复杂场景。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>“旧技能是脚本编写和调试。新技能呢？编写提示、审查 AI 建议以及大规模管理代码。”&lt;/p>&lt;/blockquote>
&lt;h3 id="qa-团队的培训资源">&lt;strong>QA 团队的培训资源&lt;/strong>：
&lt;/h3>&lt;ul>
&lt;li>关于 AI 测试概念和提示工程的内部研讨会。&lt;/li>
&lt;li>供应商提供的特定 AI 测试平台培训。&lt;/li>
&lt;li>在实际应用程序测试场景中的动手实践。&lt;/li>
&lt;li>手动和自动化测试人员之间的交叉培训。&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>领导力重点&lt;/strong>：鼓励实验并创造一个学习环境，让团队可以通过实际应用发展 AI 测试专业知识 。&lt;/p>
&lt;h2 id="阶段五第-61-75-天试点并扩展-ai-测试覆盖范围">阶段五（第 61-75 天）：试点并扩展 AI 测试覆盖范围
&lt;/h2>&lt;p>启动一个重点明确的试点项目，使用 10-20 个测试场景，以实现快速、可衡量的影响，并建立对 AI 测试能力的信心 。&lt;/p>
&lt;h3 id="理想的试点项目特征">&lt;strong>理想的试点项目特征&lt;/strong>：
&lt;/h3>&lt;ul>
&lt;li>具有稳定 UI 的中等复杂性应用程序。&lt;/li>
&lt;li>用于比较的现有手动测试用例。&lt;/li>
&lt;li>定期发布周期以展示 CI/CD 集成。&lt;/li>
&lt;li>混合了回归、功能和视觉测试需求。&lt;/li>
&lt;li>利益相关者乐于创新和流程变革。&lt;/li>
&lt;/ul>
&lt;h3 id="实施清单">&lt;strong>实施清单&lt;/strong>：
&lt;/h3>&lt;ul>
&lt;li>选择试点应用程序并定义测试范围。&lt;/li>
&lt;li>配置 AI 测试工具并与 CI/CD 集成。&lt;/li>
&lt;li>创建初始测试提示并生成基线测试。&lt;/li>
&lt;li>在多个环境中执行测试。&lt;/li>
&lt;li>根据传统测试方法衡量结果。&lt;/li>
&lt;li>记录经验教训和优化机会。&lt;/li>
&lt;/ul>
&lt;p>此阶段非常适合扩展跨浏览器、设备和语言的测试覆盖范围——利用 AI 模型的多语言能力高效测试国际应用程序 。&lt;/p>
&lt;h2 id="阶段六第-76-90-天衡量-kpi-并优化">阶段六（第 76-90 天）：衡量 KPI 并优化
&lt;/h2>&lt;p>跟踪关键绩效指标（KPIs），量化 AI 测试实施的影响并发现优化机会 。&lt;/p>
&lt;h3 id="关键-ai-测试指标-">&lt;strong>关键 AI 测试指标&lt;/strong> ：
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>发布时间&lt;/strong>：整体测试周期时间的缩短。&lt;/li>
&lt;li>&lt;strong>测试覆盖率&lt;/strong>：功能和平台覆盖率的提高。&lt;/li>
&lt;li>&lt;strong>维护工作量&lt;/strong>：测试脚本维护时间的减少。&lt;/li>
&lt;li>&lt;strong>缺陷检测&lt;/strong>：缺陷识别率的提高。&lt;/li>
&lt;li>&lt;strong>资源利用率&lt;/strong>：QA 团队将重心转移到更高价值的活动。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>“大多数领导者认为 AI 测试是为了削减成本。但最大的投资回报率实际上是更快的上市时间。”&lt;/p>&lt;/blockquote>
&lt;h3 id="持续改进框架">&lt;strong>持续改进框架&lt;/strong>：
&lt;/h3>&lt;ul>
&lt;li>每周审查 AI 测试性能和准确性。&lt;/li>
&lt;li>根据测试结果和遗漏场景完善提示。&lt;/li>
&lt;li>将 AI 测试扩展到其他应用程序和测试类型。&lt;/li>
&lt;li>记录最佳实践并在团队之间分享。&lt;/li>
&lt;li>建立 AI 测试卓越中心。&lt;/li>
&lt;/ul>
&lt;p>这些见解将支持您的团队就测试覆盖率、发布准备情况和质量改进做出数据驱动的决策 。&lt;/p>
&lt;h2 id="总结您的-90-天-ai-测试实施路线图">总结：您的 90 天 AI 测试实施路线图
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>阶段&lt;/strong>&lt;/th>
&lt;th>&lt;strong>时间线&lt;/strong>&lt;/th>
&lt;th>&lt;strong>重点&lt;/strong>&lt;/th>
&lt;th>&lt;strong>关键交付物&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>第 1-15 天&lt;/td>
&lt;td>策略定义&lt;/td>
&lt;td>AI 测试愿景、实施方法、成功指标&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2&lt;/td>
&lt;td>第 16-30 天&lt;/td>
&lt;td>角色转型&lt;/td>
&lt;td>更新的团队结构、技能要求、输入源&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3&lt;/td>
&lt;td>第 31-45 天&lt;/td>
&lt;td>工具选择&lt;/td>
&lt;td>AI 测试平台评估、选择标准、概念验证&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4&lt;/td>
&lt;td>第 46-60 天&lt;/td>
&lt;td>团队培训&lt;/td>
&lt;td>技能发展计划、培训资源、知识共享&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5&lt;/td>
&lt;td>第 61-75 天&lt;/td>
&lt;td>试点实施&lt;/td>
&lt;td>初始 AI 测试套件、与 CI/CD 集成、基线指标&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>6&lt;/td>
&lt;td>第 76-90 天&lt;/td>
&lt;td>衡量与优化&lt;/td>
&lt;td>绩效分析、优化计划、扩展策略&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="qa-的未来ai-驱动的测试领导力">QA 的未来：AI 驱动的测试领导力
&lt;/h2>&lt;p>借助正确的 AI 测试策略，您的 QA 组织不仅能跟上行业步伐，更将引领向更快、更可靠的软件交付转型 。您不仅仅是在自动化测试，更是在赋能团队，以增强和简化整个测试生命周期，以前所未有的速度交付更高质量的软件，同时降低风险和技术债务 。现在就拥抱 AI 测试，您将使您的组织处于质量工程的前沿，通过卓越的软件质量和加速创新创造可持续的竞争优势 。&lt;/p></description></item><item><title>转译：2025自动化测试八大趋势</title><link>https://chengxiaqiucao.github.io/post/074-%E6%9C%80%E6%96%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E8%B6%8B%E5%8A%BF2025/</link><pubDate>Wed, 09 Apr 2025 23:00:28 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/074-%E6%9C%80%E6%96%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E8%B6%8B%E5%8A%BF2025/</guid><description>&lt;p>本文来自 &lt;strong>TestGuild&lt;/strong> 1 月份对今年测试发展趋势的分析，目前看判断还是客观准确的，现将译文分享给大家。&lt;/p>
&lt;hr>
&lt;p>随着我们进入2025年，我认为以下&lt;strong>自动化测试趋势&lt;/strong>将深刻影响软件测试的未来。&lt;/p>
&lt;h3 id="目录">目录
&lt;/h3>&lt;ul>
&lt;li>&lt;a class="link" href="#trend1" >1. AI Agent：测试新浪潮&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#trend2" >2. AI右移：理解用户&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#trend3" >3. 全民皆QA：人机协同&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#trend4" >4. 测试者角色进化：适应未来&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#trend5" >5. DevOps与SRE整合：持续质量&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#trend6" >6. 端到端（E2E）自治质量平台&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#trend7" >7. Playwright：首选自动化工具&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#trend8" >8. 2025年测试者必备编程语言&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#summary" >总结：2025年自动化测试成功之道&lt;/a>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="ai-agent测试新浪潮">AI Agent：测试新浪潮 &lt;a id="trend1">&lt;/a>
&lt;/h2>&lt;p>我认为2025年将见证AI辅助测试的持续扩展。&lt;/p>
&lt;p>原因何在？&lt;/p>
&lt;p>AI在测试中的应用呈指数级增长：调查显示，截至2024年，72.3%的团队正在积极探索或采用AI驱动的测试工作流，而几年前这一技术尚处于早期采用阶段。这一趋势标志着我们TestGuild自动化测试调查历史上最快的技术采用曲线。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/074-%E6%9C%80%E6%96%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E8%B6%8B%E5%8A%BF2025/Pasted-20250409.png"
width="1403"
height="533"
srcset="https://chengxiaqiucao.github.io/post/074-%E6%9C%80%E6%96%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E8%B6%8B%E5%8A%BF2025/Pasted-20250409_hu_ea73bf39cd238a9b.png 480w, https://chengxiaqiucao.github.io/post/074-%E6%9C%80%E6%96%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E8%B6%8B%E5%8A%BF2025/Pasted-20250409_hu_9e5eb824ebd21647.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="263"
data-flex-basis="631px"
>&lt;/p>
&lt;p>在2024年多模态AI（通过专用算法处理多种数据类型）基础上，新兴趋势是代理型AI。&lt;/p>
&lt;p>首先，您可能会问：什么是代理型AI？&lt;/p>
&lt;p>这类系统能自主运作，处理以往需要人工干预的任务。它们能进行通信、维持长期状态，并根据交互独立决策，实质上是充当高能效测试助手团队。&lt;/p>
&lt;p>仍不清楚？让我们通过示例说明。&lt;/p>
&lt;h3 id="代理型ai自动化测试工作流示例">代理型AI自动化测试工作流示例
&lt;/h3>&lt;p>设想一个真实场景：代理型AI为大型电商平台自主管理全量回归测试套件。&lt;/p>
&lt;p>不同于依赖预设脚本和固定排期，该代理型AI系统将执行以下操作：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>优先级判定&lt;/strong>：分析近期代码变更和功能发布，根据修改风险等级排序回归测试&lt;/li>
&lt;li>&lt;strong>测试选择与适配&lt;/strong>：动态选取合适测试用例，基于风险评估从完整套件中筛选子集&lt;/li>
&lt;li>&lt;strong>测试执行与环境管理&lt;/strong>：跨多环境（浏览器/操作系统/设备）调度执行测试。若测试失败，自动触发诊断测试收集详细信息，甚至尝试自动修复简单问题&lt;/li>
&lt;li>&lt;strong>结果分析与报告&lt;/strong>：分类故障严重程度，识别模式，根据常见错误模式提出修复建议&lt;/li>
&lt;li>&lt;strong>反馈循环与持续改进&lt;/strong>：通过经验积累不断自我优化&lt;/li>
&lt;/ul>
&lt;p>此设想并非天方夜谭。调查数据显示，团队不仅追求任务自动化，更依赖AI自主决策——这正是代理型AI的核心：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>决策能力&lt;/strong>：AI工具日益被信任用于优化测试覆盖率和维护&lt;/li>
&lt;li>&lt;strong>自主性&lt;/strong>：对AI驱动流水线和框架的兴趣表明团队需要最小化人工干预的解决方案&lt;/li>
&lt;li>&lt;strong>性能表现&lt;/strong>：聚焦采用AI的工具框架，显示向动态学习适应系统的转变&lt;/li>
&lt;/ul>
&lt;p>转型速度超乎预期：网络研讨会投票显示56%团队处于AI采用&amp;quot;调研阶段&amp;quot;，38%企业将AI视为缓解测试人才短缺的解决方案。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/074-%E6%9C%80%E6%96%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E8%B6%8B%E5%8A%BF2025/Pasted-20250409-1.png"
width="864"
height="804"
srcset="https://chengxiaqiucao.github.io/post/074-%E6%9C%80%E6%96%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E8%B6%8B%E5%8A%BF2025/Pasted-20250409-1_hu_face25b8bc1d201d.png 480w, https://chengxiaqiucao.github.io/post/074-%E6%9C%80%E6%96%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E8%B6%8B%E5%8A%BF2025/Pasted-20250409-1_hu_84c2239caf2705b5.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="107"
data-flex-basis="257px"
>&lt;/p>
&lt;p>行业巨头观点与此一致（笔者将其延伸至自动化测试领域）：&lt;/p>
&lt;p>微软CEO萨提亚·纳德拉近期提及&lt;a class="link" href="https://www.cxtoday.com/data-analytics/microsoft-ceo-ai-agents-will-transform-saas-as-we-know-it/" target="_blank" rel="noopener"
>AI&amp;quot;代理&amp;quot;将革新SaaS&lt;/a>，通过处理复杂任务、持续学习和跨系统无缝连接实现突破。斯坦福研究者关于&lt;a class="link" href="https://www.livescience.com/technology/artificial-intelligence/just-2-hours-is-all-it-takes-for-ai-agents-to-replicate-your-personality-with-85-percent-accuracy" target="_blank" rel="noopener"
>AI代理模拟人类行为&lt;/a>的实验，同样印证代理型AI改变测试方式的潜力。&lt;/p>
&lt;hr>
&lt;h2 id="ai右移理解用户">AI右移：理解用户 &lt;a id="trend2">&lt;/a>
&lt;/h2>&lt;p>理解真实用户行为已成为2025年质量策略的核心要素。通过分析生产环境用户交互，团队能发现模式、预测问题，确保软件满足用户期望。AI整合使团队探索出质量提升新路径。&lt;/p>
&lt;p>调查数据显示，对&lt;strong>预测模型和用户行为分析&lt;/strong>的关注度显著提升，团队聚焦利用AI发现长尾用例，优化用户旅程理解。&lt;a class="link" href="https://testguild.com/podcast/automation/a509-gojko/" target="_blank" rel="noopener"
>Gojko Adzic&lt;/a>设想工具直接集成至平台，提供体验分析和预测模型，主动预判问题。这在管理海量用户数据（含长尾用例）时价值凸显，AI在数据模式识别中发挥关键作用。&lt;/p>
&lt;p>这种右移方法通过强调部署后质量保障，与传统左移方法论形成互补。潜在收益包括：&lt;/p>
&lt;ul>
&lt;li>通过&lt;strong>主动监控&lt;/strong>减少用户报障&lt;/li>
&lt;li>通过&lt;strong>优化高价值用户流&lt;/strong>提升功能采用率&lt;/li>
&lt;li>基于真实使用模式的&lt;strong>数据驱动决策&lt;/strong>改善测试覆盖&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="全民皆qa人机协同">全民皆QA：人机协同 &lt;a id="trend3">&lt;/a>
&lt;/h2>&lt;p>随着代理型AI和端到端自治质量平台（后文详述）的采用，2025年软件测试将发生剧变。低代码/无代码工具结合AI，使测试突破传统壁垒，让业务分析师、开发者甚至非技术背景的利益相关方都能参与质量保障。网络研讨会投票显示**74%**参与者自认AI新手，凸显降低使用门槛的工具需求。&lt;/p>
&lt;p>直观的低代码解决方案通过自动化测试创建和缺陷检测等复杂任务，降低学习曲线，加速工具采用。调查显示**32.3%**团队积极尝试无代码测试方案。&lt;/p>
&lt;p>同时，人类监督仍不可或缺。正如&lt;a class="link" href="https://testguild.com/podcast/automation/a522-tobias/" target="_blank" rel="noopener"
>Tobias Müller&lt;/a>所言：&amp;ldquo;重点已非是否信任AI，而是设定边界并信任所设规范。&amp;ldquo;结合人类经验与AI的团队展现出更优缺陷检测和更快测试周期，证明人机协同的重要性。&lt;/p>
&lt;hr>
&lt;h2 id="测试者角色进化适应未来">测试者角色进化：适应未来 &lt;a id="trend4">&lt;/a>
&lt;/h2>&lt;p>测试者正转型为融合传统技能与AI、DevOps、自动化知识的复合型角色。调查数据印证这一转变：&lt;/p>
&lt;ul>
&lt;li>45%团队强调AI技能需求&lt;/li>
&lt;li>51.8%优先考虑DevOps知识&lt;/li>
&lt;li>72.3%聚焦自动化专长&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="devops与sre整合持续质量">DevOps与SRE整合：持续质量 &lt;a id="trend5">&lt;/a>
&lt;/h2>&lt;p>测试与DevOps及站点可靠性工程（SRE）实践的整合，是2025年最显著的自动化测试趋势。随着企业日益重视持续交付和运营韧性，测试正进化为主动的、贯穿软件生命周期的质量保障活动。&lt;/p>
&lt;p>调查数据显示显著转变：截至2024年，**51.8%**团队采用DevOps实践（2022年仅16.9%）。这种增长印证测试与DevOps/SRE工作流的深度整合，以保障高速交付下的软件质量。&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/074-%E6%9C%80%E6%96%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E8%B6%8B%E5%8A%BF2025/Pasted-20250409-2.png"
width="1489"
height="568"
srcset="https://chengxiaqiucao.github.io/post/074-%E6%9C%80%E6%96%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E8%B6%8B%E5%8A%BF2025/Pasted-20250409-2_hu_a7209be5e9f85952.png 480w, https://chengxiaqiucao.github.io/post/074-%E6%9C%80%E6%96%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E8%B6%8B%E5%8A%BF2025/Pasted-20250409-2_hu_89683b652da6dffb.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="262"
data-flex-basis="629px"
>&lt;/p>
&lt;p>这种整合超越传统QA，转变为提升全生命周期的持续活动，帮助企业：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>加速反馈循环&lt;/strong>：CI/CD管道嵌入测试，即时发现问题&lt;/li>
&lt;li>&lt;strong>实施主动质量保障&lt;/strong>：工作流整合性能测试与监控，提前识别风险&lt;/li>
&lt;li>&lt;strong>促进团队协作&lt;/strong>：质量共担机制改善QA、开发与运维团队协作&lt;/li>
&lt;/ul>
&lt;p>调查数据清晰支持此趋势。从流水线自动化到性能监控，团队正采用与卓越运营目标一致的持续质量实践。若您的组织尚未整合测试与DevOps/SRE，2025年正是转型良机。&lt;/p>
&lt;hr>
&lt;h2 id="端到端e2e自治质量平台">端到端（E2E）自治质量平台 &lt;a id="trend6">&lt;/a>
&lt;/h2>&lt;p>E2E平台正成为测试战略核心。这些平台整合测试、可用性、性能、无障碍访问和安全性于统一框架，应对更广泛的质量问题。通过AI自动化测试生命周期，团队反馈缺陷检测和测试覆盖显著提升。&lt;/p>
&lt;p>调查数据显示显著增长：&lt;/p>
&lt;ul>
&lt;li>安全测试从2021年8.2%增至2024年39.5%&lt;/li>
&lt;li>性能测试采用率达41%&lt;/li>
&lt;li>API测试从2021年13.1%增长至2024年46.2%&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/074-%E6%9C%80%E6%96%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E8%B6%8B%E5%8A%BF2025/Pasted-20250409230826.png"
width="1365"
height="663"
srcset="https://chengxiaqiucao.github.io/post/074-%E6%9C%80%E6%96%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E8%B6%8B%E5%8A%BF2025/Pasted-20250409230826_hu_4d6ba26bdca4808c.png 480w, https://chengxiaqiucao.github.io/post/074-%E6%9C%80%E6%96%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E8%B6%8B%E5%8A%BF2025/Pasted-20250409230826_hu_7e889e6d25a4b9c0.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="205"
data-flex-basis="494px"
>这些指标反映企业对综合质量平台管理全测试需求的依赖度提升。&lt;/p>
&lt;hr>
&lt;h2 id="playwright首选自动化工具">Playwright：首选自动化工具 &lt;a id="trend7">&lt;/a>
&lt;/h2>&lt;p>正如笔者去年预测，Playwright已成为众多测试者首选工具。根据&lt;a class="link" href="https://testguild.com/playwright-cypress-ai/" target="_blank" rel="noopener"
>Playwright超越Cypress（未来展望）&lt;/a>文中分析，这一预测已被验证。&lt;/p>
&lt;p>当前进展？凭借卓越的多功能性、可靠性和性能，Playwright在2025年持续巩固其领先地位。TestGuild 2024年调查及社区反馈显示其显著增长。&lt;/p>
&lt;p>测试工具偏好呈现重大转变（2018-2024数据分析）：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/074-%E6%9C%80%E6%96%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E8%B6%8B%E5%8A%BF2025/Pasted-20250409-3.png"
width="1467"
height="516"
srcset="https://chengxiaqiucao.github.io/post/074-%E6%9C%80%E6%96%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E8%B6%8B%E5%8A%BF2025/Pasted-20250409-3_hu_c408c68fb9c92883.png 480w, https://chengxiaqiucao.github.io/post/074-%E6%9C%80%E6%96%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E8%B6%8B%E5%8A%BF2025/Pasted-20250409-3_hu_c3c6e4021fe20496.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="284"
data-flex-basis="682px"
>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Playwright&lt;/strong>：45.1%采用率使其成为增长最快工具，优势包括跨浏览器支持、API测试能力和高效工作流&lt;/li>
&lt;li>&lt;strong>Selenium&lt;/strong>：曾为市场领导者，现采用率下降至22.1%，因团队追求更高效稳定方案&lt;/li>
&lt;li>&lt;strong>Cypress&lt;/strong>：坚守前端测试领域，保持14.4%稳定用户群&lt;/li>
&lt;/ul>
&lt;p>Playwright用户普遍反馈：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>更快测试执行&lt;/strong>：加速反馈循环，改进开发生命周期&lt;/li>
&lt;li>&lt;strong>更低测试波动性&lt;/strong>：产出更稳定可靠的测试结果&lt;/li>
&lt;/ul>
&lt;p>除初始的UI浏览器自动化功能外，Playwright已进化支持&lt;strong>API测试&lt;/strong>等高级能力，成为现代测试需求的综合解决方案。&lt;/p>
&lt;hr>
&lt;h2 id="2025年测试者必备编程语言">2025年测试者必备编程语言 &lt;a id="trend8">&lt;/a>
&lt;/h2>&lt;p>根据&lt;a class="link" href="https://www.tiobe.com/tiobe-index/" target="_blank" rel="noopener"
>TIOBE编程社区指数&lt;/a>，Python连续两年蝉联榜首。这与我预期一致——Python凭借简洁性、强大库支持及在AI/机器学习领域的主导地位，仍是2025年测试者首选语言。无论您是初学自动化还是资深测试专家，Python都是衔接当下挑战与未来自动化测试可能性的桥梁。&lt;/p>
&lt;hr>
&lt;h2 id="总结2025年自动化测试成功之道">总结：2025年自动化测试成功之道 &lt;a id="summary">&lt;/a>
&lt;/h2>&lt;p>2025年将成为软件测试关键转折年，为拥抱变革者提供空前机遇。AI成熟度、团队协作与工具演进的融合，标志着质量保障新纪元的开启。&lt;/p>
&lt;p>成功不仅需要关注趋势，更需行动：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>拥抱代理型AI&lt;/strong>：探索自主AI代理如何优化工作流，降低人工干预&lt;/li>
&lt;li>&lt;strong>采用右移测试实践&lt;/strong>：平衡传统左移方法与部署后监控，确保软件符合真实用户期望&lt;/li>
&lt;li>&lt;strong>投资技能发展&lt;/strong>：为团队配备AI、自动化与DevOps知识以保持竞争力&lt;/li>
&lt;li>&lt;strong>测试与DevOps/SRE整合&lt;/strong>：打破孤岛，将质量保障融入交付各阶段&lt;/li>
&lt;li>&lt;strong>善用综合工具&lt;/strong>：从Playwright到Python，选择满足当前需求并面向未来的工具&lt;/li>
&lt;/ul>
&lt;p>这些趋势预示着质量保障方式的根本转变。随着测试、开发与运维界限的模糊，现代测试者角色正进化为战略要职。欲深度掌握变革趋势，欢迎参加年度&lt;strong>Automation Guild大会&lt;/strong>，与行业领袖共同塑造测试未来。&lt;/p>
&lt;p>2025创新之路已铺就，您是否已准备好引领变革？&lt;/p>
&lt;hr></description></item><item><title>测试人员伤害质量的十大误区</title><link>https://chengxiaqiucao.github.io/post/071-%E6%B5%8B%E8%AF%95%E4%BA%BA%E5%91%98%E4%BC%A4%E5%AE%B3%E8%B4%A8%E9%87%8F%E7%9A%84%E5%8D%81%E5%A4%A7%E8%AF%AF%E5%8C%BA/</link><pubDate>Fri, 28 Mar 2025 15:59:08 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/071-%E6%B5%8B%E8%AF%95%E4%BA%BA%E5%91%98%E4%BC%A4%E5%AE%B3%E8%B4%A8%E9%87%8F%E7%9A%84%E5%8D%81%E5%A4%A7%E8%AF%AF%E5%8C%BA/</guid><description>&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/071-%E6%B5%8B%E8%AF%95%E4%BA%BA%E5%91%98%E4%BC%A4%E5%AE%B3%E8%B4%A8%E9%87%8F%E7%9A%84%E5%8D%81%E5%A4%A7%E8%AF%AF%E5%8C%BA/%E4%BC%A4%E5%AE%B3%E8%B4%A8%E9%87%8F10%E5%A4%A7%E8%AF%AF%E5%8C%BA.png"
width="900"
height="383"
srcset="https://chengxiaqiucao.github.io/post/071-%E6%B5%8B%E8%AF%95%E4%BA%BA%E5%91%98%E4%BC%A4%E5%AE%B3%E8%B4%A8%E9%87%8F%E7%9A%84%E5%8D%81%E5%A4%A7%E8%AF%AF%E5%8C%BA/%E4%BC%A4%E5%AE%B3%E8%B4%A8%E9%87%8F10%E5%A4%A7%E8%AF%AF%E5%8C%BA_hu_588289c4d5a18079.png 480w, https://chengxiaqiucao.github.io/post/071-%E6%B5%8B%E8%AF%95%E4%BA%BA%E5%91%98%E4%BC%A4%E5%AE%B3%E8%B4%A8%E9%87%8F%E7%9A%84%E5%8D%81%E5%A4%A7%E8%AF%AF%E5%8C%BA/%E4%BC%A4%E5%AE%B3%E8%B4%A8%E9%87%8F10%E5%A4%A7%E8%AF%AF%E5%8C%BA_hu_97ec78e79daba015.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="234"
data-flex-basis="563px"
>&lt;/p>
&lt;p>很多企业会把承担测试的工程师称为QA（quality assurance），但QA和Tester其实是两个不同的岗位，但不可否认，测试工程师的主要职责也是面向质量的，是通过评估质量状态来帮助团队进行质量改进的。&lt;/p>
&lt;p>但即便这样，测试工程师的工作就一定是对质量改进有帮助的吗？在实际工作中，有些误区反而会让测试人员的工作对质量产生负面影响。&lt;/p>
&lt;p>这里秋草梳理总结了测试人员可能伤害质量的十大误区，以及对应的正确做法。&lt;/p>
&lt;h2 id="1-测试的职责是发现并汇报bug但不是确认">1. 测试的职责是发现并汇报Bug，但不是确认
&lt;/h2>&lt;p>&lt;strong>误区：经常有开发同学和测试同学就某个问题是否应该报Bug进行争论， “需求中没要求”， “这个问题不影响用户使用” 等等是经常出现的理由。很多测试同学也确实会因为这些原因不再报这些问题，甚至在报Bug前会去和开发确认能不能报。&lt;/strong>&lt;/p>
&lt;p>这是一个对质量伤害极大的误区。测试的价值在于评估质量状态，而评估的关键在于独立性。质量没有对错，只有好坏。需求中没定义的行为，不代表就是不需要的；不影响用户使用也不代表就是好的实现。测试是站在评估质量的视角，指出缺陷或者提出优化建议都是分内工作。开发则负责分析、认定并解决缺陷。如果开发和测试在认定上有分歧，还有PO或业务分析师、CCB成员可以进行仲裁。&lt;/p>
&lt;p>但对于测试人员来说，汇报&lt;strong>一切&lt;/strong>觉得有问题或者质量不好的产品行为则是工作义务。有意或无意去隐瞒或掩盖缺陷，才是对产品质量真正的伤害。&lt;/p>
&lt;h2 id="2-发现bug只是开始还应为修复bug提供尽可能多的上下文">2. 发现Bug只是开始，还应为修复Bug提供尽可能多的上下文
&lt;/h2>&lt;p>&lt;strong>误区：有的测试同学会认为我发现了问题，并且也进行了报告，那么工作就已经完成，后续修复过程与我无关，只需修复后进行验证即可&lt;/strong>&lt;/p>
&lt;p>测试是整个软件产品研发生命周期中的一个环节，最终是为产品整体质量服务的。而Bug本身其实对产品是无价值的，因为只有解决掉的Bug才会对产品质量有帮助。 从这个角度来说，虽然报告Bug是测试人员的主要工作，但对产品来说，最终解决Bug才是目的。所以测试作为产品研发的一环，即便解决Bug不是测试直接负责，但我们也应该为解决Bug提供必要的支撑。&lt;/p>
&lt;p>这部分在之前地文章 【】中有详细探讨，大家有兴趣可以参阅&lt;/p>
&lt;h2 id="3-测试不只是验证需求">3. 测试不只是验证需求
&lt;/h2>&lt;p>&lt;strong>误区：测试只要将需求中明确定义的部分进行验证无误即可，未定义的部分无需测试&lt;/strong>&lt;/p>
&lt;p>这里和第一个误区有些关联，是很多开发和测试争论bug的前提。在前文 【】中我们对测试目标的认识误区中，也说过这一点。就是测试除了验证需求之外，还有更多探索性工作应该覆盖。测试并不止是检查。&lt;/p>
&lt;p>而除此之外，这里我还想更要强调产品的整体性、系统性。特别是在敏捷研发模式下，这个误区很容易被扩大。&lt;/p>
&lt;p>在敏捷中，敏捷迭代的输出是Increment（产品增量），这个对开发工作是成立的。但测试工作是面向整个产品系统的，并不能只覆盖增量部分。需求也是增量的，所以当然不能仅覆盖增量部分的需求，这就是为什么回归测试是测试中必须包含的范畴，也是自动化测试越来越受重视的根本原因。（关于敏捷相关的分析介绍可以参看之前敏捷系列）&lt;/p>
&lt;h2 id="4-测试无止境好钢用在刀刃上">4. 测试无止境，好钢用在刀刃上
&lt;/h2>&lt;p>&lt;strong>误区：要想更多发现Bug，尽量探索、发散，并利用Bug的集群效应，尽可能多地发现Bug&lt;/strong>&lt;/p>
&lt;p>还是在 【】一文中，我们也澄清过，测试的目标也并不是为了发现更多Bug。而且测试其实无止境的，测试最终的目的是对整个产品或系统提供一个可靠、完整的质量状态评估。而这个质量状态是否客观准确，跟Bug的多少其实并不一定是一个正相关的关系。&lt;/p>
&lt;p>测试在尽可能发现Bug的同时，还是认识到，我们是要系统地对质量进行评估，但测试又是无法穷尽的，所以必须要把有限的时间进行科学地分配，优先关注高优先的部分，比如新功能、代码出现变更、高风险模块这些都是应该优先进行测试并重点保证的部分。&lt;/p>
&lt;p>&lt;code>精准测试&lt;/code>、&lt;code>基于风险的测试RBT&lt;/code>等都是这种思路下，把我们的测试资源、时间优先放到高价值部分的实践。&lt;/p>
&lt;h2 id="5-测试工作不是提测才开展从产品需求讨论就已经开始">5. 测试工作不是提测才开展，从产品需求讨论就已经开始
&lt;/h2>&lt;p>&lt;strong>误区：测试应该在产品提测以后才能正式展开，Bug也应该在提测以后才应该报告&lt;/strong>&lt;/p>
&lt;p>在当今，以上误区当然是不正确的，因为不管是&lt;code>测试左移&lt;/code>还是各种测试理论都强调了测试早期参与的重要性。&lt;/p>
&lt;p>但理论归理论，实际实践中，测试通常还是在提测以后才真正开展工作。&lt;/p>
&lt;p>一方面是产品前期，测试的存在感低，参与度低，容易被忽视；&lt;/p>
&lt;p>另一方面，很多测试团队的考核重Bug数量，这其实更加消磨了测试早期参与的积极性，导致测试并不太愿意在早期协助团队暴露产品的问题。&lt;/p>
&lt;p>但从产品交付角度，越是后期，问题修复的成本就越高。所以从产品管理来说，摒弃以Bug考核的导向，引导测试前期的积极参与，测试可以发挥其对问题的敏感度，从需求讨论开始就能识别、考虑到很多异常场景，并帮助团队提前规避。&lt;/p>
&lt;h2 id="6-设计和架构讨论测试不应是小透明">6. 设计和架构讨论，测试不应是小透明
&lt;/h2>&lt;p>&lt;strong>误区：架构和系统设计、详细设计是开发团队的任务，测试无需了解或参与讨论，等待产品开发完成后根据需求进行测试即可&lt;/strong>&lt;/p>
&lt;p>和上一条类似，&lt;code>测试左移&lt;/code>并不只是说测试更多了解需求，同样也要求测试参与到设计、甚至编码环节。&lt;/p>
&lt;p>还是要谈测试的目标：是要尽可能准确评估出产品的质量状态。而质量必然是和产品的具体实现紧密相关的，对产品的实现细节了解得越清晰，那么在测试时就越能够有的放矢，也包括可以在设计、编码阶段就提前帮助团队规避质量问题。&lt;/p>
&lt;p>相反，如果对设计、代码完全是黑盒，很可能遗漏掉一些关键的测试场景导致问题泄露。&lt;/p>
&lt;ul>
&lt;li>不了解云应用的负载均衡机制实现，只在单节点上验证，就无法验证负载均衡失效导致的问题&lt;/li>
&lt;li>不了解系统的缓存实现机制，就难以针对性地去构建缓存命中场景&lt;/li>
&lt;li>不了解界面的响应式适配实现，就难以高效地进行完成兼容性测试&lt;/li>
&lt;li>不了解接口的校验机制，就难以构造有效的接口测试数据&lt;/li>
&lt;/ul>
&lt;p>以上种种，都是测试不应该游离于设计环节之外，认为产品设计不属于测试范畴而忽略对这个环节的参与&lt;/p>
&lt;h2 id="7-独立的测试环境是充分测试的前提">7. 独立的测试环境是充分测试的前提
&lt;/h2>&lt;p>&lt;strong>误区：测试执行只需要关注产品本身，可以在集成环境甚至开发环境上进行测试，并不影响测试效果&lt;/strong>&lt;/p>
&lt;p>确实，测试的对象是产品本身。但测试环境其实是能否对产品进行全面、高效测试的一个关键制约。&lt;/p>
&lt;p>软件测试和探索过程中，对产品的使用，通常是很多不同的操作、交互的相互叠加。而在发现产品问题时，对问题的判断，一个重要的前提就是产品本身的相关前置条件、关联因素是清晰、明确的。而要保证这一点，一个独立、无干扰的测试环境就尤为必要。如果使用开发环境来进行测试，在测试同时，开发人员同时也在环境上进行调测、变更，不仅会增加大量无效问题的出现，也是对测试、问题定位等资源的极大浪费。&lt;/p>
&lt;p>除此之外，测试中，不可避免还有各种异常场景的营造，而一个独立的测试环境，更便于测试人员调整不同的测试场景，比如：&lt;/p>
&lt;ul>
&lt;li>修改网络配置，营造代理访问、内外部IP、弱网等场景&lt;/li>
&lt;li>修改系统时间、定时任务触发、模拟不同时段数据等场景&lt;/li>
&lt;li>模拟资源不足、空间占满、海量或巨大文件等场景&lt;/li>
&lt;li>产品中的部分限制因素，开启Debug模式、不同的鉴权设定、各种配置变更&lt;/li>
&lt;/ul>
&lt;p>这些测试都是建立在一个独立、可控的测试环境基础上的。&lt;/p>
&lt;h2 id="8-自动化测试代码也是程序像对待产品一样对待测试代码">8. 自动化测试代码也是程序，像对待产品一样对待测试代码
&lt;/h2>&lt;p>&lt;strong>误区：编写自动化测试，就是为了替代部分手工测试的执行，完成自动化代码部分的编写，让它能执行并覆盖相关用例即可&lt;/strong>&lt;/p>
&lt;p>自动化测试的目的确实是为了代替很多人工测试工作，达到效率提升的目的。但自动化测试的实施并非一锤子买卖，它也是一个长期的过程。而且自动化测试，本身也是通过程序代码来实现，是程序就会有bug，因此对自动化测试脚本、工具本身的质量保证和维护也是测试人员的重要工作。&lt;/p>
&lt;p>并不是我们编写出一个可跑的自动化脚本就是进行了自动化。对自动化脚本同样要像软件产品一样经过需求分析、设计、编码、测试以及后续的维护这样的生命周期。&lt;/p>
&lt;p>所以自动化测试本身也是一个较大投入，要让相关脚本长期发挥作用并真正起到提升执行效率的目的，那么对自动化测试代码的良好设计和持续维护就必不可少。&lt;/p>
&lt;h2 id="9--cicd管道同样也是测试的职责">9. CI/CD管道同样也是测试的职责
&lt;/h2>&lt;p>&lt;strong>误区：CI/CD作为现在很多研发团队的基础设施，通常会有专门的DevOps工程师负责搭建、维护，作为测试人员，负责其中自动化测试部分脚本的编写即可&lt;/strong>&lt;/p>
&lt;p>诚然，整个CI/CD管道中，和测试直接相关的部分主要就是自动化测试。但还是那句话：测试作为整个研发过程的一分子，是不可能独立于研发过程之外的。特别是敏捷研发中，更加强调团队的整体性，团队整体对研发过程负责。&lt;/p>
&lt;p>所以CI/CD管道建立、运作和保持畅通的过程，并不存在明显的测试只需要负责自动化测试环节的说法。&lt;/p>
&lt;p>作为质量视角的专业人员，在CI/CD管道建设中，我们也可以发挥更多的作用：&lt;/p>
&lt;ul>
&lt;li>定义管道中各个环节流转的质量门禁，将测试左移反映到CI/CD管道中&lt;/li>
&lt;li>代码变更的管控和识别，这部分对于测试阶段的精准测试，意义重大&lt;/li>
&lt;li>包括开发环境、集成环境、测试环境以至线上生产环境的监控，特别是很多质量相关指标的收集实现&lt;/li>
&lt;li>可视化，包括自动化测试报告、各种数据跟踪的状态呈现等&lt;/li>
&lt;/ul>
&lt;h2 id="10-珍惜所有了解终端用户使用场景的机会">10. 珍惜所有了解终端用户使用场景的机会
&lt;/h2>&lt;p>&lt;strong>误区：作为研发团队成员，测试无须主动接触终端用户。和用户对接更多是销售、售后、客服团队的工作&lt;/strong>&lt;/p>
&lt;p>测试工作面向质量，而质量的最终判断，其实是终端用户。所以很多团队都强调，测试是终端用户的代言人，是要站在用户视角来使用、体验产品并提前发现问题的角色。&lt;/p>
&lt;p>因此，从这个意义上，测试其实应该更多地去接触用户，了解用户使用产品的不同场景，诉求以至偏好。&lt;/p>
&lt;p>所以，在有机会接触用户的场景下，测试应该是主动而非抗拒。作为测试，这方面的机会还是比较多的，充分利用和用户接触的机会，丰富我们对于产品所属行业的理解并应用到我们的测试工作中来。&lt;/p>
&lt;ul>
&lt;li>用户问题支持。在一些反馈到研发团队的客户问题，需要提供技术支持时，作为测试，是经常会要直接面向客户的，这时也是我们直观了解用户对产品使用场景和面临问题的地方。&lt;/li>
&lt;li>对外测试。很多用户在选择产品前，都会有针对产品的验收测试。这些测试往往在客户方进行，但产品测试人员往往会作为产品方来提供支持或实施测试，也就是外场测试。这也是一个很好的深入了解用户场景的窗口&lt;/li>
&lt;li>客户拜访。有的企业在产品研发初期或过程中，会安排和终端客户的拜访、访谈，有时也会邀请研发团队参与，虽然大多情况下是系统分析师、架构等角色参与更多，但测试也会参与到此类拜访中，这是在初期就深入了解产品应用场景的一个绝佳机会。&lt;/li>
&lt;li>行业报告。除了直接和终端客户的沟通外，关注产品所属行业的行业报告、资讯和趋势分析等资料，同样也是一个深入理解产品所处行业和用户的上佳渠道。&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>以上就是对测试人员伤害质量十大误区的梳理总结，欢迎大家讨论补充。
另外秋草关于测试技能体系化提升的课程，可以回复 &lt;strong>“大纲”&lt;/strong> 或在公众号菜单中查看课程目录。&lt;/p></description></item><item><title>AI时代的软件测试，助手还是对手？</title><link>https://chengxiaqiucao.github.io/post/070-ai%E6%97%B6%E4%BB%A3%E7%9A%84%E6%B5%8B%E8%AF%95/</link><pubDate>Tue, 25 Mar 2025 21:38:36 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/070-ai%E6%97%B6%E4%BB%A3%E7%9A%84%E6%B5%8B%E8%AF%95/</guid><description>&lt;p>当下时代，AI浪潮呼啸而至，未来已来已不是一句空话。和AI相关的话题、讨论也成了科技圈的“流量密码”，从自动驾驶到智能客服，每个行业似乎都在蹭这波AI的热度。&lt;/p>
&lt;p>但作为测试从业者，我们在面对 AI 的快速发展时，大家更关心的可能是：&lt;strong>AI在软件测试里到底能干啥？真的能帮我们提高产出、效率吗？或者发展下去，AI会否彻底替代测试岗位？&lt;/strong>&lt;/p>
&lt;p>本篇我们就来探讨下这个话题&lt;/p>
&lt;h2 id="ai在软件测试不同阶段中的角色">AI在软件测试不同阶段中的角色
&lt;/h2>&lt;p>AI测试，归根到底，还是希望它承担部分或者辅助、提升原来的测试工作，也就是说，AI本身，并不会改变软件研发的测试生命周期规律。&lt;/p>
&lt;p>所以，我们可以从软件测试生命周期的不同阶段，测试工作职责范围的角度，来看AI可以发挥哪些作用。&lt;/p>
&lt;h3 id="需求分析阶段">需求分析阶段
&lt;/h3>&lt;p>这个阶段，我们可以基于AI的自然语言处理技术，对原始需求文档进行梳理，输出包括业务流程图、操作流图、数据流向等分析结果。&lt;/p>
&lt;p>同时也可以结合更多关联的本地数据，如历史Bug数据、测试日志、项目数据等，识别测试的优先级并构建风险模型，识别风险。并基于这些分析结果，帮助我们更合理地制定测试计划。&lt;/p>
&lt;h3 id="测测试用例设计阶段">测测试用例设计阶段
&lt;/h3>&lt;p>在软件设计和开发阶段，测试人员通常也会同步完成测试设计，这个阶段，我们可以利用 AI 帮助我们基于需求文档和需求分析阶段的成果，完成测试用例的生成，基于AI可以完成更多更充分的正向、反向用例以及各种边界条件以扩大覆盖范围。&lt;/p>
&lt;h3 id="测试准备阶段">测试准备阶段
&lt;/h3>&lt;p>这阶段，最主要的工作是测试环境的搭建部署，可以利用AI能力结合CI平台实现测试服务器、数据库的环境智能化管理和资源的动态调配等工作。&lt;/p>
&lt;h3 id="测试执行阶段">测试执行阶段
&lt;/h3>&lt;p>执行阶段，可以基于各种风险评估、依赖关系及业务影响等因素动态调整测试顺序，优先覆盖更高风险的模块，实现缺陷尽早暴露的目的。&lt;/p>
&lt;p>另外，也可以通过AI增强如日志分析、图像比对等能力，提升我们的测试执行效率和缺陷发现能力。&lt;/p>
&lt;h3 id="测试报告阶段">测试报告阶段
&lt;/h3>&lt;p>在测试的收尾部分，利用AI针对各种过程数据的综合分析，可以帮助我们出具多维度的测试报告，为项目决策者提供结构化的测试状态分析。&lt;/p>
&lt;h2 id="现阶段-ai-如何赋能软件测试">现阶段 AI 如何赋能软件测试
&lt;/h2>&lt;p>目前的AI的发展，已经可以在很多典型的测试场景下提供更多支持，以下梳理了可以通过AI赋能的一些典型场景&lt;/p>
&lt;ul>
&lt;li>&lt;strong>智能数据生成&lt;/strong>：创建多样化数据集，覆盖常规场景与边缘用例&lt;/li>
&lt;li>&lt;strong>自动化测试&lt;/strong>：自动适应UI变更，保证自动化测试脚本稳定性&lt;/li>
&lt;li>&lt;strong>精准回归测试&lt;/strong>：基于代码变更智能选取关联测试用例&lt;/li>
&lt;li>&lt;strong>流程克隆&lt;/strong>：学习测试工作流后自动执行相似流程&lt;/li>
&lt;li>&lt;strong>动态等待机制&lt;/strong>：智能判断页面加载状态后执行操作&lt;/li>
&lt;li>&lt;strong>日志智能分析&lt;/strong>：分析、识别错误日志中的潜在问题模式&lt;/li>
&lt;li>&lt;strong>负载/性能测试&lt;/strong>：模拟真实用户行为、诊断性能瓶颈&lt;/li>
&lt;li>&lt;strong>持续测试监控&lt;/strong>：实时监测应用状态并预警异常&lt;/li>
&lt;li>&lt;strong>探索性测试支持&lt;/strong>：在探索测试过程中提供智能化建议&lt;/li>
&lt;li>&lt;strong>预测性分析&lt;/strong>：基于历史数据预测版本发布风险&lt;/li>
&lt;/ul>
&lt;h2 id="引入ai的优势">引入AI的优势
&lt;/h2>&lt;p>AI 可以通过持续地学习、训练并不断提升，因此引入AI后，可以在以下诸多方面建立起优势：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>成本优化&lt;/strong>：可以降低人工成本，优化资源配置，加速产品上市&lt;/li>
&lt;li>&lt;strong>稳定可靠&lt;/strong>：确保测试的标准化执行与结果一致性&lt;/li>
&lt;li>&lt;strong>缺陷早筛&lt;/strong>：提前暴露问题，缩短修复周期&lt;/li>
&lt;li>&lt;strong>快速反馈&lt;/strong>：多环境并行测试，缩短反馈链路&lt;/li>
&lt;li>&lt;strong>高质量用例&lt;/strong>：自动生成单元测试、回归测试、API测试等多样化用例&lt;/li>
&lt;/ul>
&lt;h2 id="应用ai依然存在巨大的挑战">应用AI依然存在巨大的挑战
&lt;/h2>&lt;h3 id="人工智能还是人工智障">&lt;strong>人工智能还是“人工智障”&lt;/strong>
&lt;/h3>&lt;p>AI的训练数据如果有偏差，结果可能离谱到让你怀疑人生。如果AI的训练结果不理想，那么AI的应用可能不仅无法提升效率，反而还会浪费大量额外的资源去校正它的执行结果。&lt;/p>
&lt;h3 id="数据依赖症">&lt;strong>数据依赖症&lt;/strong>
&lt;/h3>&lt;p>AI 对于优质训练数据和各种参数调整的高要求，往往对具体行业的实际落地应用形成很大制约。&lt;/p>
&lt;h3 id="维护成本比想象中高">&lt;strong>维护成本比想象中高&lt;/strong>
&lt;/h3>&lt;p>不止是数据资源的投入，对本地数据集的模型训练也需要投入大量时间与资金，包括设备资源也是较大的开支。另外现阶段AI人才的缺口，也让AI应用的人力成本高出一大截&lt;/p>
&lt;h3 id="经验和直觉ai永远学不会">&lt;strong>经验和直觉，AI永远学不会&lt;/strong>
&lt;/h3>&lt;p>经验丰富的老测试人通过各种蛛丝马迹可以嗅出产品中一些隐性的缺陷，这种类似第六感的“玄学”，AI必然难以复制。&lt;/p>
&lt;h2 id="助手还是对手">助手还是对手？
&lt;/h2>&lt;p>“AI这么发展，测试工程师是不是要失业了？” &lt;strong>其实大可不必惊慌！&lt;/strong>&lt;/p>
&lt;p>AI的本质还是工具，就像通过自动化测试取代部分手工的校验一样，它只会改变部分工作方式，而非淘汰岗位。未来的测试人员更像是“AI训练师+策略指挥官”——我们需要做的其实就是：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>教会AI理解业务逻辑&lt;/strong>（比如什么是“正确的订单状态流转”）；&lt;/li>
&lt;li>&lt;strong>设计更聪明的测试策略&lt;/strong>（比如如何平衡自动化与探索性测试）；&lt;/li>
&lt;li>&lt;strong>解读AI的结果并决策&lt;/strong>（比如某个异常到底是Bug还是误报）。&lt;/li>
&lt;/ul>
&lt;p>AI就像扫地机器人，能帮你清理地面，但遇到顽固污渍（复杂业务场景）、家具布局变化（需求变更），还是得你亲自出马。&lt;/p>
&lt;h2 id="结语ai不是终点而是新起点">结语：AI不是终点，而是新起点
&lt;/h2>&lt;p>AI在软件测试中的应用还处于起步期，我们可以看到它的巨大潜力，但还不到能完全信赖并放弃原有模式的时候。作为测试人员，与其焦虑“会不会被取代”，不如主动拥抱变化：学点机器学习基础知识，了解主流AI测试工具，甚至参与训练自己的模型。&lt;/p>
&lt;p>毕竟，&lt;strong>未来的软件测试江湖，最吃香的肯定不是“最会点鼠标的人”，而是“最会和AI打交道的人”&lt;/strong>。你说呢？&lt;/p>
&lt;hr>
&lt;p>部分前文也探讨过AI的发展，参考阅读&lt;/p>
&lt;p>&lt;a class="link" href="https://mp.weixin.qq.com/s/JkBcOzZpVEVJBtvZjE4vEQ?token=645759914&amp;amp;lang=zh_CN" target="_blank" rel="noopener"
>AI时代，程序员还有没有出路&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://mp.weixin.qq.com/s/k9Dj9eRBhehPtbMiIHnn9g" target="_blank" rel="noopener"
>测试职业和其发展前景&lt;/a>&lt;/p></description></item><item><title>Deepseek提示词框架助力团队改进现状，效能提升</title><link>https://chengxiaqiucao.github.io/post/069-%E4%BC%98%E5%8C%96ai%E6%8F%90%E7%A4%BA%E6%A1%86%E6%9E%B6%E5%AE%9E%E7%8E%B0%E5%9B%A2%E9%98%9F%E6%8F%90%E5%8D%87/</link><pubDate>Wed, 19 Mar 2025 22:44:42 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/069-%E4%BC%98%E5%8C%96ai%E6%8F%90%E7%A4%BA%E6%A1%86%E6%9E%B6%E5%AE%9E%E7%8E%B0%E5%9B%A2%E9%98%9F%E6%8F%90%E5%8D%87/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/069-%E4%BC%98%E5%8C%96ai%E6%8F%90%E7%A4%BA%E6%A1%86%E6%9E%B6%E5%AE%9E%E7%8E%B0%E5%9B%A2%E9%98%9F%E6%8F%90%E5%8D%87/%E6%8F%90%E7%A4%BA%E8%AF%8D%E6%A1%86%E6%9E%B6.png" alt="Featured image of post Deepseek提示词框架助力团队改进现状，效能提升" />&lt;p>随着 AI 技术的快速发展，从 ChatGPT 到 Deepseek 的爆发，AI已经可以切实起到辅助我们日常工作的作用。&lt;/p>
&lt;p>除了在具体的像辅助编程、文案编写等方面，我们也可以充分利用 AI 的强大逻辑能力和海量基础数据，帮助我们针对工作中的一些困境，提出切实可行的改进方案。&lt;/p>
&lt;p>但要想 AI 帮助我们给出有可操作性的解决方案，提示词的框架设计和提供给AI的上下文信息是极为关键的。一个良好的提示词框架，可以帮助我们快速得到极为有价值的参考。&lt;/p>
&lt;h2 id="面对的困境案例">面对的困境案例
&lt;/h2>&lt;p>这里以一个比较普遍的敏捷团队质量困境的案例来说明：&lt;/p>
&lt;blockquote>
&lt;p>作为一个测试工程师，在一个运行Scrum框架的敏捷团队中负责质量保障，团队成员还包括SM、PO、2个Android开发（其中小李负责了App的整体系统设计），1个后端开发，1个非全职的视觉设计。团队产品是一个物联网智能手环产品的配套Android App。但因为存在和硬件团队的配合、需求经常变化、视觉设计不及时、提测不及时、Bug积压等问题，导致产品质量不乐观。目前App已经运行了多个迭代，按计划上线时间越来越近，如何针对当前的质量困境提出改进方案？&lt;/p>&lt;/blockquote>
&lt;h3 id="设计提示词框架">设计提示词框架
&lt;/h3>&lt;p>要 AI 帮助我们给出有可行性的改进方案，首先我们要合理地设计提示词框架，以便最终给出的方案更贴合团队现状以及具备可操作性。&lt;/p>
&lt;p>那么设计的提示词框架要点：&lt;/p>
&lt;ul>
&lt;li>给定的角色，让 AI 确定从什么角度去提出改进方案&lt;/li>
&lt;li>当前的现状，也就是充分的背景信息上下文&lt;/li>
&lt;li>AI 应该具体分析的内容或它的任务应该是什么&lt;/li>
&lt;li>希望 AI 提供的具体输出，包括格式要求，应包含的要素等&lt;/li>
&lt;li>相关的一些制约因素，这对方案是否可行会有重要影响&lt;/li>
&lt;/ul>
&lt;p>现在针对上述困境，希望AI 能帮助我提供一份针对团队的整体质量提升方案，可以在回顾会上进行讨论。基于以上思路，通过向 Deepseek输入提示词框架，得到如下输出：&lt;/p>
&lt;h3 id="质量改进方案面向迭代回顾会">质量改进方案（面向迭代回顾会）
&lt;/h3>&lt;hr>
&lt;h4 id="1-总体质量目标">&lt;strong>1. 总体质量目标&lt;/strong>
&lt;/h4>&lt;p>&lt;strong>&amp;ldquo;在2个迭代内将自动化测试覆盖率提升至40%，缺陷修复响应时间缩短50%，回归测试时间压缩30%，建立需求变更与测试联动的质量防线&amp;rdquo;&lt;/strong>&lt;/p>
&lt;hr>
&lt;h4 id="2-具体改进举措">&lt;strong>2. 具体改进举措&lt;/strong>
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>举措&lt;/th>
&lt;th>执行人&lt;/th>
&lt;th>执行计划&lt;/th>
&lt;th>效果评估方法&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>需求冻结机制&lt;/strong>&lt;br>- 每个迭代前3天锁定核心功能需求&lt;br>- 硬件对接需求由PO与硬件团队联合评审后形成接口文档&lt;/td>
&lt;td>PO、硬件团队负责人&lt;/td>
&lt;td>迭代计划会签署需求基线文档&lt;br>硬件接口文档通过Confluence共享&lt;/td>
&lt;td>需求变更次数减少50%&lt;br>接口文档版本变更记录可追溯&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>自动化用例分级策略&lt;/strong>&lt;br>- L0级（核心业务流）：强制全自动化&lt;br>- L1级（高频使用场景）：优先自动化&lt;br>- L2级（边缘场景）：手动验证&lt;/td>
&lt;td>测试工程师&lt;br>（主导）&lt;br>Android开发工程师&lt;br>（辅助）&lt;/td>
&lt;td>使用Allure标记用例等级&lt;br>每日构建优先执行L0用例&lt;/td>
&lt;td>L0用例100%通过率作为提测准出条件&lt;br>自动化执行时间减少40%&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>开发自测责任制&lt;/strong>&lt;br>- 开发提交代码需附带单元测试（覆盖率≥60%）&lt;br>- 接口测试由后端工程师在Swagger维护&lt;/td>
&lt;td>Android开发工程师&lt;br>后端工程师&lt;/td>
&lt;td>单元测试纳入代码评审检查项&lt;br>Postman接口用例与代码库联动&lt;/td>
&lt;td>提测版本冒烟测试通过率提升至80%&lt;br>接口缺陷率下降30%&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>硬件兼容性Mock服务&lt;/strong>&lt;br>- 基于硬件协议开发模拟器&lt;br>- 自动化测试与真实设备解耦&lt;/td>
&lt;td>测试工程师&lt;br>（主导）&lt;br>硬件团队提供协议文档&lt;/td>
&lt;td>使用Python开发蓝牙协议模拟器&lt;br>Jenkins构建时自动启动Mock服务&lt;/td>
&lt;td>硬件依赖导致测试阻塞次数清零&lt;br>自动化稳定性提升至95%&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>缺陷分级管理&lt;/strong>&lt;br>- P0级缺陷：2小时内响应&lt;br>- P1级缺陷：当前迭代必须修复&lt;br>- 遗留缺陷需PO签字确认风险&lt;/td>
&lt;td>测试工程师&lt;br>（分类）&lt;br>开发工程师&lt;br>（修复）&lt;/td>
&lt;td>Jira配置自动化缺陷流转规则&lt;br>每日站会同步TOP3缺陷进展&lt;/td>
&lt;td>缺陷平均修复周期缩短至8小时&lt;br>积压缺陷数量下降60%&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;h4 id="3-风险及应对">&lt;strong>3. 风险及应对&lt;/strong>
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>风险&lt;/th>
&lt;th>应对方案&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>开发人员抵触单元测试&lt;/td>
&lt;td>- 由小李（系统设计师）示范编写单元测试&lt;br>- 将测试覆盖率纳入DoD完成标准&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>硬件协议频繁变更&lt;/td>
&lt;td>- 要求硬件团队提前3天通知协议变更&lt;br>- Mock服务设计版本兼容机制&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>UE设计延迟影响UI测试&lt;/td>
&lt;td>- 与UE设计师约定：视觉稿交付同时提供UI元素ID规范&lt;br>- 使用截图对比工具容差10%像素差异&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;h4 id="4-外部支持需求">&lt;strong>4. 外部支持需求&lt;/strong>
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>类型&lt;/th>
&lt;th>具体需求&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>工具&lt;/td>
&lt;td>- 申请BrowserStack移动云测试平台license&lt;br>- 采购Xray测试用例管理插件License&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>人员&lt;/td>
&lt;td>- 硬件团队指定协议对接接口人&lt;br>- DevOps工程师优化CI/CD流水线&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>培训&lt;/td>
&lt;td>- 邀请单元测试专家开展TDD工作坊&lt;br>- Appium高级用法内部培训&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;h4 id="5-效果评估节点">&lt;strong>5. 效果评估节点&lt;/strong>
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>节点&lt;/th>
&lt;th>检验标准&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>迭代5中期&lt;/td>
&lt;td>- L0级自动化用例覆盖所有核心业务流程&lt;br>- 单元测试覆盖率≥40%&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>迭代5结束&lt;/td>
&lt;td>- 自动化覆盖率≥25%&lt;br>- 回归测试时间≤8小时/次&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>迭代6结束&lt;/td>
&lt;td>- 自动化覆盖率≥40%&lt;br>- 生产环境致命缺陷数为0&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;p>&lt;strong>执行要点说明：&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>&lt;strong>每日质量看板&lt;/strong>：在团队作战室悬挂自动化执行率/缺陷趋势图&lt;/li>
&lt;li>&lt;strong>质量门禁机制&lt;/strong>：代码合并请求必须通过L0用例+SonarQube检测&lt;/li>
&lt;li>&lt;strong>测试左移实践&lt;/strong>：测试工程师参与需求评审时即输出测试要点矩阵&lt;/li>
&lt;/ol>
&lt;p>该方案需团队全员签署质量承诺书，建议在迭代回顾会上通过&amp;quot;5Why分析法&amp;quot;就当前质量问题达成改进共识。&lt;/p>
&lt;p>可以看到，得到了一份极有针对性且有相当可行性的改进方案。我们根据目前的团队现状，进行微调其实就可以纳入实施。&lt;/p>
&lt;p>所以善用 AI 提示词框架，不仅可以帮助我们在具体事务上获取帮助，对于这种整体改进方面的举措，AI 也能提供巨大助力。&lt;/p>
&lt;p>回复 “提示词框架” 可获取上文的提示词完整示例。关于 AI 在工作中的更多应用实践，也欢迎大家留言或入群探讨！&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/qrcode_for_gh_e12c318badb4_258%20%281%29.jpg"
loading="lazy"
>&lt;/p></description></item><item><title>软件测试中"可做但不应做"的一些陷阱</title><link>https://chengxiaqiucao.github.io/post/067-%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E4%B8%AD%E5%8F%AF%E5%81%9A%E4%BD%86%E4%B8%8D%E5%BA%94%E5%81%9A%E7%9A%84%E4%B8%80%E4%BA%9B%E9%99%B7%E9%98%B1/</link><pubDate>Tue, 18 Mar 2025 16:49:04 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/067-%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E4%B8%AD%E5%8F%AF%E5%81%9A%E4%BD%86%E4%B8%8D%E5%BA%94%E5%81%9A%E7%9A%84%E4%B8%80%E4%BA%9B%E9%99%B7%E9%98%B1/</guid><description>&lt;h2 id="软件测试中8-种-能做但不应该做-的工作">软件测试中，8 种 &lt;strong>”能做，但不应该做“&lt;/strong> 的工作
&lt;/h2>&lt;p>在软件测试中，我们常常会面临一个问题：很多工作确实是我们可以去做到的，似乎做这些事也理所当然，但很多时候，这些事情往往收效甚微。从过度自动化到频繁运行不必要的回归测试，不一而足。&lt;/p>
&lt;p>随着技术发展，测试人员手中拥有的工具让我们可以完成更多事情，但并不意味每个选择都是明智的。有些工作，盲目地去做，往往会影响真正重要的产出、效率、可维护性等要求。&lt;/p>
&lt;p>本文列举了在测试工作中八个“能做，但不应做”的工作。有时候，退一步可能是更聪明的选择。&lt;/p>
&lt;h3 id="1-自动化所有测试">1. 自动化所有测试
&lt;/h3>&lt;p>&lt;strong>可以做到：&lt;/strong> 现代的测试自动化工具让我们几乎可以自动化任何测试用例，从用户界面的每一次点击到API的每一次调用，技术上来说，都可以通过自动化来进行驱动。&lt;/p>
&lt;p>&lt;strong>但不应该：&lt;/strong> 仅仅因为可以实现自动化测试，却并不意味它是最佳选择。比如：&lt;/p>
&lt;blockquote>
&lt;p>某个产品的用户界面非常动态，设计师每周都会进行调整。如果你选择将所有测试都自动化，每次UI改动后，相关的自动化测试都可能面临失效的风险。&lt;/p>&lt;/blockquote>
&lt;p>这种情况下，&lt;strong>手动测试可能更有效&lt;/strong>。&lt;/p>
&lt;h3 id="2-自动化脚本中使用过于复杂的定位器">2. 自动化脚本中使用过于复杂的定位器
&lt;/h3>&lt;p>&lt;strong>可以做到：&lt;/strong> Selenium, Playwright 等自动化工具中，借助XPath和CSS选择器，我们能够精确定位到页面中最深层的元素。&lt;/p>
&lt;p>&lt;strong>但不应该：&lt;/strong> 过于复杂的定位器往往会让测试变得脆弱。比如：&lt;/p>
&lt;blockquote>
&lt;p>使用复杂的XPath去定位一个菜单，但当开发团队重构HTML结构后，往往导致多个测试失败，团队不得不花费大量时间修复。&lt;/p>&lt;/blockquote>
&lt;p>这时，其他方法可能对自动化用例的稳定性更为有效，比如和开发团队&lt;strong>约定增加元素的 &lt;code>test-id&lt;/code> 属性&lt;/strong>。&lt;/p>
&lt;h3 id="3-每次提交都运行完整的回归测试">3. 每次提交都运行完整的回归测试
&lt;/h3>&lt;p>&lt;strong>可以做到：&lt;/strong> 在现代CI/CD管道中，每次代码提交都可以轻松触发完整的回归测试。&lt;/p>
&lt;p>&lt;strong>但不应该：&lt;/strong> 但实际上，这种做法往往是过度的。想象一下，一个小的代码修复导致整个回归测试运行，而这个过程可能需要几个小时，甚至更长时间。&lt;/p>
&lt;p>如果在没有将自动化覆盖率提升到一定程度的团队，这种提交后进行完整回归更是噩梦。更好的做法，其实还是及时掌握变更内容，并根据变更和影响实现&lt;strong>精准测试&lt;/strong>。&lt;/p>
&lt;h3 id="4-在api测试中过度模拟">4. 在API测试中过度模拟
&lt;/h3>&lt;p>&lt;strong>可以做到：&lt;/strong> 模拟API响应可以大幅提高测试速度，消除对外部服务的依赖。&lt;/p>
&lt;p>&lt;strong>但不应该：&lt;/strong> 然而，过度模拟会让我们失去与真实环境的连接。大量的Mock API 确实可以提升调试和验证效率，但却背离了真正的测试需要。&lt;strong>真实场景下的测试是不可或缺&lt;/strong>的，就像我们不能预知所有的异常一样&lt;/p>
&lt;h3 id="5-为琐碎问题撰写极其详细的缺陷报告">5. 为琐碎问题撰写极其详细的缺陷报告
&lt;/h3>&lt;p>&lt;strong>可以做到：&lt;/strong> 借助辅助测试工具，我们可以捕捉到类似很多细小的UI层、提示信息等缺陷，也可以按照用例规范编写极为详尽的缺陷报告。&lt;/p>
&lt;p>&lt;strong>但不应该：&lt;/strong> 并不是每个小问题都值得进行事无巨细地全面报告。发现Bug的目的最终是为了解决bug而不是bug本身，况且Bug的价值也有高下主次之分。我在 【】中其实对好的缺陷报告进行过分析，缺陷报告的价值是作为和开发沟通的渠道，报告八股文本身并无价值。&lt;/p>
&lt;h3 id="6-在没有人工监督的情况下使用ai生成测试用例">6. 在没有人工监督的情况下使用AI生成测试用例
&lt;/h3>&lt;p>&lt;strong>可以做到：&lt;/strong> AI的发展，其实已经可以做到，利用AI工具，基于需求文档快速生成大量测试用例，覆盖大量场景。&lt;/p>
&lt;p>&lt;strong>但不应该：&lt;/strong> 然而，现阶段的AI，特别是针对特定的业务，缺乏人类的上下文理解以及各种内部沟通获取的综合信息，因而可能导致用例冗余或遗漏关键测试用例。&lt;/p>
&lt;h3 id="7-在测试中过多地使用断言">7. 在测试中过多地使用断言
&lt;/h3>&lt;p>&lt;strong>可以做到：&lt;/strong> 结合自动化工具和AI，我们确实可以做到在一个测试中验证大量字段、属性和UI元素。&lt;/p>
&lt;p>&lt;strong>但不应该：&lt;/strong> 然而，过多的断言只会让测试变得巨大且复杂，难以调试。当部分断言失败，往往需要耗费大量的精力去排查&lt;/p>
&lt;h3 id="8-在每个可能的设备和浏览器组合上执行测试">8. 在每个可能的设备和浏览器组合上执行测试
&lt;/h3>&lt;p>&lt;strong>可以做到：&lt;/strong> 针对兼容性测试，现代的跨浏览器和跨设备测试工具让我们能够在许多操作系统和设备上运行测试。&lt;/p>
&lt;p>&lt;strong>但不应该：&lt;/strong> 测试所有可能的组合既不必要也不切实际。重点是覆盖用户实际使用的关键场景。而且开发技术的发展如响应式编程等，也大大减少了兼容性问题的风险。&lt;/p>
&lt;h3 id="结语">结语
&lt;/h3>&lt;p>在软件测试中，“有能力做” 却并不总意味着是最佳选择。我们需要在技术能力和实际可行性之间找到平衡。通过避免这些“因为可以做到”的陷阱，去建立一个精简、高效且真正有价值的测试集，对产品的质量保障更有意义。&lt;/p>
&lt;p>欢迎关注秋草，持续带来更多软件质量相关技术干货！&lt;/p></description></item><item><title>没代码能力还能否从事测试工作</title><link>https://chengxiaqiucao.github.io/post/065-%E6%B2%A1%E4%BB%A3%E7%A0%81%E8%83%BD%E5%8A%9B%E8%BF%98%E8%83%BD%E5%90%A6%E4%BB%8E%E4%BA%8B%E6%B5%8B%E8%AF%95%E5%B7%A5%E4%BD%9C/</link><pubDate>Sat, 15 Mar 2025 00:04:55 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/065-%E6%B2%A1%E4%BB%A3%E7%A0%81%E8%83%BD%E5%8A%9B%E8%BF%98%E8%83%BD%E5%90%A6%E4%BB%8E%E4%BA%8B%E6%B5%8B%E8%AF%95%E5%B7%A5%E4%BD%9C/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/065-%E6%B2%A1%E4%BB%A3%E7%A0%81%E8%83%BD%E5%8A%9B%E8%BF%98%E8%83%BD%E5%90%A6%E4%BB%8E%E4%BA%8B%E6%B5%8B%E8%AF%95%E5%B7%A5%E4%BD%9C/Pasted-20250316.png" alt="Featured image of post 没代码能力还能否从事测试工作" />&lt;blockquote>
&lt;p>很多想往测试方向转的非IT从业者，道听途说软件测试门槛低，就算不会写代码也可以进入这个行业工作。那么是不是这样呢？&lt;/p>&lt;/blockquote>
&lt;p>应该说：&lt;/p>
&lt;p>&lt;strong>没代码能力，要从事软件测试，实际上可以做，但实际上又不能做。&lt;/strong>&lt;/p>
&lt;h2 id="实际上可以做">实际上可以做
&lt;/h2>&lt;p>软件测试并不是一个建立在代码能力上的技术，所以说实际上可以做。&lt;/p>
&lt;p>软件测试是通过测试，暴露出产品中的质量问题，其实是一个发现未知的技能。所以更关键的是试验、探索、观察、推理、设问、建模这些方面的能力；而有代码能力，更多是能去帮助自己理解产品的实现过程，或者可以通过代码帮助自己扩展测试手段、去提升测试效率，从这个意义上，代码能力是一个辅助能力，用来辅助测试工作，但它并不是决定测试工作是否能完成的的关键！&lt;/p>
&lt;p>James Bach在论文 《testing and checking》 中，阐述了 &lt;code>测试&lt;/code> 和 &lt;code>检查&lt;/code> 的关系&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/065-%E6%B2%A1%E4%BB%A3%E7%A0%81%E8%83%BD%E5%8A%9B%E8%BF%98%E8%83%BD%E5%90%A6%E4%BB%8E%E4%BA%8B%E6%B5%8B%E8%AF%95%E5%B7%A5%E4%BD%9C/testing-checking.png"
width="748"
height="571"
srcset="https://chengxiaqiucao.github.io/post/065-%E6%B2%A1%E4%BB%A3%E7%A0%81%E8%83%BD%E5%8A%9B%E8%BF%98%E8%83%BD%E5%90%A6%E4%BB%8E%E4%BA%8B%E6%B5%8B%E8%AF%95%E5%B7%A5%E4%BD%9C/testing-checking_hu_894995043907226c.png 480w, https://chengxiaqiucao.github.io/post/065-%E6%B2%A1%E4%BB%A3%E7%A0%81%E8%83%BD%E5%8A%9B%E8%BF%98%E8%83%BD%E5%90%A6%E4%BB%8E%E4%BA%8B%E6%B5%8B%E8%AF%95%E5%B7%A5%E4%BD%9C/testing-checking_hu_fc91b077f293f5bc.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="130"
data-flex-basis="314px"
>&lt;/p>
&lt;p>&lt;code>测试&lt;/code>是一个更大范围的概念，而&lt;code>检查&lt;/code>只是测试的子集，并且检查还分为人工检查和借助机器（工具）来检查。&lt;/p>
&lt;p>而代码能力，影响的部分，更多是在利用工具检查这部分。&lt;/p>
&lt;p>所以早年，很多测试工作做得出色的测试专家，其实并不长于编码，但多半是相关业务领域的业务专家，且有出色的测试思维，也就是上面说到的类似侦探那样的观察、推理等能力。&lt;/p>
&lt;p>所以说，实际上，没有代码能力，并不影响是否能把测试工作做到出色。&lt;/p>
&lt;h2 id="实际上不能做">实际上不能做
&lt;/h2>&lt;p>但是，我们还要说，没有代码能力，实际又不能做。&lt;/p>
&lt;p>上面我们也说了，&lt;strong>早年&lt;/strong>，还存在不会代码的测试专家。时移事易，当下的现状其实不一样了。随着行业发展，测试这个行当的方向可以说已经脱离了原先轨道。挺可悲可叹！&lt;/p>
&lt;p>原因多种：&lt;/p>
&lt;h3 id="敏捷研发等强调快速交付的研发模式流行">敏捷研发等强调快速交付的研发模式流行
&lt;/h3>&lt;p>在敏捷研发模式中，其实已经不再有专门的测试角色，更多强调团队成员是多面手，各种研发任务可以一专多能，包括开发和测试！测试人员作为团队一份子，自然也就不能仅仅只能做测试，必要时也要能接手开发，至少包括单元测试、集成测试等原来开发范畴的工作也要去承担。当然代码能力就是满足这个条件的硬性要求了&lt;/p>
&lt;h3 id="对自动化测试能力的强制要求">对自动化测试能力的强制要求
&lt;/h3>&lt;p>也是因为敏捷，持续集成等研发模式的需要，自动化测试成为其中必不可少的环节。而作为自动化测试的基础能力，代码能力自然也就是必然。&lt;/p>
&lt;p>&lt;em>但这里必须要指出，像自动化测试这种，为了“快速完成测试”，按上图测试和检查的关系，实际上并不是真正的“测试”，更多是“检查”。一味强调代码能力，某种意义其实是对测试工作要求的弱化，也就是更多只要求了“检查”，而不是“测试”&lt;/em>&lt;/p>
&lt;h3 id="人才市场供大于求">人才市场供大于求
&lt;/h3>&lt;p>最后，还是行业环境。在早年互联网兴起阶段，人力缺口大，很多“验证” 工作也是由不需要代码能力的初级或者0基础小白去人工完成，人工“检查”比重更大。&lt;/p>
&lt;p>但行业下行时，企业压缩成本，导致人才市场供大于求。所以入行门槛自然会抬高，从业要求也水涨船高，对工具“验证”的期望也更高，所以代码能力，自动化测试、工具开发等等几乎已经就成了必备技能。&lt;/p>
&lt;p>再叠加当下敏捷研发等研发模式的流行，对自动化测试的要求，可以说，没有代码能力，在当前环境下，实际上已经很难说还可以从事测试工作，无门可入。&lt;/p>
&lt;h2 id="结语">结语
&lt;/h2>&lt;p>所以，目前情况下，对于测试工作，虽然没代码能力，不代表不能完成测试工作，但不具备代码能力却已很难搭上车&lt;/p>
&lt;p>所以，作为个体，时代洪流下，能做的就是不要逆时而行，踏实去构建顺应潮流的个人能力。
但还是要理解这个工作的核心要求是什么，厚积薄发，吹尽黄沙始到金！&lt;/p></description></item><item><title>搞定正则表达式，告别新手村！</title><link>https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/</link><pubDate>Sun, 09 Mar 2025 00:00:00 +0000</pubDate><guid>https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250310.png" alt="Featured image of post 搞定正则表达式，告别新手村！" />&lt;h1 id="前言">前言
&lt;/h1>&lt;p>&lt;strong>正则表达式 （Regular Expression）&lt;/strong> 是一种强大的文本模式描述语言，可以通过简洁的符号组合描述复杂的字符串匹配规则。被广泛应用于数据验证、文本提取、日志分析等领域，在我们日常工作中发挥着重要的作用。&lt;/p>
&lt;p>软件行业从业，是否掌握正则表达式的使用，往往是区分菜鸟和老手的重要标识。 本文我们结合一些具体案例，详细梳理下正则表达式的应用，早日告别新手村！&lt;/p>
&lt;h1 id="正则表达式核心语法">正则表达式核心语法
&lt;/h1>&lt;p>学习正则表达式， 这里推荐一个非常直观的线上验证平台， &lt;a class="link" href="https://regex101.com" target="_blank" rel="noopener"
>https://regex101.com&lt;/a> , 对于我们练习和掌握正则语法非常有帮助。&lt;/p>
&lt;h2 id="普通字符和特殊字符">普通字符和特殊字符
&lt;/h2>&lt;p>正则表达式作为一个匹配规则。当然首先可以匹配各种普通字符。主要指各种中英文单词、字母、数字。此外正则表达式还会预留很多特殊字符，如 &lt;code>* ? + . () [] $ ^ \ |&lt;/code> 等，代表一些特别的匹配规则，而如果这些特殊字符我们需要看作普通字符进行匹配时，则需要使用 &lt;code>\&lt;/code> 符号进行转义，因此 &lt;code>\&lt;/code> 也称转义符。比如 &lt;code>\?&lt;/code> 就会匹配目标文本中的 &lt;code>?&lt;/code> 字符， &lt;code>\\&lt;/code> 则会匹配目标文本中的 &lt;code>\&lt;/code> 字符&lt;/p>
&lt;h2 id="量词符quantifiers">量词符（quantifiers）
&lt;/h2>&lt;p>量词符是用于控制匹配次数的符号：&lt;/p>
&lt;ul>
&lt;li>&lt;code>*&lt;/code> 零次或多次（如 &lt;code>a*&lt;/code> 可匹配 &amp;ldquo;&amp;rdquo;, &amp;ldquo;a&amp;rdquo;, &amp;ldquo;aa&amp;rdquo;）&lt;/li>
&lt;li>&lt;code>+&lt;/code> 一次或多次（&lt;code>a+&lt;/code> 必须至少有一个a）&lt;/li>
&lt;li>&lt;code>?&lt;/code> 零次或一次（&lt;code>a?&lt;/code> 可匹配 &amp;quot;&amp;quot; 或 a）&lt;/li>
&lt;li>&lt;code>{n}&lt;/code> 精确匹配n次（&lt;code>{4}&lt;/code> 匹配4次）&lt;/li>
&lt;li>&lt;code>{m,n}&lt;/code> 匹配m到n次（含边界）&lt;/li>
&lt;li>&lt;code>{m,}&lt;/code> 匹配m到多次&lt;/li>
&lt;li>&lt;code>{,n}&lt;/code> 匹配零次到n次&lt;/li>
&lt;/ul>
&lt;p>另外，在正则表达式中，还有两种匹配模式&lt;/p>
&lt;ul>
&lt;li>&lt;strong>贪婪模式&lt;/strong>：这是默认模式，也就会在目标文本中，尽可能最长地去匹配符合规则的字符&lt;/li>
&lt;li>&lt;strong>惰性模式&lt;/strong>：而如果在量词后加&lt;code>?&lt;/code>则标记以惰性模式进行匹配，也就是尽可能少地去匹配符合规则的字符&lt;/li>
&lt;/ul>
&lt;p>举例来说：&lt;/p>
&lt;p>&lt;code>浮云长长长长长长长消&lt;/code>&lt;/p>
&lt;p>这个上联中有 7 个 &lt;code>长&lt;/code> 字，正则表达式 &lt;code>长{2,3}&lt;/code> 默认按贪婪模式匹配，会匹配到 2 次 &lt;code>长长长&lt;/code>， 而加上 &lt;code>长{2,3}?&lt;/code> 则会按尽量少的字符匹配，匹配到 3 次 &lt;code>长长&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-1.png"
width="1250"
height="531"
srcset="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-1_hu_b95a4654bc51ae82.png 480w, https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-1_hu_6d84fb0f184894d2.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="235"
data-flex-basis="564px"
>&lt;/p>
&lt;h2 id="元字符metacharacters">元字符（Metacharacters）
&lt;/h2>&lt;p>除量词符外，还有一类元字符，被预留构成正则表达式的基础特殊符号：&lt;/p>
&lt;ul>
&lt;li>&lt;code>\d&lt;/code> 匹配数字（等价于 &lt;code>[0-9]&lt;/code>）&lt;/li>
&lt;li>&lt;code>\D&lt;/code> 匹配非数字&lt;/li>
&lt;li>&lt;code>\w&lt;/code> 匹配单词，包括字母、数字和下划线（等价于 &lt;code>[A-Za-z0-9_]&lt;/code>）&lt;/li>
&lt;li>&lt;code>\W&lt;/code> 匹配非单词&lt;/li>
&lt;li>&lt;code>\s&lt;/code> 匹配空白符（空格/制表符/换行符）&lt;/li>
&lt;li>&lt;code>\S&lt;/code> 匹配非空白&lt;/li>
&lt;li>&lt;code>.&lt;/code> 匹配任意单个字符（默认不匹配换行符）&lt;/li>
&lt;li>&lt;code>|&lt;/code> 表示逻辑&amp;quot;或&amp;quot;&lt;/li>
&lt;/ul>
&lt;h2 id="位置限定符position-anchors">位置限定符（Position Anchors）
&lt;/h2>&lt;p>用于精准定位匹配位置：&lt;/p>
&lt;ul>
&lt;li>&lt;code>\b&lt;/code> 匹配单词边界（如 &lt;code>\bcat\b&lt;/code> 匹配完整单词）&lt;/li>
&lt;li>&lt;code>\B&lt;/code> 匹配非单词边界&lt;/li>
&lt;li>&lt;code>^&lt;/code> 匹配目标文本开头，多行模式下也匹配行首&lt;/li>
&lt;li>&lt;code>$&lt;/code> 匹配目标文本结尾，多行模式下也匹配行尾&lt;/li>
&lt;/ul>
&lt;p>举例来说:
在&lt;code>tester is good at testing&lt;/code> 中，用 &lt;code>^test&lt;/code> 就只会匹配到行首的 &lt;code>test&lt;/code>， 但&lt;code>testing&lt;/code> 中的&lt;code>test&lt;/code> 就不会匹配到， 而如果 &lt;code>test\b&lt;/code>，同样匹配不到任何结果，因为这段文本中 &lt;code>test&lt;/code>都不是单独的单词，&lt;code>test&lt;/code> 后不存在单词边界&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-2.png"
width="1273"
height="451"
srcset="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-2_hu_47b16cd281a465bd.png 480w, https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-2_hu_2eecbf36b14f7a2e.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="282"
data-flex-basis="677px"
>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-3.png"
width="1566"
height="414"
srcset="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-3_hu_9765a6ec724de524.png 480w, https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-3_hu_efb327b0f19e9cd.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="378"
data-flex-basis="907px"
>&lt;/p>
&lt;h2 id="字符类character-classes">字符类（Character Classes）
&lt;/h2>&lt;p>字符类用于批量匹配特定字符集合：&lt;/p>
&lt;ul>
&lt;li>&lt;code>[abc]&lt;/code> 匹配a/b/c中的任意字符&lt;/li>
&lt;li>&lt;code>[^abc]&lt;/code> 匹配不在集合中的字符&lt;/li>
&lt;li>范围表示法：&lt;code>[a-z]&lt;/code>（小写字母）、&lt;code>[A-Z]&lt;/code>（大写字母）、&lt;code>[0-9]&lt;/code>（数字）&lt;/li>
&lt;/ul>
&lt;p>下例中 &lt;code>[b-f]&lt;/code>， 就只匹配了目标字串中的 &lt;code>d,e&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-4.png"
width="1295"
height="668"
srcset="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-4_hu_e9f0bbb6b826b273.png 480w, https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-4_hu_5a5c9b3afd591d18.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="193"
data-flex-basis="465px"
>&lt;/p>
&lt;h2 id="分组groups">分组（Groups）
&lt;/h2>&lt;p>分组是正则表达式中重要的技巧，用于对匹配规则进行分组，便于在后续的文本处理中提取匹配到的内容。 分组通过在表达式中将模式用 &lt;code>()&lt;/code> 框定来表示。&lt;/p>
&lt;p>比如指定一个字串&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">this is a &amp;#34;testtest&amp;#34; string to demo regex group!
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="分组及其引用">分组及其引用
&lt;/h3>&lt;p>分组默认从 1 开始计数，也就是多个分组时，可以按顺序以 &lt;code>\1&lt;/code> &lt;code>\2&lt;/code> 来反向引用分组&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-5.png"
width="1542"
height="407"
srcset="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-5_hu_aa6b934826982b04.png 480w, https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-5_hu_a33b88c01500c7fd.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="378"
data-flex-basis="909px"
>&lt;/p>
&lt;p>这个例子，我们 通过 &lt;code>(is)(\s)\1\2&lt;/code> 指定了两个分组，组1 匹配 &amp;ldquo;is&amp;rdquo;， 组2匹配空白字符（这里是空格) ，然后用&lt;code>\1\2&lt;/code> 分别引用这两个组，最终其实就匹配了 &lt;code>&amp;quot;is&amp;quot;+空格&lt;/code> 连续出现了两次的情况&lt;/p>
&lt;h3 id="指定分组不进行引用">指定分组不进行引用
&lt;/h3>&lt;p>如果我们进行分组时，某个分组我们并不想在后续引用，那么可以使用 &lt;code>(?:pattern)&lt;/code> 来进行标记，指定当前分组在后续不会进行引用。 这时分组默认的提取序号中，就会忽略这一组不进行编号
。&lt;/p>
&lt;p>上例中，如果我们指定其中第二个分组不进行引用&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">(is)(?:\s)\1\2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这时其实上例中的正则表达式就出现语法错误，无法完成匹配，因为这时第二个分组被忽略，而 &lt;code>\2&lt;/code> 进行引用，这时就会因为不存在出现模式错误&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-6.png"
width="1089"
height="285"
srcset="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-6_hu_66b4953a99a239ba.png 480w, https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-6_hu_7dcf2714bff3884b.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="382"
data-flex-basis="917px"
>&lt;/p>
&lt;h3 id="对分组进行注释">对分组进行注释
&lt;/h3>&lt;p>一些复杂的正则表达式，我们还可以在分组添加注释，起到对正则表达式进行说明的作用 &lt;code>(?#comment)(other group)&lt;/code>&lt;/p>
&lt;h3 id="分组命名">分组命名
&lt;/h3>&lt;p>除了默认用数字序号来引用分组，也可以通过给分组进行命名的方式： &lt;code>(?P&amp;lt;name&amp;gt;pattern)&lt;/code> 进行命名。
然后用&lt;code>(?P=&amp;lt;name&amp;gt;)&lt;/code>进行引用&lt;/p>
&lt;p>综合上面的说明，使用如下正则说明&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">(?#这是一个嵌套分组示例)(?P&amp;lt;demo&amp;gt;t(?:\w*)t)(?P=demo)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-7.png"
width="1798"
height="376"
srcset="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-7_hu_7318f26860fb9737.png 480w, https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-7_hu_46bb8d7a7036b047.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="478"
data-flex-basis="1147px"
>&lt;/p>
&lt;h2 id="断言assertions">断言（Assertions）
&lt;/h2>&lt;p>断言主要用于判断，用来匹配符合模式的字符所在位置。因为它主要用判断位置，不会消费字符，所以一般也叫 &lt;strong>零宽断言&lt;/strong>&lt;/p>
&lt;p>断言可分为4类，还是用上例中的文本举例&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">this is a &amp;#34;testtest&amp;#34; string to demo regex group!
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="正向肯定断言">正向肯定断言
&lt;/h3>&lt;p>判断匹配位置之后的字符符合模式， 通过&lt;code>(?=pattern)&lt;/code> 来进行断言&lt;/p>
&lt;p>示例：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-8.png"
width="1665"
height="301"
srcset="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-8_hu_eaeae5c021a65cf9.png 480w, https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-8_hu_fbd343bdca89110b.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="553"
data-flex-basis="1327px"
>&lt;/p>
&lt;h3 id="正向否定断言">正向否定断言
&lt;/h3>&lt;p>判断匹配位置之后的字符不符合给定模式， 通过&lt;code>(?!pattern)&lt;/code> 来进行断言&lt;/p>
&lt;p>示例：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-9.png"
width="1594"
height="722"
srcset="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-9_hu_9702474baae8aa63.png 480w, https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-9_hu_5f7113905515b6ad.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="220"
data-flex-basis="529px"
>&lt;/p>
&lt;h3 id="反向肯定断言和反向否定断言">反向肯定断言和反向否定断言
&lt;/h3>&lt;p>和正向相对，反向断言匹配的是预期位置之前的字符是否符合模式，也有肯定和否定之分。在 &lt;code>?&lt;/code>后再添加一个&lt;code>&amp;lt;&lt;/code>表示反向， 即&lt;code>(?&amp;lt;=pattern)&lt;/code> 和 &lt;code>(?&amp;lt;!pattern)&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-10.png"
width="1558"
height="357"
srcset="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-10_hu_afc1bd2600ffa6b6.png 480w, https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309-10_hu_c15a8fd618e404f4.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="436"
data-flex-basis="1047px"
>&lt;/p>
&lt;h1 id="匹配模式">匹配模式
&lt;/h1>&lt;p>除了上述正则表达式的主要匹配规则外，正则表达式还有一些匹配模式。是用 &lt;code>\&lt;/code> 加上一些特殊的字母代表不同的模式&lt;/p>
&lt;ul>
&lt;li>&lt;code>\g&lt;/code> 表示全局匹配，也就是会在给定的文本中匹配所有符合条件的字串，如果不指定，则仅匹配出现的第一个符合模式的字串&lt;/li>
&lt;li>&lt;code>\m&lt;/code> 多行模式，主要是指定 &lt;code>^ $&lt;/code>是否匹配行首行尾&lt;/li>
&lt;li>&lt;code>\i&lt;/code> 匹配时忽略大小写&lt;/li>
&lt;li>&lt;code>\x&lt;/code> 匹配时是否忽略我们模式文本中的空白，在编写比较复杂规则时较为有用&lt;/li>
&lt;li>&lt;code>\s&lt;/code> 指定 &lt;code>.&lt;/code> 匹配字符时包含换行符&lt;/li>
&lt;li>&lt;code>\u&lt;/code> 匹配unicode字符，如中文&lt;/li>
&lt;li>&lt;code>\a&lt;/code> 仅匹配ascii字符&lt;/li>
&lt;/ul>
&lt;h1 id="实用案例">实用案例
&lt;/h1>&lt;p>针对下面这段文本：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">用户注册信息如下：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">联系电话：+86 138-0013-8000（北京） / 400-800-8888（全国客服）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">电子邮箱：support@example.com / service@sub.domain.org.cn / user.name+tag+sorting@example.co.uk
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">网站链接：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">https://www.example.com/page1.html?query=123&amp;amp;sort=desc#section2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">http://sub.example.co.jp:8080/admin/dashboard
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ftp://ftp.example.org/upload.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">产品序列号：SKU-20240309-001234（生产日期：2024-03-09）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INV-2023-Winter-Sale-0456（有效期至：2024-01-31）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">活动时间：2024年第一季度（2024-01-01 至 2024-03-31）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">特殊字符测试：!@#$%^&amp;amp;*()_+-=[]{}|;&amp;#39;:&amp;#34;,./&amp;lt;&amp;gt;?`~
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">测试用密码：Password123!@#（正确） / password123（错误） / Passw0rd!（错误）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">日志条目：ERROR[2024-03-09T15:40:22+08:00] 用户登录失败
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">IP地址记录：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">192.168.1.1 / 203.0.113.255 / ::1 / IPv6-Test-Address::FFFFF:1234
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="匹配完整url含协议域名端口路径">匹配完整URL（含协议、域名、端口、路径）
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">^(https?:\/\/)([\w\-\.]+\.[a-z]{2,6})(:[0-9]{1,5})?(\/\S*)?$
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>匹配结果：&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309.png"
width="1569"
height="994"
srcset="https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309_hu_734382e546f0c7e2.png 480w, https://chengxiaqiucao.github.io/post/058-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/Pasted-20250309_hu_7095757f980ba1ee.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="157"
data-flex-basis="378px"
>&lt;/p>
&lt;h2 id="提取电话号码">提取电话号码
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">\b(\+?\d{2,3})[-\s]+?(?:\d{3,4}[- ]?)+
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>说明：首先&lt;code>\b&lt;/code>匹配单词边界，用分组提取国家码（2-3位，兼容有&lt;code>+&lt;/code>情况），跟&lt;code>-&lt;/code>或空格，惰性模式，再匹配3-4个数字和&lt;code>-&lt;/code>连续多次出现的情况&lt;/p>
&lt;p>&lt;strong>匹配结果&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>&lt;code>+86 138-0013-8000&lt;/code>&lt;/li>
&lt;li>&lt;code>400-800-8888&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="验证电子邮箱地址">验证电子邮箱地址
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[-.\w]+@[-.\w]+\.[-.\w]+\b
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>匹配结果&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>&lt;code>support@example.com&lt;/code>&lt;/li>
&lt;li>&lt;code>service@sub.domain.org.cn&lt;/code>&lt;/li>
&lt;li>&lt;code>sorting@example.co.uk&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="捕获产品序列号包含日期和唯一编码">捕获产品序列号（包含日期和唯一编码）
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">SKU-\d{8}-\d{6}|INV-\d{4}[-A-Za-z]+-\d{4}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>匹配结果&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>&lt;code>SKU-20240309-001234&lt;/code>&lt;/li>
&lt;li>&lt;code>INV-2023-Winter-Sale-0456&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="匹配中文">匹配中文
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[\u4e00-\u9fa5]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="解析日志条目中的时间戳">解析日志条目中的时间戳
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ERROR\[(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}[+-]\d{2}:\d{2})\]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>分组提取结果&lt;/strong>：
&lt;code>2024-03-09T15:40:22+08:00&lt;/code>&lt;/p>
&lt;h2 id="提取ip地址">提取IP地址
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">(?:\d{1,3}\.){3}\d{1,3}|(?:(?:[A-Fa-f0-9]{1,4}:){7}[A-Fa-f0-9]{1,4})
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>匹配结果&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>192.168.1.1&lt;/li>
&lt;li>203.0.113.255&lt;/li>
&lt;/ul>
&lt;h1 id="结语">结语
&lt;/h1>&lt;p>以上就是针对正则表达式的相关总结和部分案例演示。更多关于测试技能系统提升的学习可关注我的课程，回复 &lt;code>大纲&lt;/code> 获取详细目录。&lt;/p></description></item><item><title>批处理脚本之For命令</title><link>https://chengxiaqiucao.github.io/post/063-%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC%E4%B9%8Bfor%E5%91%BD%E4%BB%A4/</link><pubDate>Sat, 01 Mar 2025 15:13:59 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/063-%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC%E4%B9%8Bfor%E5%91%BD%E4%BB%A4/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/063-%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC%E4%B9%8Bfor%E5%91%BD%E4%BB%A4/%E6%89%B9%E5%A4%84%E7%90%86For%E5%91%BD%E4%BB%A4_%E5%85%AC%E4%BC%97%E5%8F%B7.jpg" alt="Featured image of post 批处理脚本之For命令" />&lt;h2 id="前言">前言
&lt;/h2>&lt;p>在我们工作中，如果使用Windows系统，善用批处理命令，特别是在批量的文件处理，文本处理时能帮助我们极大地提升工作效率，起到事半功倍的效果！&lt;/p>
&lt;p>但很多同学，对批处理的使用更多还停留在可以将多个command命令组合到一起执行，省去重复敲命令和等待的时间。这个其实只是批处理脚本最基本的使用方法&lt;/p>
&lt;p>但要充分发挥批处理的作用，批处理脚本中的 &lt;code>for&lt;/code> 命令其实才是核心，它作为一个兼顾循环处理，和文本列处理的命令工具，在提升批处理脚本效率方面，无出其右！&lt;/p>
&lt;p>但 for 命令的使用，相对比较复杂，很多同学可能并未很好掌握，所以本文，我们带来关于批处理中这个核心命令的系统介绍&lt;/p>
&lt;blockquote>
&lt;p>文中还有一个秋草发现的彩蛋，微软竟然有一个官方陈年Bug一直没有修 😂😂😂&lt;/p>&lt;/blockquote>
&lt;h2 id="for-命令介绍">For 命令介绍
&lt;/h2>&lt;p>下面我们就来详细介绍这个 windows 批处理中的重磅命令&lt;/p>
&lt;h3 id="基础语法">&lt;strong>基础语法&lt;/strong>
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-batch" data-lang="batch">&lt;span class="line">&lt;span class="cl">&lt;span class="k">FOR&lt;/span> %variable &lt;span class="k">IN&lt;/span> &lt;span class="p">(&lt;/span>set&lt;span class="p">)&lt;/span> &lt;span class="k">DO&lt;/span> command [command-parameters]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;strong>%variable&lt;/strong>: for循环变量，批处理脚本中需用 &lt;code>%%&lt;/code>，命令行直接执行用 &lt;code>%&lt;/code>&lt;/li>
&lt;li>(&lt;strong>set)&lt;/strong>： 可以是文件、目录、字符串或命令输出。。&lt;/li>
&lt;li>&lt;strong>command&lt;/strong>： 指定对每组循环执行的命令。&lt;/li>
&lt;li>&lt;strong>command-parameters&lt;/strong>： 控制循环行为（如 &lt;code>/R&lt;/code>, &lt;code>/D&lt;/code>, &lt;code>/L&lt;/code>, &lt;code>/F&lt;/code> 等）&lt;/li>
&lt;/ul>
&lt;p>如遍历集合:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-batch" data-lang="batch">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">echo&lt;/span> off
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="se">%%&lt;/span>a &lt;span class="k">in&lt;/span> &lt;span class="p">(&lt;/span>苹果 香蕉 &lt;span class="s2">&amp;#34;西瓜 芒果&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">do&lt;/span> &lt;span class="k">echo&lt;/span> 水果：&lt;span class="se">%%&lt;/span>a
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>输出&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">水果：苹果
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">水果：香蕉
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">水果：&amp;#34;西瓜 芒果&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;strong>说明&lt;/strong>：默认按空格分隔元素，带引号的字符串视为整体。&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="-r参数递归遍历文件">** &lt;code>/R&lt;/code>参数：递归遍历文件**
&lt;/h3>&lt;p>这个参数，用于递归遍历目录及其子目录中的文件。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-batch" data-lang="batch">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">echo&lt;/span> off
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> /R &lt;span class="s2">&amp;#34;C:\Chengxiaqiucao&amp;#34;&lt;/span> &lt;span class="se">%%&lt;/span>a &lt;span class="k">in&lt;/span> &lt;span class="p">(&lt;/span>*.txt&lt;span class="p">)&lt;/span> &lt;span class="k">do&lt;/span> &lt;span class="k">echo&lt;/span> 找到文件：&lt;span class="se">%%&lt;/span>a
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>功能&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>遍历 &lt;code>C:\Chengxiaqiucao&lt;/code> 及其子目录下的所有 &lt;code>.txt&lt;/code> 文件。&lt;/li>
&lt;li>&lt;code>%%a&lt;/code> 会包含完整文件路径（如 &lt;code>C:\Chengxiaqiucao\test\file.txt&lt;/code>）。&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="d">&lt;strong>&lt;code>/D&lt;/code>：处理目录&lt;/strong>
&lt;/h3>&lt;p>这个参数会仅遍历目录（不处理文件）。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-batch" data-lang="batch">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">echo&lt;/span> off
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> /D &lt;span class="se">%%&lt;/span>a &lt;span class="k">in&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;C:\*&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">do&lt;/span> &lt;span class="k">echo&lt;/span> 目录：&lt;span class="se">%%&lt;/span>a
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>功能&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>列出 &lt;code>C:\&lt;/code> 下的所有一级目录（如 &lt;code>Program Files&lt;/code>, &lt;code>Users&lt;/code> 等）。&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h4 id="4">&lt;strong>4. &lt;code>/L&lt;/code>：生成数字序列&lt;/strong>
&lt;/h4>&lt;p>这个参数和我们编程时控制循环次数比较类似。&lt;/p>
&lt;p>&lt;strong>语法&lt;/strong>：&lt;code>for /L %%a in (起始, 步长, 结束)&lt;/code>&lt;/p>
&lt;p>如下例生成等差数列：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-batch" data-lang="batch">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">echo&lt;/span> off
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="k">/L&lt;/span> &lt;span class="se">%%&lt;/span>a &lt;span class="k">in&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>, &lt;span class="mi">2&lt;/span>, &lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">do&lt;/span> &lt;span class="k">echo&lt;/span> 当前数字：&lt;span class="se">%%&lt;/span>a
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>输出&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">当前数字：1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">当前数字：3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">当前数字：5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">当前数字：7
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">当前数字：9
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="f">&lt;strong>&lt;code>/F&lt;/code>：高级文本解析（核心参数）&lt;/strong>
&lt;/h3>&lt;p>这个参数可以说是 For 命令最核心的参数，For命令大展身手，大部分情况下都是这个参数的功劳。&lt;/p>
&lt;p>这个参数主要用于逐行解析文本、字符串或命令输出，并支持复杂规则。&lt;/p>
&lt;h5 id="语法">&lt;strong>语法&lt;/strong>：
&lt;/h5>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-batch" data-lang="batch">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="k">/F&lt;/span> [&lt;span class="s2">&amp;#34;选项&amp;#34;&lt;/span>] &lt;span class="se">%%&lt;/span>a &lt;span class="k">in&lt;/span> &lt;span class="p">(&lt;/span>数据源&lt;span class="p">)&lt;/span> &lt;span class="k">do&lt;/span> 命令
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;strong>数据源&lt;/strong>：文件、字符串或命令输出（用反引号 &lt;code>`&lt;/code> 包裹）。&lt;/li>
&lt;li>&lt;strong>选项&lt;/strong>：&lt;code>delims&lt;/code>, &lt;code>tokens&lt;/code>, &lt;code>skip&lt;/code>, &lt;code>eol&lt;/code>, &lt;code>usebackq&lt;/code> 等。&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h4 id="f-1">&lt;strong>&lt;code>/F&lt;/code> 的常用选项&lt;/strong>
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>选项&lt;/th>
&lt;th>作用&lt;/th>
&lt;th>示例&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>delims=xyz&lt;/code>&lt;/td>
&lt;td>定义分隔符（默认空格/制表符）&lt;/td>
&lt;td>&lt;code>delims=,&lt;/code> 按逗号分割&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tokens=n&lt;/code>&lt;/td>
&lt;td>提取第n列（多列用逗号分隔，如 &lt;code>1,3&lt;/code>）&lt;/td>
&lt;td>&lt;code>tokens=2&lt;/code> 提取第二列&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>skip=n&lt;/code>&lt;/td>
&lt;td>跳过前n行&lt;/td>
&lt;td>&lt;code>skip=2&lt;/code> 跳过前两行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>eol=;&lt;/code>&lt;/td>
&lt;td>定义行注释符（默认 &lt;code>;&lt;/code>）&lt;/td>
&lt;td>&lt;code>eol=#&lt;/code> 忽略以 &lt;code>#&lt;/code> 开头的行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>usebackq&lt;/code>&lt;/td>
&lt;td>改变数据源引用方式（见下文）&lt;/td>
&lt;td>处理带空格路径或命令输出&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;h4 id="usebackq">&lt;strong>&lt;code>usebackq&lt;/code> 的作用&lt;/strong>
&lt;/h4>&lt;h5 id="此处有彩蛋官方文档中的bug">此处有彩蛋：官方文档中的Bug
&lt;/h5>&lt;p>在windows的中文官方帮助中，对 &lt;code>-F&lt;/code> 参数的说明，其实是错误的&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/063-%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC%E4%B9%8Bfor%E5%91%BD%E4%BB%A4/Pasted-20250303.png"
width="1134"
height="927"
srcset="https://chengxiaqiucao.github.io/post/063-%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC%E4%B9%8Bfor%E5%91%BD%E4%BB%A4/Pasted-20250303_hu_69c28a787679498a.png 480w, https://chengxiaqiucao.github.io/post/063-%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC%E4%B9%8Bfor%E5%91%BD%E4%BB%A4/Pasted-20250303_hu_6b054e8443412a20.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="122"
data-flex-basis="293px"
>&lt;/p>
&lt;p>可以看到，这里对使用 &lt;code>usebackq&lt;/code> 的介绍和不使用该参数完全一样，而且，这里中文翻译的非常拗口，很难理解什么意思&lt;/p>
&lt;p>不过，我们通过 &lt;code>chcp 65001&lt;/code> 命令将命令行代码页切换至utf8，这时查看帮助会显示英文帮助&lt;/p>
&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/063-%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC%E4%B9%8Bfor%E5%91%BD%E4%BB%A4/Pasted-20250303-1.png"
width="882"
height="1016"
srcset="https://chengxiaqiucao.github.io/post/063-%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC%E4%B9%8Bfor%E5%91%BD%E4%BB%A4/Pasted-20250303-1_hu_58dff411620f63af.png 480w, https://chengxiaqiucao.github.io/post/063-%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC%E4%B9%8Bfor%E5%91%BD%E4%BB%A4/Pasted-20250303-1_hu_70197c22987e192e.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="86"
data-flex-basis="208px"
>&lt;/p>
&lt;p>可以看到，理解起来就清晰多了， &lt;code>usebackq&lt;/code>解决以下场景的问题：&lt;/p>
&lt;ol>
&lt;li>&lt;strong>处理带空格的文件路径&lt;/strong>：用双引号引用文件名。&lt;/li>
&lt;li>&lt;strong>执行命令并解析输出&lt;/strong>：用反引号 &lt;code>`&lt;/code> 引用系统命令。&lt;/li>
&lt;li>&lt;strong>直接解析字符串&lt;/strong>：用单引号 &lt;code>'&lt;/code> 引用字符串。&lt;/li>
&lt;/ol>
&lt;h5 id="案例一">&lt;strong>案例一&lt;/strong>：
&lt;/h5>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-batch" data-lang="batch">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">echo&lt;/span> off
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="k">/F&lt;/span> &lt;span class="s2">&amp;#34;usebackq delims=&amp;#34;&lt;/span> &lt;span class="se">%%&lt;/span>a &lt;span class="k">in&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;C:\My Files\data.txt&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">do&lt;/span> &lt;span class="k">echo&lt;/span> &lt;span class="se">%%&lt;/span>a
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>若不使用 &lt;code>usebackq&lt;/code>，路径中的空格会导致解析错误。&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h5 id="-案例二">** 案例二**
&lt;/h5>&lt;p>解析 &lt;code>data.csv&lt;/code>（格式：&lt;code>姓名,年龄,城市&lt;/code>），跳过标题行，提取姓名和城市。&lt;/p>
&lt;p>&lt;strong>输入文件 &lt;code>data.csv&lt;/code>&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">姓名,年龄,城市
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">张三,25,北京
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">李四,30,上海
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>批处理：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-batch" data-lang="batch">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">echo&lt;/span> off
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="k">/F&lt;/span> &lt;span class="s2">&amp;#34;usebackq skip=1 delims=, tokens=1,3&amp;#34;&lt;/span> &lt;span class="se">%%&lt;/span>a &lt;span class="k">in&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;data.csv&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">do&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">echo&lt;/span> 姓名：&lt;span class="se">%%&lt;/span>a，城市：&lt;span class="se">%%&lt;/span>b
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>输出&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">姓名：张三，城市：北京
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">姓名：李四，城市：上海
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="应用场景总结">&lt;strong>应用场景总结&lt;/strong>
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>参数&lt;/th>
&lt;th>适用场景&lt;/th>
&lt;th>典型命令示例&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>无参数&lt;/td>
&lt;td>遍历简单文件或字符串列表&lt;/td>
&lt;td>&lt;code>for %%a in (*.txt) do echo %%a&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>/R&lt;/code>&lt;/td>
&lt;td>递归处理目录下的文件&lt;/td>
&lt;td>&lt;code>for /R %%a in (*.log) do del %%a&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>/D&lt;/code>&lt;/td>
&lt;td>仅处理目录&lt;/td>
&lt;td>&lt;code>for /D %%a in (C:\*) do echo %%a&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>/L&lt;/code>&lt;/td>
&lt;td>生成数字序列（如循环固定次数）&lt;/td>
&lt;td>&lt;code>for /L %%a in (1,1,5) do echo %%a&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>/F&lt;/code>&lt;/td>
&lt;td>解析文本文件、命令输出或复杂字符串&lt;/td>
&lt;td>&lt;code>for /F &amp;quot;tokens=2&amp;quot; %%a in (data.txt)&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>所以通过掌握For命令的这些参数和技巧，完全可以让它成为批处理脚本中处理文件、文本和系统任务的“瑞士军刀”。&lt;/p>
&lt;hr></description></item><item><title>测试工程师进阶必学 - Linux三剑客（grep）</title><link>https://chengxiaqiucao.github.io/post/060-linux%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E4%B8%89%E5%89%91%E5%AE%A2-grep/</link><pubDate>Thu, 20 Feb 2025 14:02:28 +0800</pubDate><guid>https://chengxiaqiucao.github.io/post/060-linux%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E4%B8%89%E5%89%91%E5%AE%A2-grep/</guid><description>&lt;img src="https://chengxiaqiucao.github.io/post/060-linux%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E4%B8%89%E5%89%91%E5%AE%A2-grep/Pasted-20250310.png" alt="Featured image of post 测试工程师进阶必学 - Linux三剑客（grep）" />&lt;p>&lt;img src="https://chengxiaqiucao.github.io/post/060-linux%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E4%B8%89%E5%89%91%E5%AE%A2-grep/Pasted-20250310.png"
width="1379"
height="583"
srcset="https://chengxiaqiucao.github.io/post/060-linux%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E4%B8%89%E5%89%91%E5%AE%A2-grep/Pasted-20250310_hu_5f3d8e3ae753f3ae.png 480w, https://chengxiaqiucao.github.io/post/060-linux%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E4%B8%89%E5%89%91%E5%AE%A2-grep/Pasted-20250310_hu_a3750a6d12eb971d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="236"
data-flex-basis="567px"
>&lt;/p>
&lt;h1 id="前言">前言
&lt;/h1>&lt;p>&lt;code>grep&lt;/code> 是 Linux 三剑客（&lt;code>grep&lt;/code>, &lt;code>sed&lt;/code>, &lt;code>awk&lt;/code>）之一，用于在文件中搜索特定的文本模式。它不仅功能强大，而且非常灵活，能够处理各种文本搜索需求。下文我们梳理 &lt;code>grep&lt;/code> 命令的详细用法及进阶示例。&lt;/p>
&lt;h1 id="基本用法">基本用法
&lt;/h1>&lt;h2 id="基本搜索">基本搜索
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep &lt;span class="s2">&amp;#34;pattern&amp;#34;&lt;/span> filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>用于在 &lt;code>filename&lt;/code> 文件中搜索包含 &lt;code>pattern&lt;/code> 的行，并打印出来。&lt;/p>
&lt;h2 id="忽略大小写">忽略大小写
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep -i &lt;span class="s2">&amp;#34;pattern&amp;#34;&lt;/span> filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用 &lt;code>-i&lt;/code> 选项忽略大小写。&lt;/p>
&lt;h2 id="递归搜索">递归搜索
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep -r &lt;span class="s2">&amp;#34;pattern&amp;#34;&lt;/span> directory
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在 &lt;code>directory&lt;/code> 目录及其子目录中递归搜索包含 &lt;code>pattern&lt;/code> 的文件内容。&lt;/p>
&lt;h2 id="显示行号">显示行号
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep -n &lt;span class="s2">&amp;#34;pattern&amp;#34;&lt;/span> filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用 &lt;code>-n&lt;/code> 选项显示匹配行的行号。&lt;/p>
&lt;h2 id="反向搜索显示不匹配的行">反向搜索（显示不匹配的行）
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep -v &lt;span class="s2">&amp;#34;pattern&amp;#34;&lt;/span> filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用 &lt;code>-v&lt;/code> 选项显示不包含 &lt;code>pattern&lt;/code> 的行。&lt;/p>
&lt;h2 id="显示文件名">显示文件名
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep &lt;span class="s2">&amp;#34;pattern&amp;#34;&lt;/span> file1 file2 file3
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>当搜索多个文件时，默认会显示匹配的文件名。使用 &lt;code>-H&lt;/code> 可以强制显示文件名，使用 &lt;code>-h&lt;/code> 可以隐藏文件名。&lt;/p>
&lt;h1 id="进阶用法">进阶用法
&lt;/h1>&lt;h2 id="使用正则表达式">使用正则表达式
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep -E &lt;span class="s2">&amp;#34;pattern1|pattern2&amp;#34;&lt;/span> filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用 &lt;code>-E&lt;/code> 选项支持扩展正则表达式，例如 &lt;code>|&lt;/code> 表示或操作。&lt;/p>
&lt;h2 id="计数匹配的行数">计数匹配的行数
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep -c &lt;span class="s2">&amp;#34;pattern&amp;#34;&lt;/span> filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用 &lt;code>-c&lt;/code> 选项统计匹配的行数。&lt;/p>
&lt;h2 id="只显示匹配的部分">只显示匹配的部分
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep -o &lt;span class="s2">&amp;#34;pattern&amp;#34;&lt;/span> filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用 &lt;code>-o&lt;/code> 选项只显示匹配的部分，而不是整行内容。&lt;/p>
&lt;h2 id="前后行显示">前后行显示
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep -A &lt;span class="m">3&lt;/span> &lt;span class="s2">&amp;#34;pattern&amp;#34;&lt;/span> filename &lt;span class="c1"># 显示匹配行及其后3行&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">grep -B &lt;span class="m">3&lt;/span> &lt;span class="s2">&amp;#34;pattern&amp;#34;&lt;/span> filename &lt;span class="c1"># 显示匹配行及其前3行&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">grep -C &lt;span class="m">3&lt;/span> &lt;span class="s2">&amp;#34;pattern&amp;#34;&lt;/span> filename &lt;span class="c1"># 显示匹配行及其前后各3行&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>-A&lt;/code>, &lt;code>-B&lt;/code>, &lt;code>-C&lt;/code> 选项分别用于显示匹配行之后、之前或前后的指定行数。&lt;/p>
&lt;h2 id="从标准输入读取数据">从标准输入读取数据
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;some text&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> grep &lt;span class="s2">&amp;#34;pattern&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>grep&lt;/code> 可以从标准输入读取数据，这在管道操作中非常有用。&lt;/p>
&lt;h2 id="使用固定字符串搜索提高性能">使用固定字符串搜索（提高性能）
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep -F &lt;span class="s2">&amp;#34;fixed_string&amp;#34;&lt;/span> filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用 &lt;code>-F&lt;/code> 选项将 &lt;code>pattern&lt;/code> 视为固定字符串而非正则表达式，可以提高搜索性能。&lt;/p>
&lt;h2 id="排除文件">排除文件
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep -r --exclude&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;*.log&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;pattern&amp;#34;&lt;/span> directory
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用 &lt;code>--exclude&lt;/code> 选项排除特定类型的文件。&lt;/p>
&lt;h2 id="使用-perl-兼容正则表达式">使用 Perl 兼容正则表达式
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep -P &lt;span class="s2">&amp;#34;\d+&amp;#34;&lt;/span> filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用 &lt;code>-P&lt;/code> 选项启用 Perl 兼容正则表达式，例如 &lt;code>\d+&lt;/code> 表示一个或多个数字。&lt;/p>
&lt;h2 id="零宽断言">零宽断言
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep -P &lt;span class="s1">&amp;#39;(?&amp;lt;=foo)bar&amp;#39;&lt;/span> filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用 Perl 兼容正则表达式支持零宽断言，例如 &lt;code>(?&amp;lt;=foo)bar&lt;/code> 匹配前面是 &lt;code>foo&lt;/code> 的 &lt;code>bar&lt;/code>。&lt;/p>
&lt;h1 id="组合使用示例">组合使用示例
&lt;/h1>&lt;h2 id="查找特定目录中的特定类型文件并搜索内容">查找特定目录中的特定类型文件并搜索内容
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep -r --include&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;*.py&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;import&amp;#34;&lt;/span> /path/to/directory
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在 &lt;code>/path/to/directory&lt;/code> 目录中递归搜索所有 &lt;code>.py&lt;/code> 文件，查找包含 &lt;code>import&lt;/code> 的行。&lt;/p>
&lt;h2 id="查找并显示匹配行及其前后两行">查找并显示匹配行及其前后两行
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep -C &lt;span class="m">2&lt;/span> &lt;span class="s2">&amp;#34;error&amp;#34;&lt;/span> /var/log/syslog
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在 &lt;code>/var/log/syslog&lt;/code> 文件中查找包含 &lt;code>error&lt;/code> 的行，并显示其前后两行。&lt;/p>
&lt;h2 id="统计包含特定单词的文件数量">统计包含特定单词的文件数量
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep -rl &lt;span class="s2">&amp;#34;word&amp;#34;&lt;/span> /path/to/directory &lt;span class="p">|&lt;/span> wc -l
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在 &lt;code>/path/to/directory&lt;/code> 目录中递归搜索包含 &lt;code>word&lt;/code> 的文件，并统计文件数量。&lt;/p>
&lt;h2 id="结语">结语
&lt;/h2>&lt;p>通过这些示例，可以体会到 &lt;code>grep&lt;/code> 的强大能力和灵活性，也让它成为Linux中最实用的文本处理工具之一。&lt;/p></description></item></channel></rss>